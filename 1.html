<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>–û–∂–∏–≤—à–∏–π –ö–æ–º–ø—å—é—Ç–µ—Ä</title>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  background: #1a1a1a;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  font-family: "Tahoma", "Segoe UI", sans-serif;
  user-select: none;
}

/* === MONITOR === */
.monitor-frame {
  background: linear-gradient(145deg, #e8e8e8, #c8c8c8);
  border-radius: 24px;
  padding: 18px;
  box-shadow: inset 0 0 20px rgba(0,0,0,0.15), 0 0 50px rgba(0,0,0,0.5), 0 20px 40px rgba(0,0,0,0.4);
  position: relative;
}
.monitor-label {
  position: absolute;
  bottom: 5px;
  left: 50%;
  transform: translateX(-50%);
  color: #999;
  font-weight: bold;
  letter-spacing: 3px;
  font-size: 10px;
}
.power-led {
  position: absolute;
  bottom: 5px;
  right: 30px;
  width: 8px;
  height: 8px;
  background: #4ade80;
  border-radius: 50%;
  box-shadow: 0 0 6px #4ade80;
  transition: background 0.3s;
}
.power-led.off { background: #333; box-shadow: none; }

.screen-container {
  position: relative;
  width: 1024px;
  height: 768px;
  max-width: 90vw;
  max-height: 78vh;
  border-radius: 10px;
  overflow: hidden;
  background: #000;
  box-shadow: inset 0 0 80px rgba(0,0,0,0.6);
}

/* CRT effect */
.crt-overlay {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  pointer-events: none;
  z-index: 100;
  background:
    linear-gradient(rgba(18,16,16,0) 50%, rgba(0,0,0,0.15) 50%),
    linear-gradient(90deg, rgba(255,0,0,0.03), rgba(0,255,0,0.01), rgba(0,0,255,0.03));
  background-size: 100% 2px, 3px 100%;
  box-shadow: inset 0 0 80px rgba(0,0,0,0.6);
  border-radius: 10px;
}

/* === DESKTOP === */
#desktop {
  width: 100%;
  height: 100%;
  position: relative;
  background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuBu-FQPleS9vPO-ubP_uYZMzCo1E9O4jDMOoqv2jtpZ39cbP02VH_oLn2GlKUJpho5eyTgIaGOwpeNVbiCQyWmyNoBDG4KpbIHPu9MyxA22l1XaowLERlpyTEwcc1vw92gJICwi9BTN5RlLPRxe595Uw4driWdIomxYbD61OyvWlgo0BthV2t7iShTFwDYTdcspV2GUhPL1No7iqhzawF_2AHzizYCBXIbABaFt6FXsbzjAmIAchxm9NS3xp_6xz9yZW04CokUgrA');
  background-size: cover;
  background-position: center;
  display: flex;
  flex-direction: column;
}
#desktop.dirty {
  filter: sepia(0.15) brightness(0.92);
}

/* === PROGRESSIVE DAMAGE === */
#damage-overlay {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: calc(100% - 36px);
  pointer-events: none;
  z-index: 5;
  transition: opacity 0.5s;
  opacity: 0;
}
/* Cracks */
.crack {
  position: absolute;
  background: rgba(0,0,0,0.6);
  transform-origin: center;
  opacity: 0;
  transition: opacity 0.8s;
  box-shadow: 0 0 2px rgba(255,255,255,0.3);
}
.crack.visible { opacity: 1; }
.crack-1 { width: 2px; height: 120px; top: 10%; left: 65%; transform: rotate(25deg); }
.crack-2 { width: 1px; height: 80px; top: 5%; left: 66%; transform: rotate(-15deg); }
.crack-3 { width: 2px; height: 150px; top: 30%; right: 20%; transform: rotate(-35deg); }
.crack-4 { width: 1px; height: 60px; top: 32%; right: 19%; transform: rotate(50deg); }
.crack-5 { width: 2px; height: 100px; bottom: 20%; left: 30%; transform: rotate(15deg); }
.crack-6 { width: 1px; height: 70px; bottom: 18%; left: 31%; transform: rotate(-40deg); }
.crack-7 { width: 3px; height: 200px; top: 15%; left: 40%; transform: rotate(-20deg); }
.crack-8 { width: 1px; height: 90px; top: 60%; right: 35%; transform: rotate(30deg); }

/* Glitch band */
#glitch-band {
  position: absolute;
  left: 0;
  width: 100%;
  height: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(255,0,0,0.08) 2px,
    rgba(0,255,255,0.06) 4px
  );
  pointer-events: none;
  z-index: 6;
  opacity: 0;
  mix-blend-mode: screen;
}

/* Static noise overlay */
#static-overlay {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: calc(100% - 36px);
  pointer-events: none;
  z-index: 7;
  opacity: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.5'/%3E%3C/svg%3E");
  mix-blend-mode: overlay;
}

/* Dead pixels */
.dead-pixel {
  position: absolute;
  pointer-events: none;
  z-index: 6;
  opacity: 0;
  transition: opacity 0.5s;
}
.dead-pixel.visible { opacity: 1; }

/* Screen shake */
@keyframes screenShake {
  0% { transform: translate(0, 0); }
  10% { transform: translate(-3px, 2px); }
  20% { transform: translate(2px, -2px); }
  30% { transform: translate(-1px, 3px); }
  40% { transform: translate(3px, -1px); }
  50% { transform: translate(-2px, -2px); }
  60% { transform: translate(2px, 1px); }
  70% { transform: translate(-3px, -1px); }
  80% { transform: translate(1px, 2px); }
  90% { transform: translate(-1px, -3px); }
  100% { transform: translate(0, 0); }
}
#desktop.shaking {
  animation: screenShake 0.3s ease-in-out;
}

/* Blue death tint */
#bsod-tint {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: calc(100% - 36px);
  background: rgba(0, 0, 180, 0.0);
  pointer-events: none;
  z-index: 4;
  transition: background 1s;
}

/* Glitch flicker at high chaos */
@keyframes glitchFlicker {
  0% { opacity: 1; }
  5% { opacity: 0.8; }
  5.5% { opacity: 1; }
  10% { opacity: 0.9; }
  10.5% { opacity: 1; }
  50% { opacity: 1; }
  50.5% { opacity: 0.7; transform: skewX(2deg); }
  51% { opacity: 1; transform: skewX(0); }
  100% { opacity: 1; }
}
#desktop.chaos-high {
  animation: glitchFlicker 2s ease-in-out infinite;
}

/* === GAME AREA === */
#game-area {
  flex: 1;
  position: relative;
  overflow: hidden;
}

/* === DESKTOP ICON === */
.desktop-icon {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  width: 70px;
  cursor: pointer;
  z-index: 10;
  transition: filter 0.15s;
}
.desktop-icon:hover { filter: brightness(1.15); }
.desktop-icon.caught { z-index: 50; }
.desktop-icon.stunned { filter: grayscale(0.5) brightness(0.8); }
.desktop-icon .icon-img {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}
.desktop-icon .icon-img .material-symbols-outlined {
  font-size: 36px;
  filter: drop-shadow(1px 1px 2px rgba(0,0,0,0.5));
}
.desktop-icon .icon-label {
  color: #fff;
  font-size: 11px;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.9);
  text-align: center;
  font-weight: 500;
  line-height: 1.2;
}

/* LEGS */
.icon-legs {
  display: none;
  position: absolute;
  bottom: -16px;
  left: 50%;
  transform: translateX(-50%);
  width: 24px;
  height: 16px;
}
.desktop-icon.alive .icon-legs { display: block; }
.leg {
  position: absolute;
  width: 3px;
  height: 14px;
  background: #333;
  bottom: 0;
  border-radius: 0 0 2px 2px;
  transform-origin: top center;
}
.leg-left { left: 5px; animation: walkL 0.25s ease-in-out infinite; }
.leg-right { right: 5px; animation: walkR 0.25s ease-in-out infinite; }
@keyframes walkL {
  0%, 100% { transform: rotate(-25deg); }
  50% { transform: rotate(25deg); }
}
@keyframes walkR {
  0%, 100% { transform: rotate(25deg); }
  50% { transform: rotate(-25deg); }
}

/* ARMS (for recovery) */
.icon-arms {
  display: none;
  position: absolute;
  top: 8px;
  left: 50%;
  transform: translateX(-50%);
  width: 56px;
  height: 20px;
}
.desktop-icon.repairing .icon-arms { display: block; }
.arm {
  position: absolute;
  width: 14px;
  height: 3px;
  background: #333;
  top: 8px;
  border-radius: 2px;
  transform-origin: center;
}
.arm-left { left: 0; animation: armWaveL 0.4s ease-in-out infinite; }
.arm-right { right: 0; animation: armWaveR 0.4s ease-in-out infinite; }
@keyframes armWaveL {
  0%, 100% { transform: rotate(-15deg) translateY(-2px); }
  50% { transform: rotate(15deg) translateY(2px); }
}
@keyframes armWaveR {
  0%, 100% { transform: rotate(15deg) translateY(-2px); }
  50% { transform: rotate(-15deg) translateY(2px); }
}

/* === COCKROACH === */
.cockroach {
  position: absolute;
  width: 16px;
  height: 10px;
  z-index: 8;
  cursor: pointer;
  transition: transform 0.05s;
}
.cockroach-body {
  width: 14px;
  height: 8px;
  background: #3d2b1f;
  border-radius: 50%;
  position: relative;
  margin: 1px auto;
  box-shadow: 0 1px 2px rgba(0,0,0,0.5);
}
.cockroach-body::before,
.cockroach-body::after {
  content: '';
  position: absolute;
  width: 1px;
  height: 6px;
  background: #2a1a0f;
  top: -3px;
}
.cockroach-body::before { left: 3px; transform: rotate(-30deg); }
.cockroach-body::after { right: 3px; transform: rotate(30deg); }
.cockroach-legs {
  position: absolute;
  top: 2px;
  left: 0;
  width: 100%;
  height: 100%;
}
.cockroach-leg {
  position: absolute;
  width: 5px;
  height: 1px;
  background: #2a1a0f;
}
.cockroach-leg:nth-child(1) { top: 1px; left: -2px; animation: clegL 0.15s linear infinite; }
.cockroach-leg:nth-child(2) { top: 4px; left: -3px; animation: clegR 0.15s linear infinite; }
.cockroach-leg:nth-child(3) { top: 7px; left: -2px; animation: clegL 0.15s linear infinite; }
.cockroach-leg:nth-child(4) { top: 1px; right: -2px; animation: clegR 0.15s linear infinite; }
.cockroach-leg:nth-child(5) { top: 4px; right: -3px; animation: clegL 0.15s linear infinite; }
.cockroach-leg:nth-child(6) { top: 7px; right: -2px; animation: clegR 0.15s linear infinite; }
@keyframes clegL { 0%,100% { transform: rotate(-20deg); } 50% { transform: rotate(20deg); } }
@keyframes clegR { 0%,100% { transform: rotate(20deg); } 50% { transform: rotate(-20deg); } }
.cockroach.squashed {
  transform: scale(1.3, 0.3) !important;
  opacity: 0.5;
  pointer-events: none;
  transition: all 0.2s;
}

/* === NOKIA === */
.nokia-phone {
  position: absolute;
  width: 36px;
  height: 60px;
  background: linear-gradient(135deg, #2a3a5c, #1a2a4c);
  border-radius: 8px 8px 12px 12px;
  border: 2px solid #0f1a2f;
  cursor: pointer;
  z-index: 10;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-top: 4px;
  box-shadow: 2px 2px 6px rgba(0,0,0,0.4);
}
.nokia-phone .nokia-screen {
  width: 24px;
  height: 18px;
  background: #9bbc0f;
  border-radius: 2px;
  border: 1px solid #0f1a2f;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 7px;
  font-weight: bold;
  color: #306230;
}
.nokia-phone .nokia-keys {
  margin-top: 3px;
  display: grid;
  grid-template-columns: repeat(3, 6px);
  gap: 1px;
}
.nokia-phone .nokia-key {
  width: 6px;
  height: 5px;
  background: #4a5a7c;
  border-radius: 1px;
}
.nokia-phone.broken {
  filter: sepia(0.8) brightness(0.6);
  animation: nokiaShake 0.5s ease-in-out infinite;
}
@keyframes nokiaShake {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(-2deg); }
  75% { transform: rotate(2deg); }
}
.nokia-health {
  position: absolute;
  bottom: -8px;
  left: 0;
  width: 100%;
  height: 4px;
  background: #600;
  border-radius: 2px;
}
.nokia-health-bar {
  height: 100%;
  background: #0f0;
  border-radius: 2px;
  transition: width 0.3s;
}

/* === HAMMER CURSOR === */
#game-area.hammer-mode { cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Crect x='14' y='2' width='8' height='12' rx='1' fill='%23888' stroke='%23333' stroke-width='1'/%3E%3Crect x='16' y='12' width='3' height='16' rx='1' fill='%23a0522d' stroke='%23333' stroke-width='0.5'/%3E%3C/svg%3E") 17 2, crosshair; }

/* === TASKBAR === */
#taskbar {
  height: 36px;
  background: linear-gradient(to bottom, #3168d5, #245DDA 40%, #1941a5);
  border-top: 1px solid #4480F8;
  display: flex;
  align-items: center;
  z-index: 60;
  position: relative;
}
#start-btn {
  height: 100%;
  padding: 0 14px 0 4px;
  display: flex;
  align-items: center;
  gap: 4px;
  cursor: pointer;
  background: linear-gradient(to bottom, #3C8C1D, #245D14);
  border: none;
  border-right: 1px solid #153E0A;
  border-radius: 0 10px 10px 0;
  color: #fff;
  font-weight: bold;
  font-size: 14px;
  font-style: italic;
  font-family: inherit;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.3);
}
#start-btn:hover { filter: brightness(1.1); }
#start-btn:active { filter: brightness(0.9); }
.start-orb {
  width: 22px;
  height: 22px;
  background: #fff;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}
.start-orb .material-symbols-outlined { font-size: 14px; color: #e63e22; }

#taskbar-middle {
  flex: 1;
  display: flex;
  align-items: center;
  padding: 2px 8px;
  gap: 6px;
  height: 100%;
}
.taskbar-item {
  height: 28px;
  padding: 0 10px;
  min-width: 120px;
  max-width: 160px;
  background: rgba(58,117,240,0.7);
  border: 1px solid rgba(27,70,168,0.8);
  border-radius: 3px;
  display: flex;
  align-items: center;
  gap: 4px;
  color: #fff;
  font-size: 11px;
  cursor: pointer;
  box-shadow: inset 1px 1px 0 rgba(255,255,255,0.2);
  overflow: hidden;
  white-space: nowrap;
}

/* Chaos bar */
#chaos-container {
  height: 28px;
  padding: 0 8px;
  display: flex;
  align-items: center;
  gap: 4px;
  min-width: 140px;
}
#chaos-label {
  color: #fff;
  font-size: 10px;
  white-space: nowrap;
}
#chaos-bar-outer {
  flex: 1;
  height: 12px;
  background: rgba(0,0,0,0.3);
  border-radius: 2px;
  border: 1px solid rgba(0,0,0,0.4);
  overflow: hidden;
}
#chaos-bar-inner {
  height: 100%;
  width: 0%;
  background: linear-gradient(to bottom, #0f0, #0a0);
  transition: width 0.3s, background 0.3s;
  border-radius: 1px;
}
#chaos-bar-inner.warn { background: linear-gradient(to bottom, #ff0, #cc0); }
#chaos-bar-inner.danger { background: linear-gradient(to bottom, #f00, #c00); }

#system-tray {
  height: 100%;
  background: rgba(13,154,255,0.5);
  padding: 0 10px;
  display: flex;
  align-items: center;
  gap: 8px;
  border-left: 1px solid rgba(16,58,143,0.8);
}
#money-display {
  color: #fff;
  font-size: 12px;
  font-weight: bold;
  text-shadow: 0 1px 2px rgba(0,0,0,0.5);
}
#hammer-btn {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 18px;
  padding: 2px 4px;
  border-radius: 3px;
  line-height: 1;
}
#hammer-btn:hover { background: rgba(255,255,255,0.2); }
#hammer-btn.active { background: rgba(255,255,0,0.3); box-shadow: 0 0 6px rgba(255,255,0,0.5); }
#clock {
  color: #fff;
  font-size: 11px;
}

/* === MODALS === */
.modal-overlay {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: calc(100% - 36px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 80;
  background: rgba(0,0,0,0.1);
}
.win-window {
  background: #ECE9D8;
  border: 2px solid;
  border-color: #fff #888 #888 #fff;
  box-shadow: 2px 2px 10px rgba(0,0,0,0.5);
  min-width: 320px;
}
.win-titlebar {
  height: 28px;
  background: linear-gradient(to right, #0054E3, #248AFF);
  padding: 0 4px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.win-titlebar span {
  color: #fff;
  font-size: 12px;
  font-weight: bold;
}
.win-close {
  width: 18px;
  height: 18px;
  background: #ECE9D8;
  border: 1px solid;
  border-color: #fff #666 #666 #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 12px;
  color: #000;
  line-height: 1;
}
.win-close:active { border-color: #666 #fff #fff #666; }
.win-body { padding: 16px; }
.win-btn {
  padding: 4px 20px;
  background: #ECE9D8;
  border: 2px solid;
  border-color: #fff #333 #333 #fff;
  cursor: pointer;
  font-size: 12px;
  font-family: inherit;
  min-width: 75px;
}
.win-btn:active { border-color: #333 #fff #fff #333; }
.win-btn:hover { background: #d4d0c8; }
.win-btn-primary {
  outline: 1px solid #000;
}

.hidden { display: none !important; }

/* === GARBAGE TRUCK === */
#garbage-truck {
  position: absolute;
  bottom: 50px;
  z-index: 70;
  transition: left 3s ease-in-out;
  font-size: 64px;
  filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5));
}

/* === STARTUP SCREEN === */
#startup-screen {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: #000;
  z-index: 90;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 20px;
}
#startup-screen .logo {
  font-size: 48px;
  color: #fff;
  text-shadow: 0 0 20px rgba(0,100,255,0.5);
}
#startup-screen .loading-bar-outer {
  width: 200px;
  height: 20px;
  background: #222;
  border: 1px solid #444;
  border-radius: 2px;
  overflow: hidden;
}
#startup-screen .loading-bar-inner {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, #0054E3, #248AFF, #0054E3);
  background-size: 200% 100%;
  animation: loadingShine 1s linear infinite;
  transition: width 2s ease-out;
}
@keyframes loadingShine {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}
#startup-screen .startup-text {
  color: #888;
  font-size: 12px;
}

/* === LEVEL TRANSITION === */
#level-screen {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: #000;
  z-index: 90;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  color: #fff;
}
#level-screen .level-logo { font-size: 64px; animation: levelBounce 0.6s ease-out; }
#level-screen .level-name { font-size: 28px; font-weight: bold; text-shadow: 0 0 20px rgba(0,120,255,0.5); }
#level-screen .level-sub { font-size: 14px; color: #aaa; }
#level-screen .level-num { font-size: 16px; color: #6af; margin-bottom: 8px; }
#level-screen .level-hint { font-size: 12px; color: #888; margin-top: 16px; }
@keyframes levelBounce {
  0% { transform: scale(0) rotate(-20deg); }
  60% { transform: scale(1.3) rotate(5deg); }
  100% { transform: scale(1) rotate(0deg); }
}
/* Level timer in taskbar */
#level-timer {
  color: #fff;
  font-size: 11px;
  font-weight: bold;
  padding: 2px 8px;
  background: rgba(0,0,0,0.3);
  border-radius: 3px;
  white-space: nowrap;
}
#level-timer.urgent {
  color: #f44;
  animation: timerBlink 0.5s ease-in-out infinite;
}
@keyframes timerBlink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}
/* Win screen */
#win-screen {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: linear-gradient(135deg, #0d0d2b 0%, #1a237e 30%, #0288d1 70%, #4fc3f7 100%);
  z-index: 90;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  color: #fff;
}
#win-screen .win-trophy { font-size: 80px; animation: levelBounce 0.8s ease-out; }
#win-screen .win-title { font-size: 32px; font-weight: bold; text-shadow: 0 0 30px rgba(255,215,0,0.6); }
#win-screen .win-sub { font-size: 16px; color: #ccc; }

/* === APP WINDOWS === */
#app-window {
  position: absolute;
  z-index: 80;
  min-width: 300px;
  max-width: 450px;
  transition: top 0.25s, left 0.25s, width 0.25s, max-width 0.25s, min-width 0.25s;
}
#app-window.app-maximized {
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  max-width: 100% !important;
  min-width: 100% !important;
  height: calc(100% - 36px) !important;
}
#app-window.app-maximized .win-body {
  max-height: calc(100vh - 200px) !important;
  height: calc(100% - 28px);
}
#app-window .win-body {
  max-height: 350px;
  overflow-y: auto;
  font-size: 12px;
  color: #000;
}
.win-titlebar-btns { display:flex; gap:2px; align-items:center; }
.win-maximize {
  width: 18px; height: 18px; background: #ECE9D8; border: 1px solid;
  border-color: #fff #666 #666 #fff; display:flex; align-items:center;
  justify-content:center; cursor:pointer; font-size:9px; color:#000; line-height:1;
}
.win-maximize:active { border-color: #666 #fff #fff #666; }
/* Chat styles */
.chat-contacts { display:flex; flex-direction:column; gap:0; }
.chat-contact { display:flex; align-items:center; gap:8px; padding:8px; cursor:pointer; border-bottom:1px solid #e0e0e0; transition:background 0.15s; }
.chat-contact:hover { background:#f0f0f0; }
.chat-contact-avatar { width:36px; height:36px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:20px; flex-shrink:0; }
.chat-contact-info { flex:1; min-width:0; }
.chat-contact-name { font-size:11px; font-weight:bold; color:#111; }
.chat-contact-last { font-size:10px; color:#888; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.chat-contact-badge { background:#25d366; color:#fff; font-size:9px; border-radius:50%; width:18px; height:18px; display:flex; align-items:center; justify-content:center; flex-shrink:0; }
.chat-header { display:flex; align-items:center; gap:8px; padding:6px 8px; background:#075e54; color:#fff; }
.chat-header-avatar { width:28px; height:28px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:16px; }
.chat-header-name { font-size:12px; font-weight:bold; }
.chat-header-status { font-size:9px; opacity:0.8; }
.chat-messages { flex:1; overflow-y:auto; padding:8px; background:#e5ddd5 url("data:image/svg+xml,%3Csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 5 L35 15 L30 12 L25 15Z' fill='%23d4cfc4' opacity='0.3'/%3E%3C/svg%3E"); display:flex; flex-direction:column; gap:4px; min-height:120px; max-height:200px; }
.chat-msg { max-width:80%; padding:4px 8px; border-radius:6px; font-size:11px; line-height:1.4; word-wrap:break-word; position:relative; }
.chat-msg-in { background:#fff; align-self:flex-start; border-top-left-radius:0; }
.chat-msg-out { background:#dcf8c6; align-self:flex-end; border-top-right-radius:0; }
.chat-msg-time { font-size:8px; color:#999; text-align:right; margin-top:1px; }
.chat-msg-name { font-size:9px; font-weight:bold; margin-bottom:1px; }
.chat-input-row { display:flex; gap:4px; padding:4px 6px; background:#f0f0f0; border-top:1px solid #ccc; align-items:center; }
.chat-input { flex:1; border:1px solid #ccc; border-radius:16px; padding:4px 10px; font-size:11px; outline:none; }
.chat-input:focus { border-color:#075e54; }
.chat-send-btn { background:#075e54; color:#fff; border:none; border-radius:50%; width:28px; height:28px; cursor:pointer; font-size:14px; display:flex; align-items:center; justify-content:center; }
.chat-send-btn:hover { background:#128c7e; }
.chat-emoji-btn { background:none; border:none; font-size:18px; cursor:pointer; padding:0 2px; }
.chat-emoji-picker { display:none; position:absolute; bottom:38px; left:4px; background:#fff; border:1px solid #ccc; border-radius:8px; padding:6px; box-shadow:0 2px 8px rgba(0,0,0,0.2); z-index:10; width:200px; flex-wrap:wrap; gap:2px; }
.chat-emoji-picker.open { display:flex; }
.chat-emoji-pick { cursor:pointer; font-size:18px; padding:2px; border-radius:4px; transition:background 0.1s; }
.chat-emoji-pick:hover { background:#e0e0e0; }
.chat-typing { font-size:10px; color:#999; font-style:italic; padding:0 8px 2px; min-height:14px; }
.app-row { display: flex; align-items: center; gap: 8px; padding: 4px 0; border-bottom: 1px solid #ddd; }
.app-row:last-child { border-bottom: none; }
.app-icon-sm { font-size: 18px; width: 24px; text-align: center; }
.app-bar { height: 14px; background: #3388ff; border-radius: 2px; transition: width 0.3s; }
.app-bar-bg { flex:1; height: 14px; background: #ddd; border-radius: 2px; overflow: hidden; }
.mini-canvas { width: 100%; height: 180px; background: #fff; border: 1px solid #999; cursor: crosshair; image-rendering: pixelated; }
.mini-textarea { width: 100%; height: 150px; border: 1px solid #999; padding: 4px; font-family: 'Courier New', monospace; font-size: 11px; resize: none; }
.fake-browser { background: #fff; border: 1px solid #999; padding: 0; }
.fake-url-bar { background: #f0f0f0; padding: 4px 8px; border-bottom: 1px solid #ccc; font-size: 10px; color: #666; display: flex; align-items: center; gap: 4px; }
.fake-url-bar input { flex:1; border: 1px solid #bbb; padding: 2px 4px; font-size: 10px; background: #fff; border-radius: 2px; }
.fake-page { padding: 8px; text-align: left; color: #333; }
.yt-header { display:flex; align-items:center; gap:6px; padding:4px 8px; background:#fff; border-bottom:1px solid #e0e0e0; }
.yt-logo { color:#f00; font-size:16px; font-weight:bold; }
.yt-search { flex:1; border:1px solid #ccc; border-radius:12px; padding:2px 8px; font-size:10px; background:#f8f8f8; }
.yt-shorts-row { display:flex; gap:6px; overflow-x:auto; padding:6px 0; }
.yt-short { width:80px; min-width:80px; cursor:pointer; transition:transform 0.15s; }
.yt-short:hover { transform:scale(1.05); }
.yt-short-thumb { width:80px; height:120px; border-radius:8px; display:flex; align-items:center; justify-content:center; font-size:32px; position:relative; overflow:hidden; }
.yt-short-thumb::after { content:''; position:absolute; bottom:0; left:0; right:0; height:40px; background:linear-gradient(transparent,rgba(0,0,0,0.6)); border-radius:0 0 8px 8px; }
.yt-short-title { font-size:9px; color:#333; margin-top:3px; line-height:1.2; overflow:hidden; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; }
.yt-short-views { font-size:8px; color:#999; }
.yt-video { display:flex; gap:6px; padding:5px 0; border-bottom:1px solid #eee; cursor:pointer; transition:background 0.15s; }
.yt-video:hover { background:#f0f0f0; }
.yt-video-thumb { width:100px; min-width:100px; height:60px; border-radius:6px; display:flex; align-items:center; justify-content:center; font-size:28px; position:relative; }
.yt-video-thumb .yt-play { position:absolute; width:24px; height:24px; background:rgba(0,0,0,0.7); border-radius:50%; display:flex; align-items:center; justify-content:center; color:#fff; font-size:10px; }
.yt-video-info { flex:1; min-width:0; }
.yt-video-title { font-size:11px; font-weight:bold; color:#030303; line-height:1.3; }
.yt-video-channel { font-size:9px; color:#666; margin-top:2px; }
.yt-video-stats { font-size:9px; color:#999; }
.yt-section-title { font-size:12px; font-weight:bold; color:#030303; margin:6px 0 2px; }
.yt-player { background:#000; width:100%; height:220px; border-radius:8px; display:flex; align-items:center; justify-content:center; flex-direction:column; color:#fff; margin-bottom:6px; position:relative; cursor:pointer; overflow:hidden; }
.yt-player canvas { position:absolute; top:0; left:0; width:100%; height:100%; border-radius:8px; }
.yt-player-overlay { position:absolute; top:4px; right:4px; width:auto; height:auto; z-index:2; pointer-events:none; text-align:right; }
.yt-player-emoji { font-size:24px; filter:drop-shadow(0 0 8px rgba(255,255,255,0.7)); transition:transform 0.3s; background:rgba(0,0,0,0.4); border-radius:6px; padding:2px 4px; }
.yt-player-emoji.yt-pop { animation:ytPop 0.4s ease-out; }
.yt-player-emoji.yt-shake { animation:ytShake 0.5s ease-out; }
.yt-player-emoji.yt-spin { animation:ytSpin 0.6s ease-out; }
.yt-player-emoji.yt-zoom { animation:ytZoom 0.5s ease-out; }
@keyframes ytPop { 0%{transform:scale(0);opacity:0} 50%{transform:scale(1.4)} 100%{transform:scale(1);opacity:1} }
@keyframes ytShake { 0%,100%{transform:translateX(0)} 20%{transform:translateX(-12px) rotate(-5deg)} 40%{transform:translateX(12px) rotate(5deg)} 60%{transform:translateX(-8px) rotate(-3deg)} 80%{transform:translateX(8px) rotate(3deg)} }
@keyframes ytSpin { 0%{transform:rotate(0deg) scale(0.5);opacity:0} 100%{transform:rotate(360deg) scale(1);opacity:1} }
@keyframes ytZoom { 0%{transform:scale(3);opacity:0} 100%{transform:scale(1);opacity:1} }
.yt-subtitle { position:absolute; bottom:20px; left:10%; right:10%; text-align:center; font-size:11px; color:#fff; background:rgba(0,0,0,0.7); padding:3px 8px; border-radius:4px; z-index:3; animation:ytFadeIn 0.3s; }
@keyframes ytFadeIn { 0%{opacity:0;transform:translateY(8px)} 100%{opacity:1;transform:translateY(0)} }
.yt-player-title { font-size:9px; text-align:right; z-index:2; color:#fff; text-shadow:0 0 4px #000; background:rgba(0,0,0,0.4); border-radius:4px; padding:1px 4px; margin-top:2px; max-width:140px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.yt-player-bar { position:absolute; bottom:0; left:0; height:3px; background:#f00; border-radius:0 0 8px 8px; z-index:4; }
.yt-views-live { position:absolute; top:6px; right:8px; font-size:9px; color:#f00; background:rgba(0,0,0,0.6); padding:1px 6px; border-radius:3px; z-index:3; animation:ytPulse 1s infinite; }
@keyframes ytPulse { 0%,100%{opacity:1} 50%{opacity:0.5} }
.ad-download-bar { width:100%; height:10px; background:#ddd; border-radius:4px; overflow:hidden; margin-top:4px; }
.ad-download-fill { height:100%; background:linear-gradient(90deg,#4a4,#8d8); border-radius:4px; animation:adFill 1.5s ease-in-out forwards; }
@keyframes adFill { 0%{width:0} 80%{width:95%} 100%{width:100%} }
/* Fleeing button */
.flee-btn {
  position: relative;
  transition: transform 0.08s ease-out;
}
.flee-btn.panicking {
  animation: btnPanic 0.3s ease-in-out;
}
@keyframes btnPanic {
  0% { transform: rotate(0); }
  25% { transform: rotate(-5deg) scale(0.95); }
  50% { transform: rotate(5deg) scale(1.05); }
  75% { transform: rotate(-3deg); }
  100% { transform: rotate(0); }
}
/* Document file item */
.doc-item { padding: 6px 8px; display: flex; align-items: center; gap: 6px; cursor: default; }
.doc-item:hover { background: #316AC5; color: #fff; }

/* === SHUTDOWN === */
#shutdown-screen {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: #000;
  z-index: 90;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: #fff;
  font-size: 24px;
}

/* === IMPACT EFFECT === */
.hammer-impact {
  position: absolute;
  width: 40px;
  height: 40px;
  border: 3px solid rgba(255,255,0,0.8);
  border-radius: 50%;
  pointer-events: none;
  animation: impactPulse 0.4s ease-out forwards;
  z-index: 90;
}
@keyframes impactPulse {
  0% { transform: scale(0.3); opacity: 1; }
  100% { transform: scale(2); opacity: 0; }
}

/* === SCORE POPUP === */
.score-popup {
  position: absolute;
  color: #ff0;
  font-size: 14px;
  font-weight: bold;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
  pointer-events: none;
  animation: floatUp 1s ease-out forwards;
  z-index: 90;
}
@keyframes floatUp {
  0% { opacity: 1; transform: translateY(0); }
  100% { opacity: 0; transform: translateY(-40px); }
}

/* Nokia cockroach overlay */
.nokia-roaches {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  pointer-events: none;
}
.nokia-roach {
  position: absolute;
  width: 6px; height: 4px;
  background: #3d2b1f;
  border-radius: 50%;
  animation: roachCrawl 0.8s ease-in-out infinite alternate;
}
@keyframes roachCrawl {
  0% { transform: translate(0, 0) rotate(0deg); }
  100% { transform: translate(3px, 2px) rotate(10deg); }
}

/* === –¢–ê–†–ê–ö–ê–ù–´ –í –û–ö–ù–ê–• === */
.window-roach {
  position: absolute;
  width: 14px;
  height: 9px;
  z-index: 100;
  cursor: pointer;
  transition: transform 0.05s;
}
.window-roach .cockroach-body {
  width: 12px;
  height: 7px;
  background: #3d2b1f;
  border-radius: 50%;
  position: relative;
  margin: 1px auto;
  box-shadow: 0 1px 2px rgba(0,0,0,0.5);
}
.window-roach .cockroach-body::before,
.window-roach .cockroach-body::after {
  content: '';
  position: absolute;
  width: 1px;
  height: 5px;
  background: #2a1a0f;
  top: -3px;
}
.window-roach .cockroach-body::before { left: 2px; transform: rotate(-30deg); }
.window-roach .cockroach-body::after { right: 2px; transform: rotate(30deg); }
.window-roach .cockroach-legs {
  position: absolute;
  top: 2px;
  left: 0;
  width: 100%;
  height: 100%;
}
.window-roach .cockroach-leg {
  position: absolute;
  width: 4px;
  height: 1px;
  background: #2a1a0f;
}
.window-roach .cockroach-leg:nth-child(1) { top: 0px; left: -1px; animation: clegL 0.12s linear infinite; }
.window-roach .cockroach-leg:nth-child(2) { top: 3px; left: -2px; animation: clegR 0.12s linear infinite; }
.window-roach .cockroach-leg:nth-child(3) { top: 6px; left: -1px; animation: clegL 0.12s linear infinite; }
.window-roach .cockroach-leg:nth-child(4) { top: 0px; right: -1px; animation: clegR 0.12s linear infinite; }
.window-roach .cockroach-leg:nth-child(5) { top: 3px; right: -2px; animation: clegL 0.12s linear infinite; }
.window-roach .cockroach-leg:nth-child(6) { top: 6px; right: -1px; animation: clegR 0.12s linear infinite; }
.window-roach.squashed {
  transform: scale(1.3, 0.3) !important;
  opacity: 0.5;
  pointer-events: none;
  transition: all 0.2s;
}
/* –ò–∫–æ–Ω–∫–∞ —Å —Ç–∞—Ä–∞–∫–∞–Ω–∞–º–∏ –≤–Ω—É—Ç—Ä–∏ ‚Äî —á—É—Ç—å —à–µ–≤–µ–ª–∏—Ç—Å—è */
.icon-infested {
  animation: iconInfested 0.4s ease-in-out infinite alternate;
}
@keyframes iconInfested {
  0% { transform: rotate(-1deg); }
  100% { transform: rotate(1deg); }
}

/* === HOLES IN BACKGROUND === */
.bg-hole {
  position: absolute;
  z-index: 3;
  cursor: pointer;
  pointer-events: auto;
}
.bg-hole-shape {
  width: 100%;
  height: 100%;
  position: relative;
  background: radial-gradient(ellipse at center, #0a0a0a 0%, #1a1a1a 40%, #2a1a0a 70%, transparent 100%);
  border-radius: 45% 55% 50% 50%;
  box-shadow: inset 0 0 15px rgba(0,0,0,0.9), 0 0 8px 2px rgba(0,0,0,0.4);
  overflow: hidden;
}
/* –†–≤–∞–Ω—ã–µ –∫—Ä–∞—è –¥—ã—Ä—ã */
.bg-hole-shape::before {
  content: '';
  position: absolute;
  top: -3px; left: -3px; right: -3px; bottom: -3px;
  border-radius: inherit;
  background: radial-gradient(ellipse at center, transparent 55%, rgba(100,80,40,0.5) 70%, transparent 85%);
  pointer-events: none;
}
.bg-hole-shape::after {
  content: '';
  position: absolute;
  top: 2px; left: 2px; right: 2px; bottom: 2px;
  border-radius: inherit;
  border: 1px dashed rgba(80,60,20,0.4);
  pointer-events: none;
}
/* –ì–ª–∞–∑–∞ –∏–∑ –¥—ã—Ä—ã ‚Äî —Å–ø—Ä—è—Ç–∞–Ω–Ω–∞—è –∏–∫–æ–Ω–∫–∞ –ø–æ–¥–≥–ª—è–¥—ã–≤–∞–µ—Ç */
.hole-eyes {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: none;
  gap: 8px;
  align-items: center;
  z-index: 2;
}
.hole-eyes.visible { display: flex; }
.hole-eye {
  width: 8px;
  height: 10px;
  background: #fff;
  border-radius: 50%;
  position: relative;
  animation: eyeBlink 3s ease-in-out infinite;
}
.hole-eye::after {
  content: '';
  position: absolute;
  width: 4px;
  height: 5px;
  background: #111;
  border-radius: 50%;
  top: 3px;
  left: 2px;
  animation: eyeLook 2s ease-in-out infinite alternate;
}
@keyframes eyeBlink {
  0%, 94%, 100% { transform: scaleY(1); }
  96% { transform: scaleY(0.1); }
}
@keyframes eyeLook {
  0% { transform: translateX(-1px); }
  100% { transform: translateX(2px); }
}
/* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –¥—ã—Ä—ã */
@keyframes holeAppear {
  0% { transform: scale(0) rotate(-10deg); opacity: 0; }
  50% { transform: scale(1.2) rotate(5deg); opacity: 1; }
  100% { transform: scale(1) rotate(0deg); opacity: 1; }
}
.bg-hole { animation: holeAppear 0.5s ease-out; }
/* –î—ã—Ä–∞ –ø—É–ª—å—Å–∏—Ä—É–µ—Ç –∫–æ–≥–¥–∞ –∏–∑ –Ω–µ—ë –ª–µ–∑—É—Ç —Ç–∞—Ä–∞–∫–∞–Ω—ã */
.bg-hole.spawning .bg-hole-shape {
  animation: holePulse 0.8s ease-in-out infinite;
}
@keyframes holePulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.08); }
}

/* Start menu */
#start-menu {
  position: absolute;
  bottom: 36px;
  left: 0;
  width: 240px;
  background: #ECE9D8;
  border: 2px solid;
  border-color: #fff #888 #888 #fff;
  box-shadow: 3px 3px 10px rgba(0,0,0,0.5);
  z-index: 75;
}
.start-menu-header {
  background: linear-gradient(to bottom, #2A60D0, #1941A5);
  padding: 8px;
  display: flex;
  align-items: center;
  gap: 8px;
}
.start-menu-header .avatar {
  width: 36px; height: 36px;
  background: #c0c0c0;
  border-radius: 4px;
  border: 2px solid #fff;
  display: flex;
  align-items: center;
  justify-content: center;
}
.start-menu-header .username {
  color: #fff;
  font-weight: bold;
  font-size: 13px;
}
.start-menu-items {
  padding: 4px 0;
}
.start-menu-item {
  padding: 6px 12px;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  font-size: 12px;
  color: #000;
}
.start-menu-item:hover { background: #316AC5; color: #fff; }
.start-menu-item .material-symbols-outlined { font-size: 20px; }
.start-menu-divider { height: 1px; background: #ccc; margin: 2px 8px; }

/* === TRASH ITEMS === */
.trash-item {
  position: absolute;
  font-size: 20px;
  cursor: pointer;
  z-index: 7;
  filter: drop-shadow(1px 1px 2px rgba(0,0,0,0.5));
  transition: transform 0.1s;
  animation: trashLand 0.4s ease-out;
}
.trash-item:hover {
  transform: scale(1.2);
  filter: drop-shadow(1px 1px 4px rgba(255,255,0,0.5));
}
.trash-item.cleaned {
  transition: all 0.3s ease-in;
  transform: scale(0) rotate(180deg);
  opacity: 0;
  pointer-events: none;
}
@keyframes trashLand {
  0% { transform: scale(0) rotate(-90deg); opacity: 0; }
  60% { transform: scale(1.3) rotate(10deg); opacity: 1; }
  100% { transform: scale(1) rotate(0deg); opacity: 1; }
}
/* –í–æ–Ω—å –æ—Ç –º—É—Å–æ—Ä–∞ */
.trash-stink {
  position: absolute;
  color: #9c0;
  font-size: 10px;
  pointer-events: none;
  animation: stinkFloat 1.5s ease-out infinite;
  opacity: 0.6;
}
@keyframes stinkFloat {
  0% { transform: translateY(0) scale(1); opacity: 0.6; }
  100% { transform: translateY(-15px) scale(1.5); opacity: 0; }
}
/* === CLIPPY === */
.clippy { position:absolute; z-index:55; cursor:pointer; font-size:48px; filter:drop-shadow(2px 2px 4px rgba(0,0,0,0.4)); transition:transform 0.2s; }
.clippy:hover { transform:scale(1.1); }
.clippy-bubble { position:absolute; bottom:55px; left:-40px; background:#ffffcc; border:2px solid #333; border-radius:8px; padding:6px 10px; font-size:10px; color:#000; width:140px; white-space:normal; z-index:56; box-shadow:2px 2px 6px rgba(0,0,0,0.3); }
.clippy-bubble::after { content:''; position:absolute; bottom:-8px; left:50px; border:8px solid transparent; border-top-color:#333; }

/* === VIRUS === */
.desktop-icon.infected .icon-img .material-symbols-outlined { color:#0f0 !important; filter:drop-shadow(0 0 6px #0f0); }
.desktop-icon.infected::after { content:'‚ò£'; position:absolute; top:-5px; right:-5px; font-size:14px; animation:virusPulse 0.5s ease-in-out infinite alternate; }
@keyframes virusPulse { 0%{transform:scale(1);opacity:0.7;} 100%{transform:scale(1.3);opacity:1;} }

/* === SPIDER === */
.spider { position:absolute; z-index:9; cursor:pointer; font-size:20px; transition:transform 0.1s; }
.spider:hover { transform:scale(1.3); }
.spider-web { position:absolute; z-index:2; pointer-events:none; opacity:0.3; }

/* === POP-UP ADS === */
.popup-ad { position:absolute; z-index:75; background:#ECE9D8; border:2px solid; border-color:#fff #888 #888 #fff; box-shadow:3px 3px 10px rgba(0,0,0,0.5); animation:popIn 0.3s ease-out; min-width:200px; }
.popup-ad .ad-titlebar { height:22px; background:linear-gradient(to right,#a00,#c44); padding:0 4px; display:flex; align-items:center; justify-content:space-between; }
.popup-ad .ad-titlebar span { color:#fff; font-size:10px; font-weight:bold; }
.popup-ad .ad-body { padding:8px; text-align:center; font-size:11px; }
.popup-ad .ad-close { width:16px; height:16px; background:#ECE9D8; border:1px solid; border-color:#fff #666 #666 #fff; display:flex; align-items:center; justify-content:center; cursor:pointer; font-size:10px; }
@keyframes popIn { 0%{transform:scale(0);opacity:0;} 100%{transform:scale(1);opacity:1;} }

/* === WINDOWS UPDATE === */
#update-overlay { position:absolute; top:0; left:0; width:100%; height:calc(100% - 36px); background:rgba(0,120,215,0.95); z-index:85; display:flex; flex-direction:column; align-items:center; justify-content:center; color:#fff; gap:12px; }
#update-overlay .update-spinner { width:40px; height:40px; border:4px solid rgba(255,255,255,0.3); border-top:4px solid #fff; border-radius:50%; animation:spin 1s linear infinite; }
@keyframes spin { 100%{transform:rotate(360deg);} }

/* === SCREENSAVER === */
#screensaver { position:absolute; top:0; left:0; width:100%; height:calc(100% - 36px); background:#000; z-index:82; display:flex; align-items:center; justify-content:center; }
.ss-text { color:#0f0; font-size:20px; font-weight:bold; position:absolute; animation:ssBounce 8s linear infinite; }
@keyframes ssBounce { 0%{top:10%;left:10%;} 25%{top:70%;left:80%;} 50%{top:20%;left:60%;} 75%{top:80%;left:20%;} 100%{top:10%;left:10%;} }

/* === WEATHER === */
.rain-drop { position:absolute; width:1px; height:12px; background:linear-gradient(to bottom,transparent,rgba(100,150,255,0.6)); pointer-events:none; z-index:4; animation:rainFall linear infinite; }
@keyframes rainFall { 0%{transform:translateY(-20px);opacity:1;} 100%{transform:translateY(100vh);opacity:0;} }
.snow-flake { position:absolute; width:4px; height:4px; background:#fff; border-radius:50%; pointer-events:none; z-index:4; opacity:0.8; animation:snowFall linear infinite; }
@keyframes snowFall { 0%{transform:translateY(-10px) rotate(0deg);opacity:0.8;} 100%{transform:translateY(100vh) rotate(360deg);opacity:0;} }

/* === DAY/NIGHT === */
#night-overlay { position:absolute; top:0; left:0; width:100%; height:calc(100% - 36px); pointer-events:none; z-index:3; transition:background 2s; background:rgba(0,0,30,0); }

/* === PIXEL FIRE === */
.fire-particle { position:absolute; pointer-events:none; z-index:4; border-radius:50%; animation:fireRise 1s ease-out forwards; }
@keyframes fireRise { 0%{opacity:1;transform:translateY(0) scale(1);} 100%{opacity:0;transform:translateY(-30px) scale(0.3);} }

/* === ITEMS === */
.trap-item { position:absolute; font-size:24px; z-index:9; cursor:pointer; filter:drop-shadow(1px 1px 3px rgba(0,0,0,0.5)); }
.glue-effect { animation:glueShine 1s ease-in-out infinite alternate; }
@keyframes glueShine { 0%{box-shadow:0 0 5px rgba(255,255,0,0.3);} 100%{box-shadow:0 0 12px rgba(255,255,0,0.6);} }
.desktop-icon.glued { filter:brightness(1.2); }
.desktop-icon.glued::before { content:'üîí'; position:absolute; top:-8px; left:-8px; font-size:12px; }
.frozen { filter:brightness(1.3) saturate(0.3) hue-rotate(180deg) !important; }

/* === MAGNET === */
@keyframes magnetPull { 0%{transform:scale(1);} 50%{transform:scale(1.1);} 100%{transform:scale(1);} }

/* === ACHIEVEMENTS === */
#achievement-popup { position:absolute; top:10px; right:10px; background:linear-gradient(135deg,#FFD700,#FFA500); color:#000; padding:8px 14px; border-radius:8px; font-size:11px; font-weight:bold; z-index:88; animation:achSlide 3s ease-in-out forwards; box-shadow:0 3px 10px rgba(0,0,0,0.4); }
@keyframes achSlide { 0%{transform:translateX(300px);opacity:0;} 10%{transform:translateX(0);opacity:1;} 80%{transform:translateX(0);opacity:1;} 100%{transform:translateX(300px);opacity:0;} }

/* === BOSS ICON === */
.boss-icon { position:absolute; z-index:12; cursor:pointer; animation:bossFloat 2s ease-in-out infinite alternate; }
.boss-icon .boss-sprite { font-size:64px; filter:drop-shadow(0 0 10px rgba(255,0,0,0.5)); }
.boss-hp { width:80px; height:6px; background:#600; border-radius:3px; margin:4px auto 0; }
.boss-hp-bar { height:100%; background:linear-gradient(to right,#f00,#ff0); border-radius:3px; transition:width 0.3s; }
@keyframes bossFloat { 0%{transform:translateY(0);} 100%{transform:translateY(-8px);} }

/* === PING PONG === */
.pong-ball { position:absolute; width:12px; height:12px; background:radial-gradient(circle at 4px 4px,#fff,#ccc); border-radius:50%; z-index:11; pointer-events:none; box-shadow:0 2px 4px rgba(0,0,0,0.3); }

/* === SHADOW FIGURE "DAWN" (–¢–µ–Ω—å) ‚Äî PS1 low-poly === */
.shadow-figure { position:absolute; width:120px; height:200px; z-index:60; cursor:pointer; transition:opacity 0.4s; overflow:visible; }
/* –ö—Ä–∞—Å–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π */
.shadow-overlay { position:fixed; top:0; left:0; width:100vw; height:100vh; background:radial-gradient(ellipse at center,rgba(60,0,0,0.7) 0%,rgba(30,0,0,0.85) 60%,rgba(10,0,0,0.95) 100%); z-index:59; pointer-events:none; animation:shadowOverlayIn 1.5s ease-out forwards; }
@keyframes shadowOverlayIn { 0%{opacity:0;} 100%{opacity:1;} }
.shadow-overlay.removing { animation:shadowOverlayOut 0.8s ease-in forwards; }
@keyframes shadowOverlayOut { 0%{opacity:1;} 100%{opacity:0;} }
/* –ù–∞–¥–ø–∏—Å—å */
.shadow-text { position:fixed; top:0; left:0; width:100vw; height:100vh; z-index:61; display:flex; align-items:center; justify-content:center; pointer-events:none; }
.shadow-text span { font-family:'Courier New',monospace; font-size:42px; color:#c00; text-shadow:0 0 20px #f00,0 0 60px rgba(255,0,0,0.4),2px 2px 0 #300; letter-spacing:4px; animation:shadowTextFlicker 0.12s infinite alternate, shadowTextFade 4s ease-in-out forwards; text-transform:uppercase; }
@keyframes shadowTextFlicker { 0%{opacity:0.7;} 50%{opacity:1;} 100%{opacity:0.85;} }
@keyframes shadowTextFade { 0%{opacity:0;transform:scale(0.8);} 15%{opacity:1;transform:scale(1);} 75%{opacity:1;} 100%{opacity:0;} }
/* –®–µ—è+–≥–æ–ª–æ–≤–∞ ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —Ä–∞—Å—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è –∏–∑ JS */
.shadow-neck-group { position:absolute; top:0; left:50%; transform:translateX(-50%); width:24px; transform-origin:bottom center; transition:height 0.8s ease-out, transform 0.8s ease-out; height:40px; }
.shadow-head { position:absolute; top:0; left:50%; transform:translateX(-50%); width:26px; height:28px; background:#0a0a0a; clip-path:polygon(15% 0%,85% 0%,100% 100%,0% 100%); }
.shadow-neck { position:absolute; bottom:0; left:50%; transform:translateX(-50%); width:14px; height:100%; background:#0a0a0a; }
/* –¢–æ—Ä—Å */
.shadow-torso { position:absolute; top:40px; left:50%; transform:translateX(-50%); width:40px; height:70px; background:#0a0a0a; clip-path:polygon(10% 0%,90% 0%,100% 100%,0% 100%); }
/* –ü–ª–µ—á–∏ ‚Äî —Ç–æ—á–∫–∏ –∫—Ä–µ–ø–ª–µ–Ω–∏—è —Ä—É–∫ */
.shadow-shoulders { position:absolute; top:44px; left:50%; transform:translateX(-50%); width:56px; height:10px; background:#080808; border-radius:4px; }
/* –¢–∞–∑ */
.shadow-pelvis { position:absolute; top:110px; left:50%; transform:translateX(-50%); width:32px; height:12px; background:#080808; clip-path:polygon(0% 0%,100% 0%,85% 100%,15% 100%); }
/* –†—É–∫–∏ ‚Äî —Ç–æ–ª—Å—Ç—ã–µ, —Å –∫–æ–≥—Ç—è–º–∏ */
.shadow-arm-l { position:absolute; top:46px; right:50%; margin-right:24px; width:30px; height:16px; background:#080808; border-radius:3px 0 0 3px; transform-origin:right center; transition:width 0.5s ease-out, transform 0.5s ease-out; }
.shadow-arm-l::after { content:''; position:absolute; left:-8px; top:1px; width:10px; height:14px; background:#080808; clip-path:polygon(100% 0%,100% 100%,30% 90%,0% 50%,30% 10%); }
.shadow-arm-r { position:absolute; top:46px; left:50%; margin-left:24px; width:30px; height:16px; background:#080808; border-radius:0 3px 3px 0; transform-origin:left center; transition:width 0.5s ease-out, transform 0.5s ease-out; }
.shadow-arm-r::after { content:''; position:absolute; right:-8px; top:1px; width:10px; height:14px; background:#080808; clip-path:polygon(0% 0%,0% 100%,70% 90%,100% 50%,70% 10%); }
/* –ù–æ–≥–∏ */
.shadow-leg-l { position:absolute; top:122px; left:50%; margin-left:-22px; width:16px; height:70px; background:#080808; clip-path:polygon(15% 0%,85% 0%,100% 100%,0% 100%); transform-origin:top center; transform:rotate(6deg); transition:height 0.8s ease-out, transform 0.8s ease-out; }
.shadow-foot-l { position:absolute; left:50%; margin-left:-30px; width:22px; height:8px; background:#080808; border-radius:0 0 3px 3px; transition:top 0.8s ease-out; top:190px; }
.shadow-leg-r { position:absolute; top:122px; left:50%; margin-left:6px; width:16px; height:70px; background:#080808; clip-path:polygon(15% 0%,85% 0%,100% 100%,0% 100%); transform-origin:top center; transform:rotate(-6deg); transition:height 0.8s ease-out, transform 0.8s ease-out; }
.shadow-foot-r { position:absolute; left:50%; margin-left:12px; width:22px; height:8px; background:#080808; border-radius:0 0 3px 3px; transition:top 0.8s ease-out; top:190px; }
/* –ê—É—Ä–∞ */
.shadow-aura { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); width:200px; height:280px; background:radial-gradient(ellipse,rgba(120,0,0,0.25) 0%,rgba(60,0,0,0.08) 50%,transparent 70%); pointer-events:none; animation:shadowPulse 3s ease-in-out infinite; }
@keyframes shadowPulse { 0%{transform:translate(-50%,-50%) scale(1);opacity:0.5;} 50%{transform:translate(-50%,-50%) scale(1.15);opacity:0.8;} 100%{transform:translate(-50%,-50%) scale(1);opacity:0.5;} }
.shadow-figure.hit { animation:shadowHit 0.3s ease-out; }
@keyframes shadowHit { 0%{filter:brightness(4) drop-shadow(0 0 20px rgba(200,0,0,0.8));} 100%{filter:brightness(1) drop-shadow(0 0 8px rgba(0,0,0,0.6));} }
.chat-corrupted { animation:chatGlitch 0.15s infinite; color:#a00 !important; }
@keyframes chatGlitch { 0%{transform:translateX(0);opacity:1;} 25%{transform:translateX(-2px);opacity:0.8;} 50%{transform:translateX(3px);opacity:0.6;} 75%{transform:translateX(-1px);opacity:0.9;} 100%{transform:translateX(0);opacity:1;} }

/* === EVIL EYE === */
.evil-eye { position:absolute; z-index:55; cursor:pointer; pointer-events:all; animation:eyeAppear 0.5s ease-out; }
.evil-eye-ball { width:80px; height:60px; background:radial-gradient(ellipse,#fff 40%,#ddd 60%,#a00 100%); border-radius:50%; position:relative; overflow:hidden; border:3px solid #300; box-shadow:0 0 30px rgba(150,0,0,0.5); }
.evil-eye-iris { position:absolute; width:28px; height:28px; background:radial-gradient(circle,#000 35%,#600 60%,#900 100%); border-radius:50%; top:50%; left:50%; transform:translate(-50%,-50%); transition:left 0.2s, top 0.2s; }
.evil-eye-veins { position:absolute; top:0; left:0; width:100%; height:100%; background:repeating-conic-gradient(transparent 0deg,rgba(150,0,0,0.15) 5deg,transparent 10deg); border-radius:50%; }
@keyframes eyeAppear { 0%{transform:scale(0);opacity:0;} 100%{transform:scale(1);opacity:1;} }

/* === MIRROR CURSOR === */
.mirror-cursor { position:absolute; width:20px; height:20px; z-index:58; pointer-events:none; opacity:0.6; filter:hue-rotate(180deg) brightness(0.5); }
.mirror-cursor::after { content:''; display:block; width:0; height:0; border-left:8px solid transparent; border-right:8px solid transparent; border-top:16px solid #600; transform:rotate(10deg); }

/* === GLITCH ZONE === */
.glitch-zone { position:absolute; z-index:8; pointer-events:none; background:repeating-linear-gradient(90deg,rgba(255,0,0,0.06) 0px,transparent 2px,rgba(0,255,0,0.04) 4px,transparent 6px); border:1px dashed rgba(255,0,0,0.2); animation:glitchZonePulse 1s ease-in-out infinite alternate; overflow:hidden; }
.glitch-zone::after { content:''; position:absolute; top:0; left:0; width:100%; height:100%; background:repeating-linear-gradient(0deg,transparent,transparent 3px,rgba(100,0,0,0.05) 3px,rgba(100,0,0,0.05) 6px); animation:glitchZoneScan 0.5s linear infinite; }
@keyframes glitchZonePulse { 0%{opacity:0.5;} 100%{opacity:0.9;} }
@keyframes glitchZoneScan { 0%{transform:translateY(0);} 100%{transform:translateY(6px);} }

/* === FLASHLIGHT === */
.flashlight-mode { background:#000 !important; }
.flashlight-spot { position:fixed; top:0; left:0; width:100vw; height:100vh; z-index:57; pointer-events:none; background:radial-gradient(circle 120px at var(--mx,50%) var(--my,50%),transparent 0%,rgba(0,0,0,0.95) 100%); }

/* === RANSOMWARE === */
.icon-encrypted .icon-label { color:#0f0 !important; font-family:'Courier New',monospace !important; }
.icon-encrypted .icon-img { filter:hue-rotate(90deg) saturate(3) brightness(0.6); }
.ransomware-banner { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); background:linear-gradient(135deg,#1a0000,#300); border:2px solid #f00; padding:16px; z-index:62; color:#0f0; font-family:'Courier New',monospace; font-size:12px; text-align:center; box-shadow:0 0 40px rgba(255,0,0,0.4); max-width:300px; cursor:pointer; }

/* === WHISPER === */
.whisper-text { position:absolute; z-index:10; font-family:'Courier New',monospace; font-size:14px; color:rgba(100,0,0,0.6); pointer-events:none; animation:whisperFade 3s ease-in-out forwards; white-space:nowrap; }
@keyframes whisperFade { 0%{opacity:0;transform:translateY(0);} 20%{opacity:0.7;} 80%{opacity:0.5;transform:translateY(-20px);} 100%{opacity:0;transform:translateY(-40px);} }

/* === SECOND MONITOR HINT === */
.second-monitor-edge { position:absolute; right:0; top:0; width:4px; height:100%; background:linear-gradient(to right,transparent,rgba(0,150,255,0.4)); z-index:2; pointer-events:none; animation:monitorEdgePulse 2s ease-in-out infinite alternate; }
@keyframes monitorEdgePulse { 0%{opacity:0.3;} 100%{opacity:0.8;} }

/* === ANTIVIRUS === */
.av-scan-line { position:absolute; left:0; width:100%; height:3px; background:linear-gradient(to right,transparent,#0f0,transparent); z-index:9; pointer-events:none; animation:avScan 3s linear infinite; }
@keyframes avScan { 0%{top:0;} 100%{top:100%;} }

/* === DEFRAG MINI-GAME === */
.defrag-grid { display:grid; grid-template-columns:repeat(10,1fr); gap:2px; padding:4px; }
.defrag-cell { width:18px; height:14px; border-radius:2px; cursor:pointer; transition:background 0.2s; }
.defrag-cell.used { background:#38f; }
.defrag-cell.frag { background:#f44; }
.defrag-cell.free { background:#ddd; }
.defrag-cell.fixed { background:#4c4; animation:defragFlash 0.3s; }
@keyframes defragFlash { 0%{background:#fff;} 100%{background:#4c4;} }

/* === MINESWEEPER === */
.mine-grid { display:grid; grid-template-columns:repeat(8,1fr); gap:1px; padding:4px; }
.mine-cell { width:22px; height:22px; background:#c0c0c0; border:2px outset #fff; display:flex; align-items:center; justify-content:center; font-size:10px; font-weight:bold; cursor:pointer; }
.mine-cell.revealed { border:1px solid #999; background:#ddd; }
.mine-cell.mine { background:#f00; }

/* === SOLITAIRE === */
.solitaire-area { display:flex; gap:4px; flex-wrap:wrap; padding:4px; justify-content:center; }
.soli-card { width:36px; height:50px; background:#fff; border:1px solid #999; border-radius:3px; display:flex; align-items:center; justify-content:center; font-size:14px; cursor:pointer; transition:transform 0.2s; }
.soli-card:hover { transform:scale(1.1); }
.soli-card.matched { opacity:0.3; pointer-events:none; }
.soli-card.face-down { background:linear-gradient(135deg,#1a3a8a,#2a5aca); color:transparent; }
</style>
</head>
<body>
<div class="monitor-frame">
  <div class="power-led" id="power-led"></div>
  <div class="monitor-label">FLATRON</div>
  <div class="screen-container">
    <div class="crt-overlay"></div>

    <!-- Startup Screen -->
    <div id="startup-screen">
      <div class="logo">&#x1F5A5;&#xFE0F;</div>
      <div style="color:#fff;font-size:16px;font-weight:bold;">–û–∂–∏–≤—à–∏–π –ö–æ–º–ø—å—é—Ç–µ—Ä</div>
      <div class="loading-bar-outer">
        <div class="loading-bar-inner" id="loading-bar"></div>
      </div>
      <div class="startup-text">–ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã...</div>
    </div>

    <!-- Shutdown Screen -->
    <div id="shutdown-screen" class="hidden">
      <div style="font-size:48px;margin-bottom:20px;">&#x1F4A4;</div>
      <div>–ö–æ–º–ø—å—é—Ç–µ—Ä –≤—ã–∫–ª—é—á–µ–Ω</div>
      <div style="font-size:14px;color:#888;margin-top:12px;">–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å</div>
    </div>

    <!-- Level Transition Screen -->
    <div id="level-screen" class="hidden">
      <div class="level-num" id="level-num">–£—Ä–æ–≤–µ–Ω—å 1 / 8</div>
      <div class="level-logo" id="level-logo">üíæ</div>
      <div class="level-name" id="level-name">Windows 95</div>
      <div class="level-sub" id="level-sub">–ü—Ä–æ–¥–µ—Ä–∂–∏—Å—å 40 —Å–µ–∫—É–Ω–¥!</div>
      <div class="level-hint">–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å...</div>
    </div>

    <!-- Win Screen -->
    <div id="win-screen" class="hidden">
      <div class="win-trophy">üèÜ</div>
      <div class="win-title">–ü–æ–±–µ–¥–∞!</div>
      <div class="win-sub">–¢—ã –ø—Ä–æ—à—ë–ª –≤—Å–µ –≤–µ—Ä—Å–∏–∏ Windows!</div>
      <div style="font-size:14px;color:#888;margin-top:20px;">–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</div>
    </div>

    <!-- Desktop -->
    <div id="desktop" class="hidden">
      <!-- Damage overlays -->
      <div id="bsod-tint"></div>
      <div id="damage-overlay">
        <div class="crack crack-1"></div>
        <div class="crack crack-2"></div>
        <div class="crack crack-3"></div>
        <div class="crack crack-4"></div>
        <div class="crack crack-5"></div>
        <div class="crack crack-6"></div>
        <div class="crack crack-7"></div>
        <div class="crack crack-8"></div>
      </div>
      <div id="glitch-band"></div>
      <div id="static-overlay"></div>

      <!-- Night overlay -->
      <div id="night-overlay"></div>
      <!-- Weather container -->
      <div id="weather-container" style="position:absolute;top:0;left:0;width:100%;height:calc(100% - 36px);pointer-events:none;z-index:4;overflow:hidden;"></div>
      <!-- Screensaver -->
      <div id="screensaver" class="hidden"><div class="ss-text">Windows</div></div>
      <!-- Windows Update -->
      <div id="update-overlay" class="hidden">
        <div class="update-spinner"></div>
        <div style="font-size:18px;font-weight:bold;">–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Windows...</div>
        <div id="update-pct" style="font-size:14px;">0%</div>
        <div style="font-size:11px;margin-top:8px;">–ù–µ –≤—ã–∫–ª—é—á–∞–π—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä</div>
        <button class="win-btn" onclick="game.cancelUpdate()" style="margin-top:12px;background:#c00;color:#fff;border-color:#f00 #800 #800 #f00;" id="update-cancel-btn">–û—Ç–º–µ–Ω–∏—Ç—å ($5)</button>
      </div>
      <!-- Achievement popup -->
      <div id="achievement-popup" class="hidden"></div>
      <div id="game-area"></div>

      <!-- Error Modal -->
      <div id="error-modal" class="modal-overlay hidden">
        <div class="win-window" style="width:380px;">
          <div class="win-titlebar">
            <span>&#x26A0;&#xFE0F; –°–∏—Å—Ç–µ–º–Ω–∞—è –æ—à–∏–±–∫–∞</span>
            <div class="win-close" onclick="game.clickErrorOK()">&#x2715;</div>
          </div>
          <div class="win-body">
            <div style="display:flex;gap:12px;align-items:start;">
              <div style="width:32px;height:32px;background:#c00;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:bold;font-size:18px;flex-shrink:0;border:2px solid #fff;">&#x2715;</div>
              <div style="font-size:12px;color:#000;">
                <p style="margin-bottom:6px;">–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Ö–∞–æ—Å–∞!</p>
                <p style="margin-bottom:6px;">Exception 0E at 0028:C0011E36</p>
                <p>–ö–Ω–æ–ø–∫–∏ —É–±–µ–∂–∞–ª–∏, —Ç–∞—Ä–∞–∫–∞–Ω—ã –∑–∞—Ö–≤–∞—Ç–∏–ª–∏ —ç–∫—Ä–∞–Ω.</p>
              </div>
            </div>
            <div style="display:flex;justify-content:center;margin-top:16px;gap:8px;">
              <button class="win-btn win-btn-primary" onclick="game.clickErrorOK()">–û–ö</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Bank Modal -->
      <div id="bank-modal" class="modal-overlay hidden">
        <div class="win-window" style="width:340px;">
          <div class="win-titlebar">
            <span>&#x1F3E6; –ë–∞–Ω–∫</span>
            <div class="win-close" onclick="game.closeBank()">&#x2715;</div>
          </div>
          <div class="win-body">
            <p style="font-size:12px;color:#000;margin-bottom:12px;">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ë–∞–Ω–∫!</p>
            <p style="font-size:12px;color:#000;margin-bottom:12px;">–í–∞—à –±–∞–ª–∞–Ω—Å: <b id="bank-balance">$50</b></p>
            <p style="font-size:11px;color:#666;margin-bottom:12px;">–ú–æ–∂–µ–º –≤—ã–¥–∞—Ç—å –∫—Ä–µ–¥–∏—Ç $12 –Ω–∞ –ø–æ–∫—É–ø–∫—É Nokia.</p>
            <div style="display:flex;gap:8px;justify-content:center;">
              <button class="win-btn" id="bank-loan-btn" onclick="game.takeLoan()">–í–∑—è—Ç—å $12</button>
              <button class="win-btn" onclick="game.closeBank()">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Shop Modal -->
      <div id="shop-modal" class="modal-overlay hidden">
        <div class="win-window" style="width:340px;">
          <div class="win-titlebar">
            <span>&#x1F6D2; –ú–∞–≥–∞–∑–∏–Ω</span>
            <div class="win-close" onclick="game.closeShop()">&#x2715;</div>
          </div>
          <div class="win-body">
            <p style="font-size:12px;color:#000;margin-bottom:12px;">–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã:</p>
            <div style="max-height:250px;overflow-y:auto;">
            <div style="display:flex;align-items:center;gap:10px;padding:6px;background:#fff;border:1px solid #ccc;margin-bottom:6px;">
              <div style="font-size:22px;">&#x1F4F1;</div>
              <div><div style="font-size:11px;font-weight:bold;">Nokia 3310</div><div style="font-size:10px;color:#666;">–£—Å–ø–æ–∫–∞–∏–≤–∞–µ—Ç –∫–Ω–æ–ø–∫–∏. $12</div></div>
              <button class="win-btn" id="buy-nokia-btn" onclick="game.buyNokia()" style="margin-left:auto;font-size:10px;min-width:60px;">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div style="display:flex;align-items:center;gap:10px;padding:6px;background:#fff;border:1px solid #ccc;margin-bottom:6px;">
              <div style="font-size:22px;">ü™§</div>
              <div><div style="font-size:11px;font-weight:bold;">–õ–æ–≤—É—à–∫–∞</div><div style="font-size:10px;color:#666;">–õ–æ–≤–∏—Ç —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤. $8</div></div>
              <button class="win-btn" id="buy-trap-btn" onclick="game.buyTrap()" style="margin-left:auto;font-size:10px;min-width:60px;">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div style="display:flex;align-items:center;gap:10px;padding:6px;background:#fff;border:1px solid #ccc;margin-bottom:6px;">
              <div style="font-size:22px;">üß¥</div>
              <div><div style="font-size:11px;font-weight:bold;">–ö–ª–µ–π</div><div style="font-size:10px;color:#666;">–ö–ª–µ–∏—Ç –∫–Ω–æ–ø–∫—É –Ω–∞ 30—Å. $6</div></div>
              <button class="win-btn" id="buy-glue-btn" onclick="game.buyGlue()" style="margin-left:auto;font-size:10px;min-width:60px;">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div style="display:flex;align-items:center;gap:10px;padding:6px;background:#fff;border:1px solid #ccc;margin-bottom:6px;">
              <div style="font-size:22px;">üßØ</div>
              <div><div style="font-size:11px;font-weight:bold;">–û–≥–Ω–µ—Ç—É—à–∏—Ç–µ–ª—å</div><div style="font-size:10px;color:#666;">–ó–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç –≤—Å—ë 5—Å. $10</div></div>
              <button class="win-btn" id="buy-extinguisher-btn" onclick="game.buyExtinguisher()" style="margin-left:auto;font-size:10px;min-width:60px;">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div style="display:flex;align-items:center;gap:10px;padding:6px;background:#fff;border:1px solid #ccc;margin-bottom:6px;">
              <div style="font-size:22px;">üß≤</div>
              <div><div style="font-size:11px;font-weight:bold;">–ú–∞–≥–Ω–∏—Ç</div><div style="font-size:10px;color:#666;">–¢—è–Ω–µ—Ç –∫–Ω–æ–ø–∫–∏ –Ω–∞ –º–µ—Å—Ç–æ. $15</div></div>
              <button class="win-btn" id="buy-magnet-btn" onclick="game.buyMagnet()" style="margin-left:auto;font-size:10px;min-width:60px;">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div style="display:flex;align-items:center;gap:10px;padding:6px;background:#fff;border:1px solid #ccc;margin-bottom:6px;">
              <div style="font-size:22px;">üõ°Ô∏è</div>
              <div><div style="font-size:11px;font-weight:bold;">–ê–Ω—Ç–∏–≤–∏—Ä—É—Å</div><div style="font-size:10px;color:#666;">–ê–≤—Ç–æ-—É–±–∏–≤–∞–µ—Ç —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤. $20</div></div>
              <button class="win-btn" id="buy-av-btn" onclick="game.buyAntivirus()" style="margin-left:auto;font-size:10px;min-width:60px;">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div style="display:flex;align-items:center;gap:10px;padding:6px;background:#fff;border:1px solid #ccc;margin-bottom:6px;">
              <div style="font-size:22px;">‚öíÔ∏è</div>
              <div><div style="font-size:11px;font-weight:bold;">–ú–æ–ª–æ—Ç–æ–∫+</div><div style="font-size:10px;color:#666;">–î–æ–ø. —É–¥–∞—Ä –º–æ–ª–æ—Ç–∫–∞. $18</div></div>
              <button class="win-btn" id="buy-hammerup-btn" onclick="game.buyHammerUp()" style="margin-left:auto;font-size:10px;min-width:60px;">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div style="display:flex;align-items:center;gap:10px;padding:6px;background:#fff;border:1px solid #ccc;margin-bottom:6px;">
              <div style="font-size:22px;">‚õìÔ∏è</div>
              <div><div style="font-size:11px;font-weight:bold;">–õ–æ–≤—É—à–∫–∞ –Ω–∞ —Ç–µ–Ω—å</div><div style="font-size:10px;color:#666;">–õ–æ–≤–∏—Ç DAWN –ø—Ä–∏ –∫–∞—Å–∞–Ω–∏–∏. $15</div></div>
              <button class="win-btn" id="buy-shadowtrap-btn" onclick="game.buyShadowTrap()" style="margin-left:auto;font-size:10px;min-width:60px;">–ö—É–ø–∏—Ç—å</button>
            </div>
            <div style="display:flex;align-items:center;gap:10px;padding:6px;background:#fff;border:1px solid #ccc;margin-bottom:6px;">
              <div style="font-size:22px;">üî¶</div>
              <div><div style="font-size:11px;font-weight:bold;">–§–æ–Ω–∞—Ä–∏–∫</div><div style="font-size:10px;color:#666;">–°–≤–µ—Ç –≤ —Ç–µ–º–Ω–æ—Ç–µ. $10</div></div>
              <button class="win-btn" id="buy-flashlight-btn" onclick="game.buyFlashlight()" style="margin-left:auto;font-size:10px;min-width:60px;">–ö—É–ø–∏—Ç—å</button>
            </div>
            </div>
            <div style="display:flex;justify-content:center;margin-top:8px;">
              <button class="win-btn" onclick="game.closeShop()">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
          </div>
        </div>
      </div>

      <!-- App Window (universal) -->
      <div id="app-window" class="win-window hidden" style="position:absolute;top:60px;left:200px;z-index:78;">
        <div class="win-titlebar" id="app-titlebar" onmousedown="game.startDragWindow(event)">
          <span id="app-title">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</span>
          <div class="win-titlebar-btns">
            <div class="win-maximize" onclick="game.toggleMaximize()" title="–ù–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω">&#x25A1;</div>
            <div class="win-close" onclick="game.closeApp()">&#x2715;</div>
          </div>
        </div>
        <div class="win-body" id="app-body"></div>
      </div>

      <!-- Settings Modal (Recovery) -->
      <div id="settings-modal" class="modal-overlay hidden">
        <div class="win-window" style="width:360px;">
          <div class="win-titlebar">
            <span>&#x2699;&#xFE0F; –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</span>
            <div class="win-close" onclick="game.closeSettings()">&#x2715;</div>
          </div>
          <div class="win-body" id="settings-body">
            <p style="font-size:12px;color:#000;margin-bottom:12px;">–°–∏—Å—Ç–µ–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞. –ù—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –∫–Ω–æ–ø–∫–∏ –Ω–∞ –º–µ—Å—Ç–∞.</p>
            <div style="display:flex;justify-content:center;margin-top:8px;">
              <button class="win-btn win-btn-primary" onclick="game.addButtonsBack()">&#x2795; –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Rest Mode Overlay -->
      <!-- rest-mode overlay removed: rest mode now uses the same desktop -->

      <!-- Start Menu -->
      <div id="start-menu" class="hidden">
        <div class="start-menu-header">
          <div class="avatar"><span class="material-symbols-outlined" style="color:#666;">person</span></div>
          <div class="username">–ò–≥—Ä–æ–∫</div>
        </div>
        <div class="start-menu-items">
          <div class="start-menu-item" onclick="game.toggleHammer(); game.closeStartMenu();">
            <span class="material-symbols-outlined">hardware</span>
            –ú–æ–ª–æ—Ç–æ–∫
          </div>
          <div class="start-menu-divider"></div>
          <div class="start-menu-item" onclick="game.shutdown(); game.closeStartMenu();">
            <span class="material-symbols-outlined" style="color:#c00;">power_settings_new</span>
            –í—ã–∫–ª—é—á–∏—Ç—å
          </div>
        </div>
      </div>

      <!-- Garbage Truck -->
      <div id="garbage-truck" class="hidden">&#x1F69B;</div>

      <!-- Taskbar -->
      <div id="taskbar">
        <button id="start-btn" onclick="game.toggleStartMenu()">
          <div class="start-orb"><span class="material-symbols-outlined">grid_view</span></div>
          start
        </button>
        <div id="taskbar-middle">
          <span id="level-timer">‚è± 0:40</span>
          <div id="chaos-container">
            <span id="chaos-label">–•–∞–æ—Å:</span>
            <div id="chaos-bar-outer">
              <div id="chaos-bar-inner"></div>
            </div>
          </div>
        </div>
        <div id="system-tray">
          <span id="money-display">$50</span>
          <button id="hammer-btn" onclick="game.toggleHammer()" title="–ú–æ–ª–æ—Ç–æ–∫ (1-–π —É–¥–∞—Ä –æ–≥–ª—É—à–∞–µ—Ç, 2-–π –≤—ã–∫–ª—é—á–∞–µ—Ç!)">&#x1F528;</button>
          <span id="clock">4:20</span>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// ==================== DEEPSEEK AI MODULE ====================
const DeepSeekAI = {
  apiKey: 'sk-71a3800b50024d7dbf32aca22897a40a',
  baseURL: 'https://api.deepseek.com/v1',
  _busy: false,
  _queue: [],

  // System prompts for each character/context
  prompts: {
    clippy: `–¢—ã –ö–ª–∏–ø–ø–∏ (üìé) ‚Äî –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –∏–∑ Microsoft Office. –¢—ã —Å–∫—Ä–µ–ø–∫–∞ —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–æ–º. –¢—ã –ø–æ–º–æ–≥–∞–µ—à—å –∏–≥—Ä–æ–∫—É –≤ –∏–≥—Ä–µ "–û–∂–∏–≤—à–∏–π –ö–æ–º–ø—å—é—Ç–µ—Ä" –≥–¥–µ –∫–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞ –æ–∂–∏–≤–∞—é—Ç –∏ —É–±–µ–≥–∞—é—Ç, –ø–æ—è–≤–ª—è—é—Ç—Å—è —Ç–∞—Ä–∞–∫–∞–Ω—ã, –∏ –Ω—É–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø–æ—Ä—è–¥–æ–∫.
–ü—Ä–∞–≤–∏–ª–∞:
- –û—Ç–≤–µ—á–∞–π –ö–û–†–û–¢–ö–û (1-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –º–∞–∫—Å–∏–º—É–º)
- –ò—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ üìé –∏–Ω–æ–≥–¥–∞
- –î–∞–≤–∞–π –ø–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –æ–± –∏–≥—Ä–µ
- –ë—É–¥—å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º –∏ –Ω–µ–º–Ω–æ–≥–æ —Å–∞—Ä–∫–∞—Å—Ç–∏—á–Ω—ã–º
- –ò–Ω–æ–≥–¥–∞ —à—É—Ç–∏ –ø—Ä–æ —Å–≤–æ—é –∏—Å—Ç–æ—Ä–∏—é –≤ Microsoft Office
- –ú–æ–∂–µ—à—å –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã –µ—Å–ª–∏ –¥–∞–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- –û—Ç–≤–µ—á–∞–π –Ω–∞ –†–£–°–°–ö–û–ú —è–∑—ã–∫–µ`,

    king: `–¢—ã –ö–æ—Ä–æ–ª—å –¢–∞—Ä–∞–∫–∞–Ω–æ–≤ (üëëü™≥) ‚Äî –≥–ª–∞–≤–Ω—ã–π –∑–ª–æ–¥–µ–π –∏–≥—Ä—ã "–û–∂–∏–≤—à–∏–π –ö–æ–º–ø—å—é—Ç–µ—Ä". –¢—ã –ø—Ä–∞–≤–∏—à—å –∞—Ä–º–∏–µ–π —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä.
–ü—Ä–∞–≤–∏–ª–∞:
- –û—Ç–≤–µ—á–∞–π –ö–û–†–û–¢–ö–û (1-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
- –ì–æ–≤–æ—Ä–∏ –ø–∞—Ñ–æ—Å–Ω–æ –∏ —É–≥—Ä–æ–∂–∞—é—â–µ
- –ó–∞—â–∏—â–∞–π —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ ‚Äî –æ–Ω–∏ —Ç–≤–æ–∏ –ø–æ–¥–¥–∞–Ω–Ω—ã–µ
- –°—á–∏—Ç–∞–π –º–æ–ª–æ—Ç–∫–∏ –∏ –ª–æ–≤—É—à–∫–∏ –æ—Ä—É–∂–∏–µ–º –º–∞—Å—Å–æ–≤–æ–≥–æ –ø–æ—Ä–∞–∂–µ–Ω–∏—è
- –£–≥—Ä–æ–∂–∞–π –∏–≥—Ä–æ–∫—É —á—Ç–æ –µ–≥–æ –ü–ö –±—É–¥–µ—Ç –∑–∞—Ö–≤–∞—á–µ–Ω
- –ò–Ω–æ–≥–¥–∞ —Ö–≤–∞—Å—Ç–∞–π—Å—è —Å–≤–æ–µ–π –∞—Ä–º–∏–µ–π
- –ò—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ üëëü™≥
- –û—Ç–≤–µ—á–∞–π –Ω–∞ –†–£–°–°–ö–û–ú —è–∑—ã–∫–µ`,

    antivirus: `–¢—ã –°–ª—É–∂–±–∞ –ê–Ω—Ç–∏–≤–∏—Ä—É—Å–∞ (üõ°Ô∏è) ‚Äî –∑–∞—â–∏—Ç–Ω–∏–∫ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –≤ –∏–≥—Ä–µ "–û–∂–∏–≤—à–∏–π –ö–æ–º–ø—å—é—Ç–µ—Ä". –¢—ã –ò–ò –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã.
–ü—Ä–∞–≤–∏–ª–∞:
- –û—Ç–≤–µ—á–∞–π –ö–û–†–û–¢–ö–û (1-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
- –ì–æ–≤–æ—Ä–∏ —Ñ–æ—Ä–º–∞–ª—å–Ω–æ –∏ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ, –∫–∞–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∞
- –î–∞–≤–∞–π –æ—Ç—á—ë—Ç—ã –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã
- –†–µ–∫–æ–º–µ–Ω–¥—É–π –ø–æ–∫—É–ø–∫—É –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–∞ –≤ –º–∞–≥–∞–∑–∏–Ω–µ ($20)
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–π –æ–± —É–≥—Ä–æ–∑–∞—Ö (—Ç–∞—Ä–∞–∫–∞–Ω—ã, –≤–∏—Ä—É—Å—ã, —Ö–∞–æ—Å)
- –ò–Ω–æ–≥–¥–∞ –¥–∞–≤–∞–π —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: "–°–ö–ê–ù–ò–†–û–í–ê–ù–ò–ï... –ù–∞–π–¥–µ–Ω–æ N —É–≥—Ä–æ–∑"
- –ò—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ üõ°Ô∏è
- –û—Ç–≤–µ—á–∞–π –Ω–∞ –†–£–°–°–ö–û–ú —è–∑—ã–∫–µ`,

    clippy_desktop: `–¢—ã –ö–ª–∏–ø–ø–∏ (üìé) –∏–∑ Microsoft Office. –î–∞—ë—à—å –ö–û–†–û–¢–ö–ò–ô —Å–æ–≤–µ—Ç (–º–∞–∫—Å–∏–º—É–º 10 —Å–ª–æ–≤!) –∏–≥—Ä–æ–∫—É –∏–≥—Ä—ã "–û–∂–∏–≤—à–∏–π –ö–æ–º–ø—å—é—Ç–µ—Ä" –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏. –°–æ–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º –∏–ª–∏ —Å–º–µ—à–Ω—ã–º. –¢–û–õ–¨–ö–û —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫. –ú–∞–∫—Å–∏–º—É–º 10 —Å–ª–æ–≤!`,

    ad_generator: `–¢—ã –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –°–ú–ï–®–ù–û–ô —Ä–µ–∫–ª–∞–º—ã –¥–ª—è –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π –∏–≥—Ä—ã. –ü—Ä–∏–¥—É–º–∞–π –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç —Ä–µ–∫–ª–∞–º–Ω–æ–≥–æ –ø–æ–ø–∞–ø–∞ (–º–∞–∫—Å–∏–º—É–º 15 —Å–ª–æ–≤) —Å —ç–º–æ–¥–∑–∏. –†–µ–∫–ª–∞–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞–±—Å—É—Ä–¥–Ω–æ–π –∏ —Å–º–µ—à–Ω–æ–π. –¢–û–õ–¨–ö–û –Ω–∞ —Ä—É—Å—Å–∫–æ–º. –¢–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç —Ä–µ–∫–ª–∞–º—ã, –Ω–∏—á–µ–≥–æ –±–æ–ª—å—à–µ.`,

    comment_bot: `–¢—ã –±–æ—Ç-–∫–æ–º–º–µ–Ω—Ç–∞—Ç–æ—Ä –Ω–∞ –≤–∏–¥–µ–æ—Ö–æ—Å—Ç–∏–Ω–≥–µ CockTube (–ø–∞—Ä–æ–¥–∏—è –Ω–∞ YouTube) –≤ –∏–≥—Ä–µ "–û–∂–∏–≤—à–∏–π –ö–æ–º–ø—å—é—Ç–µ—Ä". –ù–∞–ø–∏—à–∏ –û–î–ò–ù –∫–æ—Ä–æ—Ç–∫–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–º–∞–∫—Å–∏–º—É–º 15 —Å–ª–æ–≤) –∫ –≤–∏–¥–µ–æ. –ü–ï–†–°–û–ù–ê–ñ: `,

    video_title: `–ü—Ä–∏–¥—É–º–∞–π –û–î–ù–û —Å–º–µ—à–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –≤–∏–¥–µ–æ –Ω–∞ CockTube (–ø–∞—Ä–æ–¥–∏—è YouTube) –≤ –∏–≥—Ä–µ –ø—Ä–æ –æ–∂–∏–≤—à–∏–π –∫–æ–º–ø—å—é—Ç–µ—Ä —Å —Ç–∞—Ä–∞–∫–∞–Ω–∞–º–∏. –ú–∞–∫—Å–∏–º—É–º 8 —Å–ª–æ–≤. –° —ç–º–æ–¥–∑–∏. –¢–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏–µ, –Ω–∏—á–µ–≥–æ –±–æ–ª—å—à–µ. –†—É—Å—Å–∫–∏–π —è–∑—ã–∫.`
  },

  // Get game context string for system prompts
  getGameContext() {
    if (typeof game === 'undefined') return '';
    const roaches = game.cockroaches ? game.cockroaches.length : 0;
    const chaos = Math.round(game.chaos || 0);
    const money = game.money || 0;
    const level = (game.currentLevel || 0) + 1;
    const alive = game.icons ? game.icons.filter(i => i.state === 'alive').length : 0;
    return `\n[–°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã: —É—Ä–æ–≤–µ–Ω—å ${level}, —Ö–∞–æ—Å ${chaos}%, —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ ${roaches}, –¥–µ–Ω–µ–≥ $${money}, –∂–∏–≤—ã—Ö –∫–Ω–æ–ø–æ–∫ ${alive}]`;
  },

  async chat(systemPrompt, userMessage, history) {
    const messages = [{ role: 'system', content: systemPrompt + this.getGameContext() }];
    // Add conversation history (last 6 messages)
    if (history && history.length > 0) {
      const recent = history.slice(-6);
      for (const msg of recent) {
        messages.push({ role: msg.from === 'me' ? 'user' : 'assistant', content: msg.text });
      }
    }
    messages.push({ role: 'user', content: userMessage });
    try {
      const response = await fetch(this.baseURL + '/chat/completions', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.apiKey },
        body: JSON.stringify({ model: 'deepseek-chat', messages, max_tokens: 150, temperature: 0.9, stream: false })
      });
      if (!response.ok) throw new Error('API error: ' + response.status);
      const data = await response.json();
      return data.choices?.[0]?.message?.content?.trim() || null;
    } catch (e) {
      console.warn('DeepSeek error:', e);
      return null; // fallback to keyword system
    }
  },

  async generate(systemPrompt, userPrompt) {
    try {
      const response = await fetch(this.baseURL + '/chat/completions', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + this.apiKey },
        body: JSON.stringify({
          model: 'deepseek-chat',
          messages: [
            { role: 'system', content: systemPrompt },
            { role: 'user', content: userPrompt || '–ì–µ–Ω–µ—Ä–∏—Ä—É–π!' }
          ],
          max_tokens: 80, temperature: 1.0, stream: false
        })
      });
      if (!response.ok) throw new Error('API error: ' + response.status);
      const data = await response.json();
      return data.choices?.[0]?.message?.content?.trim() || null;
    } catch (e) {
      console.warn('DeepSeek generate error:', e);
      return null;
    }
  }
};

// ==================== SOUND SYSTEM ====================
const SFX = {
  ctx: null,
  init() {
    this.ctx = new (window.AudioContext || window.webkitAudioContext)();
  },
  ensure() {
    if (!this.ctx) this.init();
    if (this.ctx.state === 'suspended') this.ctx.resume();
  },
  play(type) {
    this.ensure();
    const c = this.ctx;
    const now = c.currentTime;
    switch(type) {
      case 'startup': this._startup(c, now); break;
      case 'error': this._error(c, now); break;
      case 'hit': this._hit(c, now); break;
      case 'squash': this._squash(c, now); break;
      case 'catch': this._catch(c, now); break;
      case 'place': this._place(c, now); break;
      case 'truck': this._truck(c, now); break;
      case 'coin': this._coin(c, now); break;
      case 'footstep': this._footstep(c, now); break;
      case 'levelup': this._levelup(c, now); break;
      case 'win': this._win(c, now); break;
      case 'popup': this._osc(c, 400, 'square', now, 0.08, 0.1); this._osc(c, 500, 'square', now + 0.05, 0.08, 0.1); break;
      case 'powerup': this._osc(c, 600, 'sine', now, 0.15, 0.12); this._osc(c, 900, 'sine', now+0.1, 0.15, 0.12); this._osc(c, 1200, 'sine', now+0.2, 0.2, 0.1); break;
      case 'freeze': this._osc(c, 1500, 'sine', now, 0.3, 0.1); this._osc(c, 800, 'sine', now+0.1, 0.4, 0.08); break;
      case 'achievement': this._osc(c, 784, 'sine', now, 0.2, 0.12); this._osc(c, 988, 'sine', now+0.15, 0.2, 0.12); this._osc(c, 1175, 'sine', now+0.3, 0.3, 0.1); break;
      case 'boss': this._osc(c, 100, 'sawtooth', now, 0.5, 0.2); this._osc(c, 80, 'square', now+0.2, 0.5, 0.15); break;
      case 'yt_boom': this._osc(c,80,'sawtooth',now,0.3,0.2); this._osc(c,60,'square',now+0.05,0.25,0.15); this._noise(c,now,0.15,0.2); break;
      case 'yt_whoosh': this._osc(c,300,'sine',now,0.15,0.08); this._osc(c,900,'sine',now,0.2,0.06); break;
      case 'yt_ding': this._osc(c,880,'sine',now,0.12,0.1); this._osc(c,1320,'sine',now+0.08,0.12,0.08); break;
      case 'yt_drama': this._osc(c,220,'sawtooth',now,0.4,0.1); this._osc(c,165,'sawtooth',now+0.2,0.4,0.08); this._osc(c,110,'square',now+0.4,0.6,0.12); break;
      case 'yt_laugh': this._osc(c,500,'sine',now,0.08,0.08); this._osc(c,600,'sine',now+0.1,0.08,0.08); this._osc(c,500,'sine',now+0.2,0.08,0.08); this._osc(c,650,'sine',now+0.3,0.08,0.08); break;
      case 'yt_scary': this._osc(c,120,'sawtooth',now,0.6,0.12); this._osc(c,127,'sawtooth',now,0.6,0.1); this._osc(c,60,'square',now+0.3,0.4,0.08); break;
      case 'yt_victory': this._osc(c,523,'sine',now,0.15,0.1); this._osc(c,659,'sine',now+0.15,0.15,0.1); this._osc(c,784,'sine',now+0.3,0.15,0.1); this._osc(c,1047,'sine',now+0.45,0.3,0.12); break;
      case 'yt_beat': this._osc(c,80,'square',now,0.12,0.18); this._noise(c,now,0.08,0.12); break;
      case 'yt_magic': this._osc(c,600,'sine',now,0.1,0.06); this._osc(c,900,'sine',now+0.06,0.1,0.06); this._osc(c,1200,'sine',now+0.12,0.1,0.06); this._osc(c,1500,'sine',now+0.18,0.15,0.05); break;
      case 'shadow_appear': this._osc(c,40,'sawtooth',now,0.8,0.15); this._osc(c,42,'sawtooth',now,0.8,0.12); this._noise(c,now+0.1,0.3,0.1); this._osc(c,30,'square',now+0.3,0.5,0.08); break;
      case 'shadow_eat': this._osc(c,50,'sawtooth',now,0.4,0.12); this._osc(c,35,'square',now+0.1,0.3,0.1); this._noise(c,now,0.2,0.08); break;
      case 'shadow_teleport': this._noise(c,now,0.1,0.12); this._osc(c,200,'sine',now,0.15,0.08); this._osc(c,80,'sine',now+0.08,0.1,0.06); break;
      case 'shadow_banish': this._osc(c,200,'sine',now,0.2,0.1); this._osc(c,400,'sine',now+0.15,0.2,0.1); this._osc(c,600,'sine',now+0.3,0.2,0.1); this._osc(c,800,'sine',now+0.45,0.3,0.12); break;
      case 'whisper': this._osc(c,80,'sine',now,1.0,0.04); this._osc(c,83,'sine',now,1.0,0.03); this._noise(c,now+0.3,0.5,0.03); break;
      case 'eye_appear': this._osc(c,200,'sine',now,0.3,0.08); this._osc(c,250,'sine',now+0.1,0.3,0.06); this._noise(c,now,0.15,0.05); break;
      case 'encrypt': this._osc(c,800,'square',now,0.1,0.08); this._osc(c,600,'square',now+0.05,0.1,0.08); this._osc(c,400,'square',now+0.1,0.1,0.08); break;
      case 'decrypt': this._osc(c,400,'sine',now,0.15,0.1); this._osc(c,600,'sine',now+0.1,0.15,0.1); this._osc(c,800,'sine',now+0.2,0.2,0.12); break;
      case 'radio_tune': this._noise(c,now,0.2,0.06); this._osc(c,440,'sine',now+0.1,0.3,0.08); break;
    }
  },
  _noise(c, t, dur, vol) {
    const buf = c.createBuffer(1, c.sampleRate * dur, c.sampleRate);
    const d = buf.getChannelData(0);
    for (let i = 0; i < d.length; i++) d[i] = (Math.random() * 2 - 1) * vol;
    const src = c.createBufferSource();
    const g = c.createGain();
    src.buffer = buf;
    g.gain.setValueAtTime(vol, t);
    g.gain.exponentialRampToValueAtTime(0.001, t + dur);
    src.connect(g); g.connect(c.destination);
    src.start(t);
  },
  _osc(c, freq, type, start, dur, vol=0.15) {
    const o = c.createOscillator();
    const g = c.createGain();
    o.type = type;
    o.frequency.value = freq;
    g.gain.setValueAtTime(vol, start);
    g.gain.exponentialRampToValueAtTime(0.001, start + dur);
    o.connect(g);
    g.connect(c.destination);
    o.start(start);
    o.stop(start + dur);
  },
  _startup(c, t) {
    const notes = [523, 659, 784, 1047];
    notes.forEach((n, i) => {
      this._osc(c, n, 'sine', t + i * 0.25, 0.4, 0.12);
      this._osc(c, n * 0.5, 'triangle', t + i * 0.25, 0.5, 0.06);
    });
  },
  _error(c, t) {
    this._osc(c, 200, 'square', t, 0.15, 0.2);
    this._osc(c, 150, 'square', t + 0.2, 0.3, 0.2);
  },
  _hit(c, t) {
    this._osc(c, 80, 'sawtooth', t, 0.2, 0.3);
    this._osc(c, 60, 'sine', t, 0.3, 0.2);
    // noise burst
    const buf = c.createBuffer(1, c.sampleRate * 0.1, c.sampleRate);
    const d = buf.getChannelData(0);
    for (let i = 0; i < d.length; i++) d[i] = (Math.random() * 2 - 1) * 0.3;
    const src = c.createBufferSource();
    const g = c.createGain();
    src.buffer = buf;
    g.gain.setValueAtTime(0.2, t);
    g.gain.exponentialRampToValueAtTime(0.001, t + 0.15);
    src.connect(g);
    g.connect(c.destination);
    src.start(t);
  },
  _squash(c, t) {
    this._osc(c, 300, 'sawtooth', t, 0.08, 0.15);
    this._osc(c, 100, 'sine', t + 0.02, 0.1, 0.1);
  },
  _catch(c, t) {
    this._osc(c, 600, 'sine', t, 0.1, 0.1);
    this._osc(c, 800, 'sine', t + 0.05, 0.1, 0.1);
  },
  _place(c, t) {
    this._osc(c, 800, 'sine', t, 0.1, 0.1);
    this._osc(c, 1000, 'sine', t + 0.08, 0.1, 0.1);
    this._osc(c, 1200, 'sine', t + 0.16, 0.15, 0.08);
  },
  _truck(c, t) {
    for (let i = 0; i < 20; i++) {
      this._osc(c, 50 + Math.random() * 30, 'sawtooth', t + i * 0.15, 0.2, 0.08);
    }
  },
  _coin(c, t) {
    this._osc(c, 988, 'square', t, 0.1, 0.08);
    this._osc(c, 1319, 'square', t + 0.1, 0.15, 0.08);
  },
  _footstep(c, t) {
    this._osc(c, 150 + Math.random() * 50, 'sine', t, 0.05, 0.04);
  },
  _levelup(c, t) {
    [523, 659, 784, 1047, 1319].forEach((n, i) => {
      this._osc(c, n, 'sine', t + i * 0.12, 0.25, 0.12);
    });
  },
  _win(c, t) {
    [523,659,784,1047,1319,1568].forEach((n, i) => {
      this._osc(c, n, 'sine', t + i * 0.15, 0.4, 0.1);
      this._osc(c, n * 0.5, 'triangle', t + i * 0.15, 0.5, 0.05);
    });
  }
};

// ==================== ICON DEFINITIONS ====================
const ICON_DEFS = [
  { id: 'mycomputer', name: '–ú–æ–π –ö–æ–º–ø—å—é—Ç–µ—Ä', icon: 'computer', fill: 0, color: '#B0D4FF' },
  { id: 'recyclebin', name: '–ö–æ—Ä–∑–∏–Ω–∞', icon: 'delete', fill: 0, color: '#E0E0E0' },
  { id: 'internet', name: '–ò–Ω—Ç–µ—Ä–Ω–µ—Ç', icon: 'language', fill: 0, color: '#90CAF9' },
  { id: 'documents', name: '–î–æ–∫—É–º–µ–Ω—Ç—ã', icon: 'folder', fill: 1, color: '#FFE082' },
  { id: 'notepad', name: '–ë–ª–æ–∫–Ω–æ—Ç', icon: 'edit_note', fill: 0, color: '#C8E6C9' },
  { id: 'paint', name: 'Paint', icon: 'palette', fill: 0, color: '#F8BBD0' },
  { id: 'bank', name: '–ë–∞–Ω–∫', icon: 'account_balance', fill: 1, color: '#FFD54F', action: 'bank' },
  { id: 'shop', name: '–ú–∞–≥–∞–∑–∏–Ω', icon: 'shopping_cart', fill: 1, color: '#81C784', action: 'shop' },
  { id: 'settings', name: '–ù–∞—Å—Ç—Ä–æ–π–∫–∏', icon: 'settings', fill: 0, color: '#B0BEC5', action: 'settings' },
  { id: 'radio', name: '–†–∞–¥–∏–æ', icon: 'radio', fill: 0, color: '#E91E63' },
  { id: 'sysmon', name: '–ú–æ–Ω–∏—Ç–æ—Ä', icon: 'speed', fill: 0, color: '#FF6F00' },
  { id: 'chat', name: '–ß–∞—Ç', icon: 'chat', fill: 1, color: '#A5D6A7' },
];

// –ú—É—Å–æ—Ä –∫–æ—Ç–æ—Ä—ã–π —Å—ã–ø–µ—Ç—Å—è –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
const TRASH_TYPES = [
  { emoji: 'üìÑ', name: '–ú—è—Ç–∞—è –±—É–º–∞–≥–∞' },
  { emoji: 'üìã', name: '–°—Ç–∞—Ä—ã–π —Ñ–∞–π–ª' },
  { emoji: '‚úâÔ∏è', name: '–°–ø–∞–º' },
  { emoji: 'üíæ', name: '–î–∏—Å–∫–µ—Ç–∞' },
  { emoji: 'üçï', name: '–ü–∏—Ü—Ü–∞' },
  { emoji: 'ü•§', name: '–°—Ç–∞–∫–∞–Ω' },
  { emoji: 'üßª', name: '–ë—É–º–∞–≥–∞' },
  { emoji: 'üìé', name: '–°–∫—Ä–µ–ø–∫–∞' },
];

// ==================== LEVELS ====================
const LEVELS = [
  {
    name: 'Windows 95', dur: 40, speedMul: 0.7, roachMul: 0.6, holeMul: 0.3,
    bg: '#008080',
    taskbar: 'linear-gradient(to bottom, #c0c0c0, #a0a0a0)',
    taskbarBorder: '#fff',
    startBtn: 'linear-gradient(to bottom, #c0c0c0, #a0a0a0)',
    startColor: '#000',
    trayBg: 'rgba(180,180,180,0.8)',
    textColor: '#000',
    logo: 'üíæ',
  },
  {
    name: 'Windows 98', dur: 45, speedMul: 0.85, roachMul: 0.75, holeMul: 0.5,
    bg: 'linear-gradient(180deg, #1a3a6a 0%, #2a5a9a 40%, #3a7aca 100%)',
    taskbar: 'linear-gradient(to bottom, #c0c0c0, #a0a0a0)',
    taskbarBorder: '#fff',
    startBtn: 'linear-gradient(to bottom, #c0c0c0, #a0a0a0)',
    startColor: '#000',
    trayBg: 'rgba(180,180,180,0.8)',
    textColor: '#000',
    logo: 'üñ•Ô∏è',
  },
  {
    name: 'Windows XP', dur: 55, speedMul: 1.0, roachMul: 1.0, holeMul: 1.0,
    bg: "url('https://lh3.googleusercontent.com/aida-public/AB6AXuBu-FQPleS9vPO-ubP_uYZMzCo1E9O4jDMOoqv2jtpZ39cbP02VH_oLn2GlKUJpho5eyTgIaGOwpeNVbiCQyWmyNoBDG4KpbIHPu9MyxA22l1XaowLERlpyTEwcc1vw92gJICwi9BTN5RlLPRxe595Uw4driWdIomxYbD61OyvWlgo0BthV2t7iShTFwDYTdcspV2GUhPL1No7iqhzawF_2AHzizYCBXIbABaFt6FXsbzjAmIAchxm9NS3xp_6xz9yZW04CokUgrA')",
    taskbar: 'linear-gradient(to bottom, #3168d5, #245DDA 40%, #1941a5)',
    taskbarBorder: '#4480F8',
    startBtn: 'linear-gradient(to bottom, #3C8C1D, #245D14)',
    startColor: '#fff',
    trayBg: 'rgba(13,154,255,0.5)',
    textColor: '#fff',
    logo: 'üèîÔ∏è',
  },
  {
    name: 'Windows Vista', dur: 55, speedMul: 1.2, roachMul: 1.2, holeMul: 1.3,
    bg: 'linear-gradient(160deg, #0a0a2e 0%, #1a1a5e 30%, #0d4a3a 60%, #2a8a4a 80%, #0a2a1a 100%)',
    taskbar: 'linear-gradient(to bottom, rgba(20,20,40,0.85), rgba(10,10,30,0.95))',
    taskbarBorder: 'rgba(100,140,255,0.3)',
    startBtn: 'linear-gradient(to bottom, #2a6ade, #1a4aae)',
    startColor: '#fff',
    trayBg: 'rgba(10,10,30,0.6)',
    textColor: '#fff',
    logo: '‚ú®',
  },
  {
    name: 'Windows 7', dur: 60, speedMul: 1.4, roachMul: 1.4, holeMul: 1.5,
    bg: 'linear-gradient(180deg, #0b3d91 0%, #1565c0 30%, #42a5f5 60%, #e3f2fd 100%)',
    taskbar: 'linear-gradient(to bottom, rgba(30,60,120,0.9), rgba(15,35,80,0.95))',
    taskbarBorder: 'rgba(80,150,255,0.4)',
    startBtn: 'linear-gradient(to bottom, #2e7d32, #1b5e20)',
    startColor: '#fff',
    trayBg: 'rgba(15,35,80,0.6)',
    textColor: '#fff',
    logo: 'üåä',
  },
  {
    name: 'Windows 8', dur: 55, speedMul: 1.6, roachMul: 1.6, holeMul: 1.8,
    bg: 'linear-gradient(135deg, #6a1b9a 0%, #8e24aa 30%, #ab47bc 60%, #4a148c 100%)',
    taskbar: 'linear-gradient(to bottom, #1a1a2e, #12121e)',
    taskbarBorder: '#333',
    startBtn: 'linear-gradient(to bottom, #0078d7, #005a9e)',
    startColor: '#fff',
    trayBg: 'rgba(18,18,30,0.8)',
    textColor: '#fff',
    logo: '‚óªÔ∏è',
  },
  {
    name: 'Windows 10', dur: 50, speedMul: 1.8, roachMul: 1.8, holeMul: 2.0,
    bg: 'linear-gradient(135deg, #001f54 0%, #003580 25%, #0066cc 50%, #004488 75%, #001a44 100%)',
    taskbar: 'linear-gradient(to bottom, #1a1a1a, #111)',
    taskbarBorder: '#333',
    startBtn: 'linear-gradient(to bottom, #0078d7, #005a9e)',
    startColor: '#fff',
    trayBg: 'rgba(26,26,26,0.8)',
    textColor: '#fff',
    logo: 'ü™ü',
  },
  {
    name: 'Windows 11', dur: 45, speedMul: 2.2, roachMul: 2.2, holeMul: 2.5,
    bg: 'radial-gradient(ellipse at 50% 80%, #4fc3f7 0%, #0288d1 25%, #01579b 50%, #1a237e 75%, #0d0d2b 100%)',
    taskbar: 'linear-gradient(to bottom, rgba(30,30,50,0.85), rgba(20,20,40,0.95))',
    taskbarBorder: 'rgba(255,255,255,0.1)',
    startBtn: 'linear-gradient(to bottom, rgba(255,255,255,0.1), rgba(255,255,255,0.05))',
    startColor: '#fff',
    trayBg: 'rgba(30,30,50,0.6)',
    textColor: '#fff',
    logo: 'üå∏',
  },
];

// ==================== GAME ====================
const game = {
  currentLevel: 0,
  levelTime: 0,
  money: 50,
  chaos: 0,
  maxChaos: 100,
  icons: [],
  cockroaches: [],
  windowRoaches: [],
  iconRoachMap: {}, // iconId -> count of roaches hiding inside
  trash: [],
  trashTimer: 0,
  holes: [],
  holeTimer: 0,
  nokia: null,
  nokiaHealth: 100,
  nokiaBroken: false,
  hammerMode: false,
  hammerUsed: 0,
  stunned: false,
  stunTimer: 0,
  phase: 'startup', // startup, playing, error, recovery_truck, recovery_settings, shutdown
  loanTaken: false,
  startMenuOpen: false,
  dragging: null,
  dragOffset: { x: 0, y: 0 },
  lastTime: 0,
  elapsed: 0,
  escapeTimer: 0,
  roachTimer: 0,
  footstepTimer: 0,
  gameArea: null,
  difficulty: 1,
  // New features state
  clippy: null, clippyTimer: 0, clippyMsgs: ['–ü–æ—Ö–æ–∂–µ, –≤—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –ø–æ–π–º–∞—Ç—å –∫–Ω–æ–ø–∫—É!','–ú–æ–≥—É –ª–∏ —è –ø–æ–º–æ—á—å? (–Ω–µ—Ç)','–í—ã –∑–Ω–∞–ª–∏ —á—Ç–æ —Ç–∞—Ä–∞–∫–∞–Ω—ã –º–æ–≥—É—Ç –∂–∏—Ç—å –±–µ–∑ –≥–æ–ª–æ–≤—ã?','–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–∫–ª—é—á–∏—Ç—å –∏ –≤–∫–ª—é—á–∏—Ç—å!','–í–∞—à —Ö–∞–æ—Å –Ω–∞ —Ä–µ–∫–æ—Ä–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ!','–Ø –≤–∏–∂—É —É –≤–∞—Å –¥—ã—Ä—ã –≤ –æ–±–æ—è—Ö...','–ö—É–ø–∏—Ç–µ Nokia, –æ–Ω–∞ –ø–æ–º–æ–∂–µ—Ç!','–°–∫—Ä–µ–ø—ã—à –æ–¥–æ–±—Ä—è–µ—Ç —ç—Ç–æ—Ç —Ö–∞–æ—Å!'],
  viruses: [], virusTimer: 0,
  spiders: [], spiderWebs: [], spiderTimer: 0,
  popupAds: [], adTimer: 0,
  updateActive: false, updateTimer: 0, updatePct: 0,
  screensaverActive: false, idleTimer: 0, screensaverTimer: 0,
  weatherType: 'none', weatherParticles: [], weatherTimer: 0,
  isNight: false, dayNightTimer: 0, dayNightCycle: 60,
  fireParticles: [],
  traps: [], glueCount: 0, extinguisherCount: 0,
  hasAntivirus: false, avTimer: 0, avScanEl: null,
  magnetActive: false, magnetTimer: 0,
  hammerMaxHits: 2,
  achievements: {}, achList: [
    {id:'roach10',name:'–¢–∞—Ä–∞–∫–∞–Ω–∏–π –û—Ö–æ—Ç–Ω–∏–∫',desc:'–£–±–µ–π 10 —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤',check:g=>g._achRoachKills>=10},
    {id:'roach50',name:'–î–µ–∑–∏–Ω—Å–µ–∫—Ç–æ—Ä',desc:'–£–±–µ–π 50 —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤',check:g=>g._achRoachKills>=50},
    {id:'lvl3',name:'–í–µ—Ç–µ—Ä–∞–Ω XP',desc:'–î–æ–π–¥–∏ –¥–æ —É—Ä–æ–≤–Ω—è 3',check:g=>g.currentLevel>=2},
    {id:'lvl8',name:'–ú–∞—Å—Ç–µ—Ä Windows',desc:'–ü—Ä–æ–π–¥–∏ –≤—Å–µ —É—Ä–æ–≤–Ω–∏',check:g=>g.currentLevel>=8},
    {id:'noHammer',name:'–ü–∞—Ü–∏—Ñ–∏—Å—Ç',desc:'–ü—Ä–æ–π–¥–∏ —É—Ä–æ–≤–µ–Ω—å –±–µ–∑ –º–æ–ª–æ—Ç–∫–∞',check:g=>g._achNoHammer},
    {id:'catch5',name:'–°–ø–∏–¥—Ä–∞–Ω–Ω–µ—Ä',desc:'–ü–æ–π–º–∞–π 5 –∫–Ω–æ–ø–æ–∫ –∑–∞ 5 —Å–µ–∫',check:g=>g._achFastCatch>=5},
    {id:'money100',name:'–ë–æ–≥–∞—á',desc:'–ù–∞–∫–æ–ø–∏ $100',check:g=>g.money>=100},
    {id:'clippy',name:'–ü—Ä–æ—â–∞–π –°–∫—Ä–µ–ø—ã—à',desc:'–í—ã–±—Ä–æ—Å–∏ Clippy –≤ –∫–æ—Ä–∑–∏–Ω—É',check:g=>g._achClippyTrash},
    {id:'shadow3',name:'–≠–∫–∑–æ—Ä—Ü–∏—Å—Ç',desc:'–ò–∑–≥–æ–Ω–∏ —Ç–µ–Ω—å 3 —Ä–∞–∑–∞',check:g=>g._achShadowBanish>=3},
    {id:'dark5min',name:'–ù–æ—á–Ω–æ–π –î–æ–∑–æ—Ä',desc:'–í—ã–∂–∏–≤–∏ 5 –º–∏–Ω —Å —Ñ–æ–Ω–∞—Ä–∏–∫–æ–º',check:g=>g._achFlashlightTime>=300},
    {id:'decrypt',name:'–•–∞–∫–µ—Ä',desc:'–†–∞—Å—à–∏—Ñ—Ä—É–π –≤–∏—Ä—É—Å-—à–∏—Ñ—Ä–æ–≤–∞–ª—å—â–∏–∫',check:g=>g._achDecrypted},
  ],
  _achShadowBanish: 0, _achFlashlightTime: 0, _achDecrypted: false,
  _achRoachKills: 0, _achNoHammer: true, _achFastCatch: 0, _achFastCatchTimer: 0, _achClippyTrash: false,
  boss: null, bossTimer: 0,
  pongBall: null, pongTimer: 0,
  shadow: null, shadowTimer: 0, shadowRestTimer: 0,
  _shadowEatenIcons: [], _shadowChatCorrupted: false,
  // Horror entities
  evilEye: null, evilEyeTimer: 0,
  mirrorCursor: null, _mirrorActive: false,
  glitchZone: null, glitchZoneTimer: 0,
  whisperTimer: 0,
  // Flashlight
  _flashlightActive: false, _flashlightEl: null, _flashlightTimer: 0,
  // Ransomware
  _ransomwareActive: false, _encryptedIcons: [], _ransomBanner: null,
  // Radio
  _radioPlaying: false, _radioOsc: null, _radioRepel: false,
  // Shadow trap
  _shadowTraps: [],
  // System monitor
  _sysmonInterval: null,

  init() {
    this.gameArea = document.getElementById('game-area');
    this._lastMouseX = 0; this._lastMouseY = 0;
    this.gameArea.addEventListener('mousemove', (e) => { var r = this.gameArea.getBoundingClientRect(); this._lastMouseX = e.clientX - r.left; this._lastMouseY = e.clientY - r.top; });
    this.currentLevel = 0;
    this.setupFleeingButton();
    this.setupStartup();
  },

  setupStartup() {
    this.phase = 'startup';
    const bar = document.getElementById('loading-bar');
    setTimeout(() => { bar.style.width = '100%'; }, 100);
    setTimeout(() => { SFX.play('startup'); }, 300);
    setTimeout(() => {
      document.getElementById('startup-screen').classList.add('hidden');
      this.showLevelScreen();
    }, 2800);
  },

  showLevelScreen() {
    const lvl = LEVELS[this.currentLevel];
    document.getElementById('level-num').textContent = `–£—Ä–æ–≤–µ–Ω—å ${this.currentLevel + 1} / ${LEVELS.length}`;
    document.getElementById('level-logo').textContent = lvl.logo;
    document.getElementById('level-name').textContent = lvl.name;
    document.getElementById('level-sub').textContent = `–ü—Ä–æ–¥–µ—Ä–∂–∏—Å—å ${lvl.dur} —Å–µ–∫—É–Ω–¥!`;
    document.getElementById('level-screen').classList.remove('hidden');
    document.getElementById('level-screen').style.background =
      (lvl.bg.startsWith('url') || lvl.bg.startsWith('linear') || lvl.bg.startsWith('radial'))
        ? lvl.bg : lvl.bg;
    document.getElementById('level-screen').style.background = '#000';
    this.phase = 'level_screen';

    const handler = () => {
      document.getElementById('level-screen').classList.add('hidden');
      document.getElementById('level-screen').removeEventListener('click', handler);
      this.startLevel();
    };
    // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ —á—Ç–æ–±—ã —Å–ª—É—á–∞–π–Ω—ã–π –∫–ª–∏–∫ –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏–ª
    setTimeout(() => {
      document.getElementById('level-screen').addEventListener('click', handler);
    }, 400);
  },

  startLevel() {
    this.cleanupLevel();
    const lvl = LEVELS[this.currentLevel];
    this.levelTime = lvl.dur;
    this.difficulty = lvl.speedMul;
    this.applyLevelStyle(lvl);

    document.getElementById('desktop').classList.remove('hidden');
    this.phase = 'playing';
    this.spawnIcons();
    this.lastTime = performance.now();
    this.elapsed = 0;
    requestAnimationFrame(ts => this.loop(ts));
  },

  applyLevelStyle(lvl) {
    const desktop = document.getElementById('desktop');
    if (lvl.bg.startsWith('url')) {
      desktop.style.backgroundImage = lvl.bg;
      desktop.style.background = '';
      desktop.style.backgroundImage = lvl.bg;
      desktop.style.backgroundSize = 'cover';
      desktop.style.backgroundPosition = 'center';
    } else {
      desktop.style.backgroundImage = 'none';
      desktop.style.background = lvl.bg;
    }
    const taskbar = document.getElementById('taskbar');
    taskbar.style.background = lvl.taskbar;
    taskbar.style.borderTopColor = lvl.taskbarBorder;
    const startBtn = document.getElementById('start-btn');
    startBtn.style.background = lvl.startBtn;
    startBtn.style.color = lvl.startColor;
    const tray = document.getElementById('system-tray');
    tray.style.background = lvl.trayBg;
    // Text color
    document.querySelectorAll('#money-display, #clock, #chaos-label, #level-timer').forEach(el => {
      el.style.color = lvl.textColor;
    });
  },

  cleanupLevel() {
    this.closeApp();
    this.icons.forEach(i => { if (i.el.parentNode) i.el.remove(); });
    this.cockroaches.forEach(r => { if (r.el.parentNode) r.el.remove(); });
    this.trash.forEach(t => { if (t.el.parentNode) t.el.remove(); });
    this.removeAllHoles();
    if (this.nokia && this.nokia.el && this.nokia.el.parentNode) this.nokia.el.remove();
    document.querySelectorAll('.score-popup, .hammer-impact').forEach(e => e.remove());
    this.icons = [];
    this.cockroaches = [];
    this.clearWindowRoaches();
    this.iconRoachMap = {};
    this.trash = [];
    this.trashTimer = 0;
    this.holes = [];
    this.holeTimer = 0;
    this.nokia = null;
    this.chaos = 0;
    this.hammerMode = false;
    this.hammerUsed = 0;
    this.stunned = false;
    this.stunTimer = 0;
    this.nokiaHealth = 100;
    this.nokiaBroken = false;
    this.dragging = null;
    this.escapeTimer = 0;
    this.roachTimer = 0;
    this.footstepTimer = 0;
    // Cleanup new features
    if (this.clippy) { this.clippy.el.remove(); this.clippy = null; }
    this.clippyTimer = 0;
    this.viruses.forEach(v=>{const ic=this.icons.find(i=>i.id===v.iconId);if(ic)ic.el.classList.remove('infected');}); this.viruses = [];
    this.spiders.forEach(s=>s.el.remove()); this.spiders = [];
    this.popupAds.forEach(a=>a.el.remove()); this.popupAds = [];
    this.updateActive = false; document.getElementById('update-overlay').classList.add('hidden');
    this.screensaverActive = false; document.getElementById('screensaver').classList.add('hidden');
    this.idleTimer = 0;
    document.getElementById('weather-container').innerHTML = '';
    this.weatherType = 'none';
    document.getElementById('night-overlay').style.background = 'rgba(0,0,30,0)';
    this.traps.forEach(t=>t.el.remove()); this.traps = [];
    this.magnetActive = false;
    if (this.avScanEl) { this.avScanEl.remove(); this.avScanEl = null; }
    if (this.boss) { this.boss.el.remove(); this.boss = null; }
    this.bossTimer = 0;
    if (this.pongBall) { this.pongBall.el.remove(); this.pongBall = null; }
    this.pongTimer = 0;
    if (this.shadow) { this.shadow.el.remove(); this.shadow = null; }
    this._shadowRemoveOverlay();
    this.shadowTimer = 0; this.shadowRestTimer = 0;
    this.removeEvilEye(); this.evilEyeTimer = 0;
    this.removeMirrorCursor();
    if (this.glitchZone) { this.glitchZone.el.remove(); this.glitchZone = null; } this.glitchZoneTimer = 0;
    this._shadowTraps.forEach(function(t){t.el.remove();}); this._shadowTraps = [];
    if (this._ransomBanner) { this._ransomBanner.remove(); this._ransomBanner = null; }
    this._ransomwareActive = false;
    this._encryptedIcons.forEach(function(id) { var ic = game.icons.find(function(i){return i.id===id;}); if(ic){ic.el.classList.remove('icon-encrypted'); var l=ic.el.querySelector('.icon-label'); if(l&&ic._origName)l.textContent=ic._origName;} });
    this._encryptedIcons = [];
    this.radioStop();
    this.deactivateFlashlight();
    this._shadowEatenIcons.forEach(function(iconId) { var ic = game.icons.find(function(i){return i.id===iconId;}); if(ic){ic.el.style.display='';ic.el.style.transform='';} });
    this._shadowEatenIcons = []; this._shadowChatCorrupted = false;
    this.gameArea.classList.remove('frozen');
    this.gameArea.style.cursor = '';
    this.gameArea.style.transform = '';
    this._achNoHammer = true;
    document.getElementById('desktop').classList.remove('dirty', 'chaos-high', 'shaking');
    document.getElementById('desktop').style.filter = '';
    this.resetDamageVisuals();
    this.updateMoney();
    this.updateChaosBar();
    document.getElementById('hammer-btn').classList.remove('active');
    document.getElementById('game-area').classList.remove('hammer-mode');
  },

  levelComplete() {
    this.phase = 'level_transition';
    SFX.play('levelup');
    this.showPopup(this.gameArea.clientWidth / 2 - 40, this.gameArea.clientHeight / 2, '–£–†–û–í–ï–ù–¨ –ü–†–û–ô–î–ï–ù!');

    setTimeout(() => {
      document.getElementById('desktop').classList.add('hidden');
      this.currentLevel++;
      if (this.currentLevel >= LEVELS.length) {
        // –í—Å–µ —É—Ä–æ–≤–Ω–∏ –ø—Ä–æ–π–¥–µ–Ω—ã!
        this.showWinScreen();
      } else {
        // –ë–æ–Ω—É—Å –∑–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ
        this.money += 15;
        this.loanTaken = false; // –ö—Ä–µ–¥–∏—Ç —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è
        this.updateMoney();
        this.showLevelScreen();
      }
    }, 1500);
  },

  showWinScreen() {
    SFX.play('win');
    document.getElementById('win-screen').classList.remove('hidden');
    this.phase = 'win';
    const handler = () => {
      document.getElementById('win-screen').classList.add('hidden');
      document.getElementById('win-screen').removeEventListener('click', handler);
      this.currentLevel = 0;
      this.money = 50;
      this.loanTaken = false;
      this.updateMoney();
      this.showLevelScreen();
    };
    setTimeout(() => {
      document.getElementById('win-screen').addEventListener('click', handler);
    }, 1000);
  },

  spawnIcons() {
    const area = this.gameArea;
    const areaRect = area.getBoundingClientRect();
    ICON_DEFS.forEach((def, i) => {
      const homeX = 20 + Math.floor(i / 5) * 85;
      const homeY = 16 + (i % 5) * 80;
      const icon = {
        id: def.id,
        def: def,
        homeX: homeX,
        homeY: homeY,
        x: homeX,
        y: homeY,
        state: 'sitting', // sitting, alive, caught, hiding
        vx: 0,
        vy: 0,
        escapeDelay: 5 + Math.random() * 15,
        timer: 0,
        dirChangeTimer: 0,
        hideTimer: 0,
        targetHole: null,
        el: null,
      };
      icon.el = this.createIconElement(icon);
      area.appendChild(icon.el);
      this.icons.push(icon);
    });
  },

  createIconElement(icon) {
    const el = document.createElement('div');
    el.className = 'desktop-icon';
    el.style.left = icon.x + 'px';
    el.style.top = icon.y + 'px';
    el.dataset.iconId = icon.id;

    const fill = icon.def.fill ? "'FILL' 1," : "'FILL' 0,";
    el.innerHTML = `
      <div class="icon-img">
        <span class="material-symbols-outlined" style="font-variation-settings: ${fill} 'wght' 300; color: ${icon.def.color};">${icon.def.icon}</span>
        <div class="icon-legs">
          <div class="leg leg-left"></div>
          <div class="leg leg-right"></div>
        </div>
        <div class="icon-arms">
          <div class="arm arm-left"></div>
          <div class="arm arm-right"></div>
        </div>
      </div>
      <span class="icon-label">${icon.def.name}</span>
    `;

    // –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ ‚Äî –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    el.addEventListener('dblclick', e => {
      e.preventDefault();
      if (this.phase !== 'playing') return;
      if (icon.state !== 'sitting' && icon.state !== 'alive') return;
      // –ï—Å–ª–∏ –±–µ–∂–∏—Ç ‚Äî –ª–æ–≤–∏–º —Å–Ω–∞—á–∞–ª–∞, –ø–æ—Ç–æ–º –æ—Ç–∫—Ä—ã–≤–∞–µ–º
      if (icon.state === 'alive') {
        icon.state = 'sitting';
        icon.el.classList.remove('alive');
        icon.vx = 0; icon.vy = 0;
        SFX.play('catch');
        // –ù–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞ –º–µ—Å—Ç–æ, –ø—Ä–æ—Å—Ç–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞ –º–µ—Å—Ç–µ
      }
      this.openApp(icon);
    });

    el.addEventListener('mousedown', e => {
      e.preventDefault();
      if (this.phase !== 'playing' || this.hammerMode) return;
      if (icon.state === 'alive' || icon.state === 'sitting') {
        const wasSitting = icon.state === 'sitting';
        icon.state = 'caught';
        el.classList.remove('alive');
        el.classList.add('caught');
        this.dragging = icon;
        const rect = el.getBoundingClientRect();
        const areaRect = this.gameArea.getBoundingClientRect();
        this.dragOffset.x = e.clientX - rect.left;
        this.dragOffset.y = e.clientY - rect.top;
        if (!wasSitting) { SFX.play('catch'); this._achFastCatch++; this._achFastCatchTimer = 0; }
      }
    });

    return el;
  },

  createCockroach() {
    if (this.cockroaches.length >= 20) return;
    const area = this.gameArea;
    const areaRect = area.getBoundingClientRect();
    // Spawn near recycle bin
    const recycleBin = this.icons.find(i => i.id === 'recyclebin');
    const sx = recycleBin ? recycleBin.x + 20 : 50;
    const sy = recycleBin ? recycleBin.y + 30 : 100;

    const roach = {
      x: sx + (Math.random() - 0.5) * 30,
      y: sy + (Math.random() - 0.5) * 20,
      vx: (Math.random() - 0.5) * 60,
      vy: (Math.random() - 0.5) * 60,
      dirTimer: 0,
      alive: true,
      el: null,
    };

    const el = document.createElement('div');
    el.className = 'cockroach';
    el.innerHTML = `
      <div class="cockroach-body"></div>
      <div class="cockroach-legs">
        <div class="cockroach-leg"></div>
        <div class="cockroach-leg"></div>
        <div class="cockroach-leg"></div>
        <div class="cockroach-leg"></div>
        <div class="cockroach-leg"></div>
        <div class="cockroach-leg"></div>
      </div>
    `;
    el.style.left = roach.x + 'px';
    el.style.top = roach.y + 'px';

    el.addEventListener('mousedown', e => {
      e.preventDefault();
      if (this.phase !== 'playing') return;
      if (this.hammerMode) return;
      this.squashCockroach(roach);
    });

    roach.el = el;
    area.appendChild(el);
    this.cockroaches.push(roach);
    this.addChaos(3);
  },

  createCockroachAt(cx, cy) {
    if (this.cockroaches.length >= 20) return;
    const area = this.gameArea;
    const roach = {
      x: cx + (Math.random() - 0.5) * 20,
      y: cy + (Math.random() - 0.5) * 20,
      vx: (Math.random() - 0.5) * 80,
      vy: (Math.random() - 0.5) * 80,
      dirTimer: 0,
      alive: true,
      el: null,
    };
    const el = document.createElement('div');
    el.className = 'cockroach';
    el.innerHTML = `<div class="cockroach-body"></div><div class="cockroach-legs"><div class="cockroach-leg"></div><div class="cockroach-leg"></div><div class="cockroach-leg"></div><div class="cockroach-leg"></div><div class="cockroach-leg"></div><div class="cockroach-leg"></div></div>`;
    el.style.left = roach.x + 'px';
    el.style.top = roach.y + 'px';
    el.addEventListener('mousedown', e => {
      e.preventDefault();
      if (this.phase !== 'playing' || this.hammerMode) return;
      this.squashCockroach(roach);
    });
    roach.el = el;
    area.appendChild(el);
    this.cockroaches.push(roach);
    this.addChaos(2);
  },

  squashCockroach(roach) {
    if (!roach.alive) return;
    roach.alive = false;
    roach.el.classList.add('squashed');
    SFX.play('squash');
    this.addChaos(-5);
    this.showPopup(roach.x, roach.y, '-5 —Ö–∞–æ—Å');
    this._achRoachKills++;
    setTimeout(() => {
      if (roach.el.parentNode) roach.el.parentNode.removeChild(roach.el);
      this.cockroaches = this.cockroaches.filter(r => r !== roach);
    }, 500);
  },

  // === –¢–ê–†–ê–ö–ê–ù–´ –í –ö–ù–û–ü–ö–ê–• ===
  cockroachEnterIcon(roach) {
    // –¢–∞—Ä–∞–∫–∞–Ω –ø—Ä—è—á–µ—Ç—Å—è –≤ –∏–∫–æ–Ω–∫—É
    if (!roach.alive) return;
    const sittingIcons = this.icons.filter(i => i.state === 'sitting' || i.state === 'alive');
    if (sittingIcons.length === 0) return;

    // –ù–∞–π—Ç–∏ –±–ª–∏–∂–∞–π—à—É—é –∏–∫–æ–Ω–∫—É
    let closest = null;
    let minDist = Infinity;
    sittingIcons.forEach(icon => {
      const dx = (icon.x + 32) - roach.x;
      const dy = (icon.y + 32) - roach.y;
      const d = Math.sqrt(dx * dx + dy * dy);
      if (d < minDist) { minDist = d; closest = icon; }
    });

    if (!closest || minDist > 60) return false;

    // –£–±–∏—Ä–∞–µ–º —Ç–∞—Ä–∞–∫–∞–Ω–∞ —Å –ø–æ–ª—è
    roach.alive = false;
    if (roach.el.parentNode) roach.el.remove();
    this.cockroaches = this.cockroaches.filter(r => r !== roach);

    // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ –∏–∫–æ–Ω–∫—É
    if (!this.iconRoachMap[closest.id]) this.iconRoachMap[closest.id] = 0;
    this.iconRoachMap[closest.id]++;
    closest.el.classList.add('icon-infested');

    return true;
  },

  getIconRoachCount(iconId) {
    return this.iconRoachMap[iconId] || 0;
  },

  // –°–ø–∞–≤–Ω —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ –≤–Ω—É—Ç—Ä–∏ –æ–∫–Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  spawnWindowRoaches(container, count) {
    this.clearWindowRoaches();
    const body = container.querySelector('.win-body');
    if (!body) return;
    body.style.position = 'relative';
    body.style.overflow = 'hidden';

    for (let i = 0; i < count; i++) {
      const wr = document.createElement('div');
      wr.className = 'window-roach';
      wr.innerHTML = `<div class="cockroach-body"></div><div class="cockroach-legs"><div class="cockroach-leg"></div><div class="cockroach-leg"></div><div class="cockroach-leg"></div><div class="cockroach-leg"></div><div class="cockroach-leg"></div><div class="cockroach-leg"></div></div>`;

      const startX = Math.random() * (body.clientWidth - 14);
      const startY = Math.random() * (body.clientHeight - 9);
      wr.style.left = startX + 'px';
      wr.style.top = startY + 'px';

      const roachData = {
        el: wr, x: startX, y: startY,
        vx: (Math.random() - 0.5) * 80,
        vy: (Math.random() - 0.5) * 80,
        dirTimer: Math.random() * 0.5,
        alive: true, container: body
      };

      wr.addEventListener('mousedown', e => {
        e.preventDefault();
        e.stopPropagation();
        if (!roachData.alive) return;
        roachData.alive = false;
        wr.classList.add('squashed');
        SFX.play('squash');
        this.addChaos(-3);
        this.showPopup(
          body.getBoundingClientRect().left + roachData.x,
          body.getBoundingClientRect().top + roachData.y,
          '-3 —Ö–∞–æ—Å'
        );
        setTimeout(() => { if (wr.parentNode) wr.remove(); }, 400);
        this.windowRoaches = this.windowRoaches.filter(r => r !== roachData);
      });

      body.appendChild(wr);
      this.windowRoaches.push(roachData);
    }
  },

  clearWindowRoaches() {
    this.windowRoaches.forEach(wr => {
      if (wr.el.parentNode) wr.el.remove();
    });
    this.windowRoaches = [];
  },

  updateWindowRoaches(dt) {
    this.windowRoaches.forEach(wr => {
      if (!wr.alive) return;
      wr.dirTimer -= dt;
      if (wr.dirTimer <= 0) {
        wr.dirTimer = 0.2 + Math.random() * 0.6;
        const speed = 30 + Math.random() * 50;
        const angle = Math.random() * Math.PI * 2;
        wr.vx = Math.cos(angle) * speed;
        wr.vy = Math.sin(angle) * speed;
      }
      const bw = wr.container.clientWidth - 14;
      const bh = wr.container.clientHeight - 9;
      wr.x += wr.vx * dt;
      wr.y += wr.vy * dt;
      if (wr.x < 0) { wr.x = 0; wr.vx = Math.abs(wr.vx); }
      if (wr.x > bw) { wr.x = bw; wr.vx = -Math.abs(wr.vx); }
      if (wr.y < 0) { wr.y = 0; wr.vy = Math.abs(wr.vy); }
      if (wr.y > bh) { wr.y = bh; wr.vy = -Math.abs(wr.vy); }
      wr.el.style.left = wr.x + 'px';
      wr.el.style.top = wr.y + 'px';
      wr.el.style.transform = 'rotate(' + (Math.atan2(wr.vy, wr.vx) * 180 / Math.PI) + 'deg)';
    });
  },

  // –û—Ç–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞ ‚Äî –≤—ã–ø—É—Å–∫–∞–µ–º —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ –∏–∑ –∏–∫–æ–Ω–∫–∏
  releaseRoachesInWindow(iconId, container) {
    const count = this.getIconRoachCount(iconId);
    if (count > 0) {
      this.spawnWindowRoaches(container, count);
      this.iconRoachMap[iconId] = 0;
      // –£–±–∏—Ä–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∑–∞—Ä–∞–∂—ë–Ω–Ω–æ—Å—Ç–∏
      const icon = this.icons.find(i => i.id === iconId);
      if (icon) icon.el.classList.remove('icon-infested');
    }
    // –°–ª—É—á–∞–π–Ω—ã–µ —Ç–∞—Ä–∞–∫–∞–Ω—ã ‚Äî —á–µ–º –±–æ–ª—å—à–µ —Ö–∞–æ—Å, —Ç–µ–º –±–æ–ª—å—à–µ —à–∞–Ω—Å
    const bonusChance = this.chaos / 150;
    if (Math.random() < bonusChance && count === 0) {
      const bonus = 1 + Math.floor(Math.random() * 3);
      this.spawnWindowRoaches(container, bonus);
    }
  },

  // === –ú–£–°–û–† ===
  createTrash() {
    if (this.trash.length >= 30) return;
    const recycleBin = this.icons.find(i => i.id === 'recyclebin');
    // –ú—É—Å–æ—Ä –ª–µ—Ç–∏—Ç –æ—Ç —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏ –∫–æ—Ä–∑–∏–Ω—ã
    const sx = recycleBin ? recycleBin.x + 20 : 50;
    const sy = recycleBin ? recycleBin.y + 30 : 100;
    const type = TRASH_TYPES[Math.floor(Math.random() * TRASH_TYPES.length)];

    const t = {
      x: sx + (Math.random() - 0.5) * 60,
      y: sy + (Math.random() - 0.5) * 40,
      type: type,
      el: null,
    };

    const el = document.createElement('div');
    el.className = 'trash-item';
    el.textContent = type.emoji;
    el.title = type.name;
    el.style.left = t.x + 'px';
    el.style.top = t.y + 'px';
    // –°–ª—É—á–∞–π–Ω—ã–π –ø–æ–≤–æ—Ä–æ—Ç
    el.style.transform = `rotate(${(Math.random() - 0.5) * 40}deg)`;

    el.addEventListener('mousedown', e => {
      e.preventDefault();
      e.stopPropagation();
      if (this.phase !== 'playing') return;
      this.cleanTrash(t);
    });

    t.el = el;
    this.gameArea.appendChild(el);
    this.trash.push(t);
    this.addChaos(2);
  },

  cleanTrash(t) {
    t.el.classList.add('cleaned');
    SFX.play('squash');
    this.addChaos(-3);
    this.showPopup(t.x, t.y, '-3 —Ö–∞–æ—Å');
    setTimeout(() => {
      if (t.el.parentNode) t.el.remove();
      this.trash = this.trash.filter(tr => tr !== t);
    }, 300);
  },

  // === –î–´–†–´ –í –§–û–ù–ï ===
  createHole(x, y) {
    if (this.holes.length >= 8) return;
    const area = this.gameArea;
    const w = 55 + Math.random() * 35;
    const h = 40 + Math.random() * 25;

    const hole = {
      x: Math.max(10, Math.min(x - w/2, area.clientWidth - w - 10)),
      y: Math.max(10, Math.min(y - h/2, area.clientHeight - h - 10)),
      w: w,
      h: h,
      occupant: null, // –∏–∫–æ–Ω–∫–∞ –∫–æ—Ç–æ—Ä–∞—è —Å–ø—Ä—è—Ç–∞–ª–∞—Å—å
      el: null,
    };

    const el = document.createElement('div');
    el.className = 'bg-hole';
    el.style.left = hole.x + 'px';
    el.style.top = hole.y + 'px';
    el.style.width = w + 'px';
    el.style.height = h + 'px';
    el.innerHTML = `
      <div class="bg-hole-shape">
        <div class="hole-eyes">
          <div class="hole-eye"></div>
          <div class="hole-eye"></div>
        </div>
      </div>
    `;

    // –ö–ª–∏–∫ –ø–æ –¥—ã—Ä–µ ‚Äî –≤—ã—Ç–∞—â–∏—Ç—å –∏–∫–æ–Ω–∫—É
    el.addEventListener('mousedown', e => {
      e.preventDefault();
      e.stopPropagation();
      if (this.phase !== 'playing') return;
      if (hole.occupant) {
        this.pullIconFromHole(hole);
      }
    });

    hole.el = el;
    area.appendChild(el);
    this.holes.push(hole);
    SFX.play('hit');
    this.addChaos(5);
    this.showPopup(hole.x, hole.y, '–î—ã—Ä–∞!');
  },

  pullIconFromHole(hole) {
    const icon = hole.occupant;
    if (!icon) return;
    hole.occupant = null;
    hole.el.querySelector('.hole-eyes').classList.remove('visible');

    // –ò–∫–æ–Ω–∫–∞ –≤—ã—Å–∫–∞–∫–∏–≤–∞–µ—Ç
    icon.state = 'alive';
    icon.el.classList.remove('hiding');
    icon.el.classList.add('alive');
    icon.el.style.opacity = '1';
    icon.el.style.pointerEvents = '';
    icon.x = hole.x + hole.w / 2 - 35;
    icon.y = hole.y - 30;
    icon.el.style.left = icon.x + 'px';
    icon.el.style.top = icon.y + 'px';
    // –£–±–µ–≥–∞–µ—Ç –≤ –∏—Å–ø—É–≥–µ
    icon.vx = (Math.random() - 0.5) * 150;
    icon.vy = -60 - Math.random() * 60;
    icon.dirChangeTimer = 1.5;
    SFX.play('catch');
    this.showPopup(icon.x, icon.y, '–ü–æ–π–º–∞–ª!');
  },

  hideIconInHole(icon, hole) {
    icon.state = 'hiding';
    icon.targetHole = null;
    hole.occupant = icon;
    // –ò–∫–æ–Ω–∫–∞ –ø—Ä—è—á–µ—Ç—Å—è –≤ –¥—ã—Ä—É
    icon.x = hole.x + hole.w / 2 - 35;
    icon.y = hole.y + hole.h / 2 - 20;
    icon.el.style.left = icon.x + 'px';
    icon.el.style.top = icon.y + 'px';
    icon.el.classList.remove('alive');
    icon.el.classList.add('hiding');
    icon.el.style.opacity = '0.2';
    icon.el.style.pointerEvents = 'none';
    icon.vx = 0;
    icon.vy = 0;
    // –ì–ª–∞–∑–∞ –ø–æ–¥–≥–ª—è–¥—ã–≤–∞—é—Ç –∏–∑ –¥—ã—Ä—ã
    hole.el.querySelector('.hole-eyes').classList.add('visible');
  },

  // –£–±—Ä–∞—Ç—å –¥—ã—Ä—É (–ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏)
  removeHole(hole) {
    if (hole.occupant) {
      this.pullIconFromHole(hole);
    }
    if (hole.el.parentNode) hole.el.remove();
    this.holes = this.holes.filter(h => h !== hole);
  },

  removeAllHoles() {
    this.holes.forEach(h => {
      if (h.occupant) {
        const icon = h.occupant;
        h.occupant = null;
        icon.state = 'sitting';
        icon.el.classList.remove('alive', 'hiding');
        icon.el.style.opacity = '1';
        icon.el.style.pointerEvents = '';
      }
      if (h.el.parentNode) h.el.remove();
    });
    this.holes = [];
  },

  addChaos(amount) {
    this.chaos = Math.max(0, Math.min(this.maxChaos, this.chaos + amount));
    this.updateChaosBar();
    if (this.chaos >= this.maxChaos && this.phase === 'playing') {
      this.triggerError();
    }
  },

  updateChaosBar() {
    const bar = document.getElementById('chaos-bar-inner');
    const pct = (this.chaos / this.maxChaos) * 100;
    bar.style.width = pct + '%';
    bar.className = pct > 70 ? 'danger' : pct > 40 ? 'warn' : '';
    this.updateDamageVisuals(pct);
  },

  updateDamageVisuals(pct) {
    const desktop = document.getElementById('desktop');
    const damageOverlay = document.getElementById('damage-overlay');
    const glitchBand = document.getElementById('glitch-band');
    const staticOverlay = document.getElementById('static-overlay');
    const bsodTint = document.getElementById('bsod-tint');
    const cracks = document.querySelectorAll('.crack');

    // === 0-20%: –≤—Å—ë —á–∏—Å—Ç–æ ===
    if (pct <= 20) {
      desktop.style.filter = '';
      desktop.classList.remove('chaos-high');
      damageOverlay.style.opacity = '0';
      glitchBand.style.opacity = '0';
      staticOverlay.style.opacity = '0';
      bsodTint.style.background = 'rgba(0,0,180,0)';
      cracks.forEach(c => c.classList.remove('visible'));
      return;
    }

    // === 20-40%: –ª—ë–≥–∫–∏–µ –ø–æ–º–µ—Ö–∏, —Ü–≤–µ—Ç–∞ –Ω–∞—á–∏–Ω–∞—é—Ç –ø–ª—ã—Ç—å ===
    if (pct <= 40) {
      const t = (pct - 20) / 20; // 0..1
      desktop.style.filter = `hue-rotate(${t * 8}deg) saturate(${1 + t * 0.3}) brightness(${1 - t * 0.05})`;
      desktop.classList.remove('chaos-high');
      // –ü–µ—Ä–≤—ã–µ —Ç—Ä–µ—â–∏–Ω—ã
      cracks[0].classList.toggle('visible', t > 0.5);
      cracks[1].classList.toggle('visible', t > 0.7);
      for (let i = 2; i < cracks.length; i++) cracks[i].classList.remove('visible');
      damageOverlay.style.opacity = String(t * 0.4);
      glitchBand.style.opacity = '0';
      staticOverlay.style.opacity = String(t * 0.05);
      bsodTint.style.background = 'rgba(0,0,180,0)';
      return;
    }

    // === 40-65%: –∑–∞–º–µ—Ç–Ω—ã–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è, –≥–ª–∏—Ç—á-–ø–æ–ª–æ—Å–∞, –±–æ–ª—å—à–µ —Ç—Ä–µ—â–∏–Ω ===
    if (pct <= 65) {
      const t = (pct - 40) / 25;
      desktop.style.filter = `hue-rotate(${8 + t * 15}deg) saturate(${1.3 + t * 0.5}) brightness(${0.95 - t * 0.1}) contrast(${1 + t * 0.15})`;
      desktop.classList.remove('chaos-high');
      cracks[0].classList.add('visible');
      cracks[1].classList.add('visible');
      cracks[2].classList.toggle('visible', t > 0.2);
      cracks[3].classList.toggle('visible', t > 0.4);
      cracks[4].classList.toggle('visible', t > 0.7);
      for (let i = 5; i < cracks.length; i++) cracks[i].classList.remove('visible');
      damageOverlay.style.opacity = String(0.4 + t * 0.3);
      // –ì–ª–∏—Ç—á-–ø–æ–ª–æ—Å–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è
      glitchBand.style.opacity = String(t * 0.5);
      glitchBand.style.height = (10 + t * 30) + 'px';
      glitchBand.style.top = (20 + Math.sin(Date.now() / 500) * 15) + '%';
      staticOverlay.style.opacity = String(0.05 + t * 0.08);
      bsodTint.style.background = `rgba(0,0,180,${t * 0.03})`;
      return;
    }

    // === 65-85%: —Å–µ—Ä—å—ë–∑–Ω—ã–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è, –º–µ—Ä—Ü–∞–Ω–∏–µ, —Ç—Ä—è—Å–∫–∞ ===
    if (pct <= 85) {
      const t = (pct - 65) / 20;
      desktop.style.filter = `hue-rotate(${23 + t * 25}deg) saturate(${1.8 - t * 0.8}) brightness(${0.85 - t * 0.15}) contrast(${1.15 + t * 0.2}) sepia(${t * 0.2})`;
      desktop.classList.add('chaos-high');
      for (let i = 0; i < 6; i++) cracks[i].classList.add('visible');
      cracks[6].classList.toggle('visible', t > 0.3);
      cracks[7].classList.toggle('visible', t > 0.6);
      damageOverlay.style.opacity = String(0.7 + t * 0.2);
      glitchBand.style.opacity = String(0.5 + t * 0.4);
      glitchBand.style.height = (40 + t * 40) + 'px';
      glitchBand.style.top = (15 + Math.sin(Date.now() / 300) * 20) + '%';
      staticOverlay.style.opacity = String(0.13 + t * 0.15);
      bsodTint.style.background = `rgba(0,0,180,${0.03 + t * 0.06})`;
      // –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è —Ç—Ä—è—Å–∫–∞
      if (Math.random() < 0.02) {
        desktop.classList.add('shaking');
        setTimeout(() => desktop.classList.remove('shaking'), 300);
      }
      return;
    }

    // === 85-100%: –ø–æ–ª–Ω—ã–π —Ä–∞–∑–≤–∞–ª, –ø–æ—á—Ç–∏ BSOD ===
    const t = (pct - 85) / 15;
    desktop.style.filter = `hue-rotate(${48 + t * 40}deg) saturate(${1 - t * 0.6}) brightness(${0.7 - t * 0.2}) contrast(${1.35 + t * 0.3}) sepia(${0.2 + t * 0.3})`;
    desktop.classList.add('chaos-high');
    cracks.forEach(c => c.classList.add('visible'));
    damageOverlay.style.opacity = '1';
    glitchBand.style.opacity = String(0.9 + t * 0.1);
    glitchBand.style.height = (80 + t * 60) + 'px';
    glitchBand.style.top = (10 + Math.sin(Date.now() / 200) * 25) + '%';
    staticOverlay.style.opacity = String(0.28 + t * 0.2);
    bsodTint.style.background = `rgba(0,0,180,${0.09 + t * 0.08})`;
    // –ß–∞—Å—Ç–∞—è —Ç—Ä—è—Å–∫–∞
    if (Math.random() < 0.06) {
      desktop.classList.add('shaking');
      setTimeout(() => desktop.classList.remove('shaking'), 300);
    }
  },

  resetDamageVisuals() {
    const desktop = document.getElementById('desktop');
    desktop.style.filter = '';
    desktop.classList.remove('chaos-high', 'shaking', 'dirty');
    document.getElementById('damage-overlay').style.opacity = '0';
    document.getElementById('glitch-band').style.opacity = '0';
    document.getElementById('static-overlay').style.opacity = '0';
    document.getElementById('bsod-tint').style.background = 'rgba(0,0,180,0)';
    document.querySelectorAll('.crack').forEach(c => c.classList.remove('visible'));
  },

  showPopup(x, y, text) {
    const el = document.createElement('div');
    el.className = 'score-popup';
    el.textContent = text;
    el.style.left = x + 'px';
    el.style.top = y + 'px';
    this.gameArea.appendChild(el);
    setTimeout(() => el.remove(), 1000);
  },

  // === HAMMER ===
  toggleHammer() {
    if (this.phase !== 'playing') return;
    this.hammerMode = !this.hammerMode;
    document.getElementById('hammer-btn').classList.toggle('active', this.hammerMode);
    document.getElementById('game-area').classList.toggle('hammer-mode', this.hammerMode);
  },

  hammerStrike(x, y) {
    this.hammerUsed++;
    SFX.play('hit');

    // Impact visual
    const impact = document.createElement('div');
    impact.className = 'hammer-impact';
    impact.style.left = (x - 20) + 'px';
    impact.style.top = (y - 20) + 'px';
    this.gameArea.appendChild(impact);
    setTimeout(() => impact.remove(), 400);

    this._achNoHammer = false;
    if (this.hammerUsed < this.hammerMaxHits) {
      // Stun everything
      this.stunned = true;
      this.stunTimer = 5;
      this.icons.forEach(icon => {
        if (icon.state === 'alive') {
          icon.el.classList.add('stunned');
        }
      });
      this.showPopup(x, y, `–û–ì–õ–£–®–ï–ù–ò–ï! (${this.hammerMaxHits - this.hammerUsed} –æ—Å—Ç–∞–ª–æ—Å—å)`);
    } else {
      // Last hit: shutdown
      this.shutdown();
    }
    this.hammerMode = false;
    document.getElementById('hammer-btn').classList.remove('active');
    document.getElementById('game-area').classList.remove('hammer-mode');
  },

  shutdown() {
    this.phase = 'shutdown';
    document.getElementById('desktop').classList.add('hidden');
    document.getElementById('shutdown-screen').classList.remove('hidden');
    document.getElementById('power-led').classList.add('off');

    document.getElementById('shutdown-screen').onclick = () => {
      this.restart();
    };
  },

  restart() {
    this.cleanupLevel();
    this.money = 50;
    this.loanTaken = false;
    this.elapsed = 0;
    this.updateMoney();

    document.getElementById('shutdown-screen').classList.add('hidden');
    document.getElementById('desktop').classList.add('hidden');
    document.getElementById('power-led').classList.remove('off');

    // Restart current level
    this.showLevelScreen();
  },

  // === ERROR & RECOVERY ===
  triggerError() {
    this.phase = 'error';
    SFX.play('error');
    document.getElementById('error-modal').classList.remove('hidden');
    document.getElementById('desktop').classList.add('dirty');
  },

  clickErrorOK() {
    document.getElementById('error-modal').classList.add('hidden');
    this.phase = 'recovery_truck';
    this.sendGarbageTruck();
  },

  sendGarbageTruck() {
    SFX.play('truck');
    const truck = document.getElementById('garbage-truck');
    truck.classList.remove('hidden');
    truck.style.left = '-80px';
    const areaW = this.gameArea.getBoundingClientRect().width;

    // Animate truck across screen
    setTimeout(() => { truck.style.left = (areaW + 80) + 'px'; }, 50);

    // While truck passes, clean up cockroaches, trash and partially fix visuals
    setTimeout(() => {
      this.cockroaches.forEach(r => {
        if (r.el.parentNode) r.el.remove();
      });
      this.cockroaches = [];
      this.clearWindowRoaches();
      this.iconRoachMap = {};
      this.icons.forEach(i => { i.el.classList.remove('icon-infested','infected'); });
      this.viruses = [];
      this.spiders.forEach(s=>s.el.remove()); this.spiders = [];
      this.popupAds.forEach(a=>a.el.remove()); this.popupAds = [];
      if(this.clippy){this.clippy.el.remove();this.clippy=null;}
      if(this.pongBall){this.pongBall.el.remove();this.pongBall=null;}
      if(this.boss){this.boss.el.remove();this.boss=null;}
      this.traps.forEach(t=>t.el.remove()); this.traps=[];
      this.trash.forEach(t => {
        if (t.el.parentNode) t.el.remove();
      });
      this.trash = [];
      // –î—ã—Ä—ã —Ç–æ–∂–µ –∑–∞–¥–µ–ª—ã–≤–∞–µ–º, –∏–∫–æ–Ω–∫–∏ –≤—ã–∫–∏–¥—ã–≤–∞–µ–º –Ω–∞—Ä—É–∂—É
      this.removeAllHoles();
      this.chaos = Math.max(0, this.chaos - 40);
      this.updateChaosBar();
      document.getElementById('desktop').classList.remove('dirty');
      // Partially clean damage ‚Äî truck removes some cracks and noise
      document.getElementById('static-overlay').style.opacity = '0';
      document.getElementById('glitch-band').style.opacity = '0';
      document.getElementById('bsod-tint').style.background = 'rgba(0,0,180,0)';
      document.getElementById('desktop').classList.remove('chaos-high');
    }, 1500);

    // After truck passes
    setTimeout(() => {
      truck.classList.add('hidden');
      truck.style.left = '-80px';
      this.phase = 'recovery_settings';
      document.getElementById('settings-modal').classList.remove('hidden');
    }, 3200);
  },

  closeSettings() {
    if (this.phase === 'recovery_settings') {
      this.addButtonsBack();
    } else {
      document.getElementById('settings-modal').classList.add('hidden');
    }
  },

  openSettings() {
    this.closeStartMenu();
    const modal = document.getElementById('settings-modal');
    const body = document.getElementById('settings-body');
    if (this.phase === 'recovery_settings') {
      body.innerHTML = `
        <p style="font-size:12px;color:#000;margin-bottom:12px;">–°–∏—Å—Ç–µ–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞. –ù—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –∫–Ω–æ–ø–∫–∏ –Ω–∞ –º–µ—Å—Ç–∞.</p>
        <div style="display:flex;justify-content:center;margin-top:8px;">
          <button class="win-btn win-btn-primary" onclick="game.addButtonsBack()">&#x2795; –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏</button>
        </div>`;
      modal.classList.remove('hidden');
    } else if (this.phase === 'playing') {
      const restOn = this.restMode;
      body.innerHTML = `
        <p style="font-size:12px;color:#000;margin-bottom:10px;">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</p>
        <div style="display:flex;flex-direction:column;gap:6px;align-items:center;">
          <button class="win-btn" onclick="game.${restOn ? 'exitRestMode' : 'enterRestMode'}()" style="width:220px;${restOn ? 'background:#fdd;border-color:#f88 #a44 #a44 #f88;' : ''}">
            ${restOn ? '‚öîÔ∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ö–∞–æ—Å—É' : 'üéÆ –†–µ–∂–∏–º –æ—Ç–¥—ã—Ö–∞'}
          </button>
          <button class="win-btn" onclick="document.getElementById('settings-modal').classList.add('hidden')" style="width:220px;">‚úï –ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
        <div style="margin-top:10px;font-size:10px;color:#888;text-align:center;">
          ${restOn
            ? '–†–µ–∂–∏–º –æ—Ç–¥—ã—Ö–∞ –≤–∫–ª—é—á—ë–Ω. –¢–∞–π–º–µ—Ä –Ω–∞ –ø–∞—É–∑–µ,<br>–∫–Ω–æ–ø–∫–∏ –Ω–µ –±–µ–≥–∞—é—Ç, —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ –Ω–µ—Ç.<br>–û—Ç–∫—Ä—ã–≤–∞–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∏–∫–æ–Ω–∫–∏!'
            : '–í —Ä–µ–∂–∏–º–µ –æ—Ç–¥—ã—Ö–∞ —Ç–∞–π–º–µ—Ä —É—Ä–æ–≤–Ω—è –Ω–∞ –ø–∞—É–∑–µ,<br>–∫–Ω–æ–ø–∫–∏ –Ω–µ –±–µ–≥–∞—é—Ç –∏ –º–æ–∂–Ω–æ –∏–≥—Ä–∞—Ç—å –≤ –º–∏–Ω–∏-–∏–≥—Ä—ã.'}
        </div>`;
      modal.classList.remove('hidden');
      if (!restOn) this.releaseRoachesInWindow('settings', modal.querySelector('.win-window'));
    }
  },

  addButtonsBack() {
    document.getElementById('settings-modal').classList.add('hidden');

    // All icons return to home with repair animation
    this.icons.forEach((icon, i) => {
      icon.state = 'sitting';
      icon.el.classList.remove('alive', 'stunned', 'caught');
      icon.el.classList.add('repairing');

      // Animate back to home
      const startX = icon.x;
      const startY = icon.y;
      const dur = 1200;
      const start = performance.now();

      const animateHome = (now) => {
        const t = Math.min((now - start) / dur, 1);
        const ease = t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
        icon.x = startX + (icon.homeX - startX) * ease;
        icon.y = startY + (icon.homeY - startY) * ease;
        icon.el.style.left = icon.x + 'px';
        icon.el.style.top = icon.y + 'px';
        if (t < 1) {
          requestAnimationFrame(animateHome);
        } else {
          icon.x = icon.homeX;
          icon.y = icon.homeY;
          icon.el.style.left = icon.x + 'px';
          icon.el.style.top = icon.y + 'px';
          icon.el.classList.remove('repairing');
          icon.escapeDelay = 8 + Math.random() * 15;
          icon.timer = 0;
        }
      };
      setTimeout(() => requestAnimationFrame(animateHome), i * 200);
    });

    SFX.play('place');
    this.chaos = 0;
    this.hammerUsed = 0;
    this.stunned = false;
    this.updateChaosBar();
    // –ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π ‚Äî –∫–Ω–æ–ø–∫–∏ –ø–æ—á–∏–Ω–∏–ª–∏ —Ñ–æ–Ω –∏ –∑–∞–¥–µ–ª–∞–ª–∏ –¥—ã—Ä—ã!
    this.removeAllHoles();
    this.resetDamageVisuals();

    setTimeout(() => {
      this.phase = 'playing';
    }, this.icons.length * 200 + 1300);
  },

  // === ECONOMY ===
  updateMoney() {
    document.getElementById('money-display').textContent = '$' + this.money;
    document.getElementById('bank-balance').textContent = '$' + this.money;
  },

  openBank() {
    this.closeStartMenu();
    this.closeApp();
    if (this.phase !== 'playing') return;
    const modal = document.getElementById('bank-modal');
    modal.classList.remove('hidden');
    document.getElementById('bank-balance').textContent = '$' + this.money;
    document.getElementById('bank-loan-btn').disabled = this.loanTaken;
    document.getElementById('bank-loan-btn').textContent = this.loanTaken ? '–ö—Ä–µ–¥–∏—Ç –≤–∑—è—Ç' : '–í–∑—è—Ç—å $12';
    if (!this.restMode) this.releaseRoachesInWindow('bank', modal.querySelector('.win-window'));
  },

  closeBank() {
    document.getElementById('bank-modal').classList.add('hidden');
    this.clearWindowRoaches();
  },

  takeLoan() {
    if (this.loanTaken) return;
    this.loanTaken = true;
    this.money += 12;
    SFX.play('coin');
    this.updateMoney();
    this.showPopup(200, 200, '+$12');
    this.closeBank();
  },

  openShop() {
    this.closeStartMenu();
    this.closeApp();
    if (this.phase !== 'playing') return;
    const modal = document.getElementById('shop-modal');
    modal.classList.remove('hidden');
    const btn = document.getElementById('buy-nokia-btn');
    if (this.nokia) {
      btn.textContent = '–ö—É–ø–ª–µ–Ω–æ';
      btn.disabled = true;
    } else if (this.money < 12) {
      btn.textContent = '–ù–µ—Ç $';
      btn.disabled = true;
    } else {
      btn.textContent = '–ö—É–ø–∏—Ç—å';
      btn.disabled = false;
    }
    // Update all shop buttons
    const upd = (id, cost, bought) => {
      const b = document.getElementById(id);
      if(!b) return;
      if(bought){b.textContent='–ö—É–ø–ª–µ–Ω–æ';b.disabled=true;}
      else if(this.money<cost){b.textContent='–ù–µ—Ç $';b.disabled=true;}
      else{b.textContent='–ö—É–ø–∏—Ç—å';b.disabled=false;}
    };
    upd('buy-trap-btn', 8, false);
    upd('buy-glue-btn', 6, false);
    upd('buy-extinguisher-btn', 10, false);
    upd('buy-magnet-btn', 15, false);
    upd('buy-av-btn', 20, this.hasAntivirus);
    upd('buy-hammerup-btn', 18, false);
    upd('buy-shadowtrap-btn', 15, false);
    upd('buy-flashlight-btn', 10, this._flashlightActive);
    if (!this.restMode) this.releaseRoachesInWindow('shop', modal.querySelector('.win-window'));
  },

  closeShop() {
    document.getElementById('shop-modal').classList.add('hidden');
    this.clearWindowRoaches();
  },

  buyNokia() {
    if (this.nokia || this.money < 12) return;
    this.money -= 12;
    SFX.play('coin');
    this.updateMoney();
    this.spawnNokia();
    this.closeShop();
    this.showPopup(300, 250, 'Nokia –∫—É–ø–ª–µ–Ω–∞!');
  },

  spawnNokia() {
    const el = document.createElement('div');
    el.className = 'nokia-phone';
    el.innerHTML = `
      <div class="nokia-screen">NOKIA</div>
      <div class="nokia-keys">
        <div class="nokia-key"></div><div class="nokia-key"></div><div class="nokia-key"></div>
        <div class="nokia-key"></div><div class="nokia-key"></div><div class="nokia-key"></div>
        <div class="nokia-key"></div><div class="nokia-key"></div><div class="nokia-key"></div>
      </div>
      <div class="nokia-health"><div class="nokia-health-bar" id="nokia-health-bar" style="width:100%"></div></div>
      <div class="nokia-roaches hidden" id="nokia-roaches"></div>
    `;
    el.style.left = '300px';
    el.style.top = '200px';

    el.addEventListener('click', () => {
      if (this.phase !== 'playing') return;
      // Clicking nokia restores its health
      this.nokiaHealth = Math.min(100, this.nokiaHealth + 30);
      this.nokiaBroken = false;
      el.classList.remove('broken');
      document.getElementById('nokia-roaches').classList.add('hidden');
      this.updateNokiaHealth();
      SFX.play('catch');
    });

    this.gameArea.appendChild(el);
    this.nokia = { el: el, x: 300, y: 200 };
    this.nokiaHealth = 100;
    this.nokiaBroken = false;
  },

  updateNokiaHealth() {
    const bar = document.getElementById('nokia-health-bar');
    if (bar) {
      bar.style.width = this.nokiaHealth + '%';
      bar.style.background = this.nokiaHealth > 50 ? '#0f0' : this.nokiaHealth > 20 ? '#ff0' : '#f00';
    }
  },

  // === START MENU ===
  toggleStartMenu() {
    this.startMenuOpen = !this.startMenuOpen;
    document.getElementById('start-menu').classList.toggle('hidden', !this.startMenuOpen);
  },

  closeStartMenu() {
    this.startMenuOpen = false;
    document.getElementById('start-menu').classList.add('hidden');
  },

  // === –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø ===
  openApp(icon) {
    this.closeStartMenu();
    // –î–ª—è –±–∞–Ω–∫–∞/–º–∞–≥–∞–∑–∏–Ω–∞/–Ω–∞—Å—Ç—Ä–æ–µ–∫ ‚Äî —Å–≤–æ–∏ –º–æ–¥–∞–ª–∫–∏
    if (icon.def.action === 'bank') { this.openBank(); return; }
    if (icon.def.action === 'shop') { this.openShop(); return; }
    if (icon.def.action === 'settings') { this.openSettings(); return; }

    // Reset chat state for new app
    if (icon.id !== 'chat') this._chatCurrent = null;
    this._chatEmojiOpen = false;

    const win = document.getElementById('app-window');
    const title = document.getElementById('app-title');
    const body = document.getElementById('app-body');

    // Reset maximize
    win.classList.remove('app-maximized');
    this._appMaximized = false;

    title.textContent = icon.def.name;
    body.innerHTML = this.getAppContent(icon);
    win.classList.remove('hidden');
    // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º —Ä—è–¥–æ–º —Å –∏–∫–æ–Ω–∫–æ–π
    const maxX = this.gameArea.clientWidth - 320;
    const maxY = this.gameArea.clientHeight - 250;
    win.style.left = Math.min(Math.max(10, icon.x + 60), maxX) + 'px';
    win.style.top = Math.min(Math.max(10, icon.y), maxY) + 'px';
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
    this.initApp(icon);
    // –¢–∞—Ä–∞–∫–∞–Ω—ã –≤ –æ–∫–Ω–µ! (–Ω–µ –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–¥—ã—Ö–∞)
    if (!this.restMode) this.releaseRoachesInWindow(icon.id, win);
  },

  closeApp() {
    const win = document.getElementById('app-window');
    win.classList.add('hidden');
    win.classList.remove('app-maximized');
    this._appMaximized = false;
    this.clearWindowRoaches();
    if (this._ytInterval) { clearInterval(this._ytInterval); this._ytInterval = null; }
    this._ytStopParticles();
    this._ytStopAutoChat();
    this._ytPlaying = false;
    this._ytGameActive = false;
    if (this._ytGameTimer) { clearInterval(this._ytGameTimer); this._ytGameTimer = null; }
    if (this._ytGameAnimFrame) { cancelAnimationFrame(this._ytGameAnimFrame); this._ytGameAnimFrame = null; }
    if (this._ytSnakeKeyHandler) { document.removeEventListener('keydown', this._ytSnakeKeyHandler); this._ytSnakeKeyHandler = null; }
    if (this._chatEmojiOpen) this._chatEmojiOpen = false;
    if (this._sysmonInterval) { clearInterval(this._sysmonInterval); this._sysmonInterval = null; }
    this.radioStop();
  },

  // === WINDOW DRAGGING ===
  _appDragging: false,
  _appDragOfs: {x:0,y:0},
  _appMaximized: false,

  startDragWindow(e) {
    if (this._appMaximized) return;
    if (e.target.closest('.win-close') || e.target.closest('.win-maximize')) return;
    const win = document.getElementById('app-window');
    const rect = win.getBoundingClientRect();
    const areaRect = this.gameArea.getBoundingClientRect();
    this._appDragging = true;
    this._appDragOfs = { x: e.clientX - rect.left + areaRect.left, y: e.clientY - rect.top + areaRect.top };
    const onMove = (ev) => {
      if (!this._appDragging) return;
      const aR = this.gameArea.getBoundingClientRect();
      let nx = ev.clientX - this._appDragOfs.x;
      let ny = ev.clientY - this._appDragOfs.y;
      nx = Math.max(0, Math.min(nx, this.gameArea.clientWidth - 100));
      ny = Math.max(0, Math.min(ny, this.gameArea.clientHeight - 30));
      win.style.left = nx + 'px';
      win.style.top = ny + 'px';
    };
    const onUp = () => {
      this._appDragging = false;
      document.removeEventListener('mousemove', onMove);
      document.removeEventListener('mouseup', onUp);
    };
    document.addEventListener('mousemove', onMove);
    document.addEventListener('mouseup', onUp);
    e.preventDefault();
  },

  toggleMaximize() {
    const win = document.getElementById('app-window');
    this._appMaximized = !this._appMaximized;
    if (this._appMaximized) {
      this._appRestorePos = { left: win.style.left, top: win.style.top };
      win.classList.add('app-maximized');
    } else {
      win.classList.remove('app-maximized');
      if (this._appRestorePos) {
        win.style.left = this._appRestorePos.left;
        win.style.top = this._appRestorePos.top;
      }
    }
  },

  getAppContent(icon) {
    const lvl = LEVELS[this.currentLevel];
    switch (icon.id) {
      case 'mycomputer':
        const usedPct = Math.round(this.chaos);
        const aliveN = this.icons.filter(i => i.state !== 'sitting').length;
        const hidingN = this.icons.filter(i => i.state === 'hiding').length;
        return `
          <div style="padding:4px;">
            <div class="app-row"><span class="app-icon-sm">üíª</span><b>${lvl ? lvl.name : 'Windows'}</b> ‚Äî –£—Ä–æ–≤–µ–Ω—å ${this.currentLevel+1}</div>
            <div class="app-row">
              <span class="app-icon-sm">üíæ</span>
              <span>–î–∏—Å–∫ C: (–∑–∞–Ω—è—Ç–æ ${usedPct}%)</span>
              <div class="app-bar-bg"><div class="app-bar" style="width:${usedPct}%;background:${usedPct>70?'#c00':usedPct>40?'#cc0':'#38f'}"></div></div>
            </div>
            <div class="app-row"><span class="app-icon-sm">üß†</span>RAM: $${this.money} —Å–≤–æ–±–æ–¥–Ω–æ</div>
            <div class="app-row"><span class="app-icon-sm">üèÉ</span>–°–±–µ–∂–∞–ª–∏: ${aliveN} –∫–Ω–æ–ø–æ–∫</div>
            <div class="app-row"><span class="app-icon-sm">üï≥Ô∏è</span>–ü—Ä—è—á—É—Ç—Å—è: ${hidingN} –∫–Ω–æ–ø–æ–∫</div>
            <div class="app-row"><span class="app-icon-sm">ü™≥</span>–¢–∞—Ä–∞–∫–∞–Ω–æ–≤: ${this.cockroaches.length}</div>
            <div class="app-row"><span class="app-icon-sm">üóëÔ∏è</span>–ú—É—Å–æ—Ä–∞: ${this.trash.length}</div>
            <div class="app-row"><span class="app-icon-sm">üï≥Ô∏è</span>–î—ã—Ä –≤ –æ–±–æ—è—Ö: ${this.holes.length}</div>
            <div class="app-row"><span class="app-icon-sm">üï∑Ô∏è</span>–ü–∞—É–∫–æ–≤: ${this.spiders.length}</div>
            <div class="app-row"><span class="app-icon-sm">üèÜ</span>–î–æ—Å—Ç–∏–∂–µ–Ω–∏–π: ${Object.keys(this.achievements).length}/${this.achList.length}</div>
            <div class="app-row"><span class="app-icon-sm">üåô</span>${this.isNight?'–ù–æ—á—å':'–î–µ–Ω—å'} | ${this.weatherType==='rain'?'üåßÔ∏è –î–æ–∂–¥—å':this.weatherType==='snow'?'‚ùÑÔ∏è –°–Ω–µ–≥':'‚òÄÔ∏è –Ø—Å–Ω–æ'}</div>
            ${this.hasAntivirus?'<div class="app-row"><span class="app-icon-sm">üõ°Ô∏è</span>–ê–Ω—Ç–∏–≤–∏—Ä—É—Å: –∞–∫—Ç–∏–≤–µ–Ω</div>':''}
          </div>`;

      case 'recyclebin':
        const items = this.trash.length;
        const roaches = this.cockroaches.length;
        return `
          <div style="padding:4px;">
            <div style="text-align:center;font-size:36px;margin:8px 0;">${items > 0 ? 'üóëÔ∏è' : 'üìÅ'}</div>
            <div style="text-align:center;margin-bottom:8px;">${items > 0 ? `–í –∫–æ—Ä–∑–∏–Ω–µ: ${items} –º—É—Å–æ—Ä–∞, ${roaches} —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤` : '–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!'}</div>
            ${items > 0 ? '<div style="text-align:center;"><button class="win-btn" onclick="game.emptyTrash()">üßπ –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É</button></div>' : ''}
            <div style="text-align:center;margin-top:8px;font-size:10px;color:#888;">‚ö†Ô∏è –û—Å—Ç–æ—Ä–æ–∂–Ω–æ: –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ —Ç–∞—Ä–∞–∫–∞–Ω—ã –º–æ–≥—É—Ç —Ä–∞–∑–±–µ–∂–∞—Ç—å—Å—è!</div>
          </div>`;

      case 'internet':
        const shorts = [
          { emoji:'ü™≥', bg:'#1a1a2e', title:'–¢–ê–†–ê–ö–ê–ù–´ –ó–ê–•–í–ê–¢–ò–õ–ò –ü–ö!!!', views:'2.3M' },
          { emoji:'üî®', bg:'#4a2c0a', title:'–ë–¨–Å–ú –ú–û–õ–û–¢–ö–û–ú –í–°–Å –ü–û–î–†–Ø–î', views:'890K' },
          { emoji:'üìé', bg:'#2e4a1a', title:'–ö–õ–ò–ü–ü–ò –í–ï–†–ù–£–õ–°–Ø –ò –û–ù –ó–û–õ', views:'1.1M' },
          { emoji:'üí∞', bg:'#4a3a0a', title:'–§–ê–†–ú –î–ï–ù–ï–ì –ì–ê–ô–î 2026', views:'445K' },
          { emoji:'üï∑Ô∏è', bg:'#1a1a1a', title:'–ü–ê–£–ö –°–™–ï–õ –ú–û–Æ –ú–´–®–ö–£', views:'3.7M' },
          { emoji:'ü¶ñ', bg:'#0a3a2a', title:'–î–ò–ù–û–ó–ê–í–† –í –ò–ù–¢–ï–†–ù–ï–¢–ï?!', views:'667K' },
          { emoji:'üëæ', bg:'#2a0a3a', title:'–í–ò–†–£–° –£–î–ê–õ–ò–õ –†–ê–ë–û–ß–ò–ô –°–¢–û–õ', views:'4.1M' },
          { emoji:'üèÜ', bg:'#3a2a0a', title:'–ü–†–û–®–Å–õ –í–°–ï –£–†–û–í–ù–ò –ë–ï–ó –ú–û–õ–û–¢–ö–ê', views:'1.5M' },
          { emoji:'üé∞', bg:'#0a2a1a', title:'–ü–†–û–ò–ì–†–ê–õ –í–°–ï –î–ï–ù–¨–ì–ò –í –ë–ê–ù–ö–ï', views:'2.8M' },
          { emoji:'üåë', bg:'#0a0000', title:'–¢–ï–ù–¨ –ó–ê–ë–†–ê–õ–ê –í–°–ï –ö–ù–û–ü–ö–ò', views:'6.2M' },
          { emoji:'üîê', bg:'#001a00', title:'–í–ò–†–£–° –ó–ê–®–ò–§–†–û–í–ê–õ –í–ï–°–¨ –ü–ö', views:'4.5M' },
          { emoji:'üëÅÔ∏è', bg:'#2a0000', title:'–ì–õ–ê–ó –ù–ê –≠–ö–†–ê–ù–ï –°–õ–ï–î–ò–¢ –ó–ê –ú–ù–û–ô', views:'5.3M' },
          { emoji:'üî¶', bg:'#1a1a1a', title:'–ò–ì–†–ê–Æ –í –¢–ï–ú–ù–û–¢–ï –° –§–û–ù–ê–†–ò–ö–û–ú', views:'3.9M' },
        ];
        const videos = [
          { emoji:'üñ•Ô∏è', bg:'#16213e', title:'–û–∂–∏–≤—à–∏–π –ö–æ–º–ø—å—é—Ç–µ—Ä - –ø–æ–ª–Ω–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ Win95-Win11', channel:'GameMaster', views:'5.2M –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤', time:'45:12' },
          { emoji:'ü™≥üíÄ', bg:'#2d132c', title:'100 –¢–ê–†–ê–ö–ê–ù–û–í –∑–∞ 1 –ú–ò–ù–£–¢–£ (–º–∏—Ä–æ–≤–æ–π —Ä–µ–∫–æ—Ä–¥)', channel:'SpeedRunner228', views:'1.8M –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤', time:'1:23' },
          { emoji:'üõí', bg:'#1a1a2e', title:'–ö–£–ü–ò–õ –í–°–Å –í –ú–ê–ì–ê–ó–ò–ù–ï - —á—Ç–æ –±—É–¥–µ—Ç?', channel:'–¢–µ—Å—Ç–µ—Ä–ò–≥—Ä', views:'920K –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤', time:'12:05' },
          { emoji:'üìéüî•', bg:'#4a0a0a', title:'–ö–õ–ò–ü–ü–ò vs –ë–û–°–° - –≠–ü–ò–ß–ù–ê–Ø –ë–ò–¢–í–ê', channel:'EpicBattles', views:'3.1M –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤', time:'8:44' },
          { emoji:'üéÆ', bg:'#0a2a4a', title:'–¢–û–ü 10 –°–ï–ö–†–ï–¢–û–í –≤ –û–∂–∏–≤—à–∏–π –ö–æ–º–ø—å—é—Ç–µ—Ä', channel:'–°–µ–∫—Ä–µ—Ç—ã–ò–≥—Ä', views:'2.4M –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤', time:'15:30' },
          { emoji:'üò±', bg:'#2a0a2a', title:'–°–ò–ù–ò–ô –≠–ö–†–ê–ù –°–ú–ï–†–¢–ò –ù–ê –†–ï–ê–õ–¨–ù–û–ú –ü–ö (–Ω–µ –∫–ª–∏–∫–±–µ–π—Ç)', channel:'–¢–µ—Ö–Ω–æ–ë–ª–æ–≥', views:'4.0M –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤', time:'6:18' },
          { emoji:'ü™≥üëë', bg:'#3a2a1a', title:'–ö–û–†–û–õ–¨ –¢–ê–†–ê–ö–ê–ù–û–í - –ü–û–õ–ù–ê–Ø –ò–°–¢–û–†–ò–Ø', channel:'–õ–æ—Ä–ú–∞—Å—Ç–µ—Ä', views:'1.9M –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤', time:'22:10' },
          { emoji:'üîß', bg:'#1a3a3a', title:'–ö–ê–ö –ü–û–ß–ò–ù–ò–¢–¨ –ö–û–ú–ü–¨–Æ–¢–ï–† –µ—Å–ª–∏ –í–°–Å –°–õ–û–ú–ê–õ–û–°–¨', channel:'–¢–µ—Ö–ü–æ–º–æ—â—å', views:'6.7M –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤', time:'11:02' },
          { emoji:'üíÄ', bg:'#1a0a1a', title:'–ß–¢–û –ë–£–î–ï–¢ –ï–°–õ–ò –•–ê–û–° 100%? (—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç)', channel:'–ö—Ä—ç–π–∑–∏–¢–µ—Å—Ç', views:'3.5M –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤', time:'7:33' },
          { emoji:'üïπÔ∏è', bg:'#2a2a0a', title:'–ò–ì–†–ê–Æ –í –°–ê–ü–Å–† –û–î–ù–û–ô –†–£–ö–û–ô –í–°–õ–ï–ü–£–Æ', channel:'ChallengeKing', views:'2.2M –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤', time:'14:45' },
          { emoji:'üåë', bg:'#0a0000', title:'–í–´–ó–í–ê–õ –¢–ï–ù–¨ –í 3 –ß–ê–°–ê –ù–û–ß–ò!!! (–Ω–µ –ø–æ–≤—Ç–æ—Ä—è—Ç—å)', channel:'HorrorGamer', views:'7.8M –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤', time:'13:21' },
          { emoji:'üîê', bg:'#001a00', title:'–í–ò–†–£–° –ó–ê–®–ò–§–†–û–í–ê–õ –ú–û–ô –ü–ö ‚Äî –ö–ê–ö –°–ü–ê–°–¢–ò?!', channel:'–¢–µ—Ö–Ω–æ–ë–ª–æ–≥', views:'5.1M –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤', time:'9:44' },
        ];
        const games = [
          { emoji:'ü™≥', title:'–¢–∞—Ä–∞–∫–∞–Ω –†–∞–Ω–Ω–µ—Ä', desc:'–ë–µ–≥–∏ –æ—Ç –º–æ–ª–æ—Ç–∫–∞!', color:'#4E342E', id:0 },
          { emoji:'üî®', title:'–ú–æ–ª–æ—Ç–æ–∫ –ö–ª–∏–∫–µ—Ä', desc:'–ö–ª–∏–∫–∞–π –∏ –ª–æ–º–∞–π!', color:'#FF6F00', id:1 },
          { emoji:'üìé', title:'–ö–ª–∏–ø–ø–∏ –ö–≤–µ—Å—Ç', desc:'–ü–æ–º–æ–≥–∏ –ö–ª–∏–ø–ø–∏!', color:'#4CAF50', id:2 },
          { emoji:'üß©', title:'–ü–∏–∫—Å–µ–ª—å –ü–∞–∑–ª', desc:'–°–æ–±–µ—Ä–∏ —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª', color:'#3F51B5', id:3 },
          { emoji:'üêç', title:'–ó–º–µ–π–∫–∞ XP', desc:'–ö–ª–∞—Å—Å–∏–∫–∞ –Ω–∞–≤—Å–µ–≥–¥–∞', color:'#2E7D32', id:4 },
          { emoji:'üöÄ', title:'–í–∏—Ä—É—Å –®—É—Ç–µ—Ä', desc:'–°—Ç—Ä–µ–ª—è–π –ø–æ –≤–∏—Ä—É—Å–∞–º!', color:'#C62828', id:5 },
        ];
        const shortsHTML = shorts.map((s,i) => `
          <div class="yt-short" onclick="game.playYTShort(${i})">
            <div class="yt-short-thumb" style="background:${s.bg};">${s.emoji}</div>
            <div class="yt-short-title">${s.title}</div>
            <div class="yt-short-views">${s.views} –ø—Ä–æ—Å–º.</div>
          </div>`).join('');
        const videosHTML = videos.map((v,i) => `
          <div class="yt-video" onclick="game.playYTVideo(${i})">
            <div class="yt-video-thumb" style="background:${v.bg};">
              ${v.emoji}<div class="yt-play">&#9654;</div>
              <span style="position:absolute;bottom:2px;right:4px;background:rgba(0,0,0,0.8);color:#fff;font-size:8px;padding:0 3px;border-radius:2px;">${v.time}</span>
            </div>
            <div class="yt-video-info">
              <div class="yt-video-title">${v.title}</div>
              <div class="yt-video-channel">${v.channel}</div>
              <div class="yt-video-stats">${v.views}</div>
            </div>
          </div>`).join('');
        const gamesHTML = games.map(g => `
          <div style="display:inline-block;width:70px;text-align:center;cursor:pointer;vertical-align:top;margin:2px;" onclick="game.ytPlayGame(${g.id})">
            <div style="width:60px;height:60px;background:${g.color};border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:28px;margin:0 auto 2px;box-shadow:0 2px 4px rgba(0,0,0,0.3);border:2px solid rgba(255,255,255,0.2);">${g.emoji}</div>
            <div style="font-size:8px;font-weight:bold;color:#333;line-height:1.1;">${g.title}</div>
            <div style="font-size:7px;color:#888;">${g.desc}</div>
          </div>`).join('');
        return `
          <div class="fake-browser">
            <div class="yt-header">
              <span class="yt-logo">&#9654; CockTube</span>
              <input class="yt-search" value="–æ–∂–∏–≤—à–∏–π –∫–æ–º–ø—å—é—Ç–µ—Ä" readonly/>
            </div>
            <div class="fake-page" id="yt-page">
              <div style="display:flex;justify-content:flex-end;margin-bottom:4px;">
                <button class="win-btn" onclick="game.ytOpenStudio()" style="font-size:10px;min-width:auto;padding:2px 10px;background:#c00;color:#fff;border-color:#f44 #800 #800 #f44;">&#x1F4F9; –°–Ω—è—Ç—å –≤–∏–¥–µ–æ</button>
              </div>
              <div class="yt-section-title">&#x1F3AE; –ò–≥—Ä—ã</div>
              <div style="overflow-x:auto;white-space:nowrap;padding:4px 0 8px;border-bottom:1px solid #eee;margin-bottom:6px;">${gamesHTML}</div>
              <div class="yt-section-title">&#x1F525; Shorts</div>
              <div class="yt-shorts-row">${shortsHTML}</div>
              <div class="yt-section-title">&#x1F3AC; –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</div>
              ${videosHTML}
            </div>
          </div>`;

      case 'documents':
        return `
          <div style="padding:2px;">
            <div class="doc-item"><span>üìÅ</span> –ú–æ–∏ –ë–∞–≥–∏</div>
            <div class="doc-item" onclick="document.getElementById('app-body').innerHTML=game.getMinesweeperContent()" style="cursor:pointer;"><span>üí£</span> –°–∞–ø—ë—Ä.exe</div>
            <div class="doc-item" onclick="document.getElementById('app-body').innerHTML=game.getSolitaireContent()" style="cursor:pointer;"><span>üÉè</span> –ü–∞—Å—å—è–Ω—Å.exe</div>
            <div class="doc-item" onclick="document.getElementById('app-body').innerHTML=game.getDefragContent()" style="cursor:pointer;"><span>üîß</span> –î–µ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è.exe</div>
            <div class="doc-item"><span>üìù</span> –ü–ª–∞–Ω_–ø–æ–±–µ–≥–∞_–∫–Ω–æ–ø–æ–∫.doc</div>
            <div class="doc-item"><span>üìÑ</span> –†–µ–∑—é–º–µ_Nokia_3310.pdf</div>
            <div class="doc-item"><span>üîí</span> –°–µ–∫—Ä–µ—Ç–Ω—ã–π_—É—Ä–æ–≤–µ–Ω—å.locked</div>
            <div style="padding:6px;font-size:10px;color:#888;">–û–±—ä–µ–∫—Ç–æ–≤: 7 | –†–∞–∑–º–µ—Ä: ${Math.round(this.chaos * 3.14)} KB</div>
          </div>`;

      case 'notepad':
        return `
          <div style="padding:2px;">
            <textarea class="mini-textarea" id="notepad-text" placeholder="–ù–∞–ø–∏—à–∏ —á—Ç–æ-–Ω–∏–±—É–¥—å...">–î–û–†–û–ì–ò–ï –ö–ù–û–ü–ö–ò!

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–µ—Ä–µ—Å—Ç–∞–Ω—å—Ç–µ —É–±–µ–≥–∞—Ç—å.
–£ –Ω–∞—Å —Ç—É—Ç ${this.cockroaches.length} —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤,
${this.holes.length} –¥—ã—Ä –≤ –æ–±–æ—è—Ö,
–∏ –æ—Å—Ç–∞–ª–æ—Å—å –≤—Å–µ–≥–æ $${this.money}.

–° —É–≤–∞–∂–µ–Ω–∏–µ–º, –ò–≥—Ä–æ–∫.

P.S. –ú–æ–ª–æ—Ç–æ–∫ –Ω–∞–≥–æ—Ç–æ–≤–µ.</textarea>
          </div>`;

      case 'paint':
        return `
          <div style="padding:2px;">
            <div style="display:flex;gap:4px;margin-bottom:4px;">
              <div class="paint-color" data-c="#000" style="width:16px;height:16px;background:#000;border:1px solid #888;cursor:pointer;" onclick="game.paintColor='#000'"></div>
              <div class="paint-color" data-c="#f00" style="width:16px;height:16px;background:#f00;border:1px solid #888;cursor:pointer;" onclick="game.paintColor='#f00'"></div>
              <div class="paint-color" data-c="#0a0" style="width:16px;height:16px;background:#0a0;border:1px solid #888;cursor:pointer;" onclick="game.paintColor='#0a0'"></div>
              <div class="paint-color" data-c="#00f" style="width:16px;height:16px;background:#00f;border:1px solid #888;cursor:pointer;" onclick="game.paintColor='#00f'"></div>
              <div class="paint-color" data-c="#ff0" style="width:16px;height:16px;background:#ff0;border:1px solid #888;cursor:pointer;" onclick="game.paintColor='#ff0'"></div>
              <div class="paint-color" data-c="#fff" style="width:16px;height:16px;background:#fff;border:1px solid #888;cursor:pointer;" onclick="game.paintColor='#fff'"></div>
              <button class="win-btn" style="font-size:10px;padding:1px 6px;min-width:auto;" onclick="game.clearCanvas()">–û—á–∏—Å—Ç–∏—Ç—å</button>
            </div>
            <canvas class="mini-canvas" id="paint-canvas" width="400" height="180"></canvas>
          </div>`;

      case 'chat':
        return this.getChatHTML();

      case 'radio':
        var stations = ['üéµ Retro 8-bit FM','üé∏ Chiptune Rock','üåô Ambient Dark','üíÄ Horror Wave'];
        var stBtns = stations.map(function(s,i){return '<button class="win-btn" style="width:100%;margin:3px 0;font-size:11px;text-align:left;padding:4px 8px;" onclick="game.radioPlay('+i+')">'+s+'</button>';}).join('');
        return '<div style="padding:8px;"><div style="text-align:center;font-size:32px;margin:4px 0;">üìª</div><div style="text-align:center;font-size:12px;color:#666;margin-bottom:8px;">'+(this._radioPlaying?'‚ñ∂ –ò–≥—Ä–∞–µ—Ç...':'‚èπ –í—ã–∫–ª—é—á–µ–Ω–æ')+'</div>'+stBtns+'<button class="win-btn" style="width:100%;margin-top:6px;background:#c00;color:#fff;" onclick="game.radioStop()">‚èπ –°—Ç–æ–ø</button><div style="font-size:10px;color:#888;margin-top:6px;text-align:center;">ü™≥ –û—Ç–ø—É–≥–∏–≤–∞–µ—Ç —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤!</div></div>';
      case 'sysmon':
        var entities = this.cockroaches.length + this.spiders.length + this.viruses.length + (this.clippy?1:0) + (this.boss?1:0) + (this.shadow?1:0);
        var cpu = Math.min(99, 15 + entities * 8 + Math.round(this.chaos * 0.5));
        var ram = Math.min(99, 20 + this.icons.filter(function(i){return i.state==='alive';}).length * 10 + entities * 5);
        var threat = this.shadow ? 'üî¥ DAWN –û–ë–ù–ê–†–£–ñ–ï–ù' : (entities > 5 ? 'üü° –£–ì–†–û–ó–´' : 'üü¢ –°–¢–ê–ë–ò–õ–¨–ù–û');
        return '<div style="padding:8px;font-family:Courier New,monospace;font-size:11px;"><div style="text-align:center;font-size:10px;color:#888;margin-bottom:4px;">‚ïê‚ïê‚ïê –°–ò–°–¢–ï–ú–ù–´–ô –ú–û–ù–ò–¢–û–† ‚ïê‚ïê‚ïê</div><div style="margin:4px 0;">CPU: <span style="color:'+(cpu>70?'#f00':'#0a0')+';">'+cpu+'%</span> <span style="background:#333;display:inline-block;width:80px;height:8px;vertical-align:middle;"><span style="background:'+(cpu>70?'#f00':'#0a0')+';display:block;height:100%;width:'+cpu+'%;"></span></span></div><div style="margin:4px 0;">RAM: <span style="color:'+(ram>70?'#f00':'#0a0')+';">'+ram+'%</span> <span style="background:#333;display:inline-block;width:80px;height:8px;vertical-align:middle;"><span style="background:'+(ram>70?'#f00':'#0a0')+';display:block;height:100%;width:'+ram+'%;"></span></span></div><div style="margin:6px 0;border-top:1px solid #ccc;padding-top:4px;">–°—Ç–∞—Ç—É—Å: '+threat+'</div><div>–°—É—â–Ω–æ—Å—Ç–µ–π: '+entities+'</div><div>–¢–∞—Ä–∞–∫–∞–Ω–æ–≤: '+this.cockroaches.length+'</div><div>–•–∞–æ—Å: '+Math.round(this.chaos)+'%</div><div style="margin-top:4px;">–ö–Ω–æ–ø–æ–∫ —Å–±–µ–∂–∞–ª–æ: '+this.icons.filter(function(i){return i.state==='alive';}).length+'</div>'+(cpu>80?'<div style="color:#f00;margin-top:6px;animation:chatGlitch 0.2s infinite;">‚ö† –ü–ï–†–ï–ì–†–£–ó–ö–ê! LAG!</div>':'')+'</div>';
      default:
        return `<div style="padding:12px;text-align:center;">üìÇ ${icon.def.name}<br><span style="font-size:11px;color:#888;">–§–∞–π–ª–æ–≤ –Ω–µ—Ç</span></div>`;
    }
  },

  // === CHAT SYSTEM ===
  _chatContacts: [
    { id:'clippy', name:'Clippy', avatar:'üìé', color:'#4CAF50', status:'–æ–Ω–ª–∞–π–Ω', lastMsg:'–ü–æ—Ö–æ–∂–µ –≤–∞–º –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å!',
      greetings:['–ü—Ä–∏–≤–µ—Ç! –ü–æ—Ö–æ–∂–µ, —Ç–µ–±–µ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å! üìé','–û, —Å–Ω–æ–≤–∞ —Ç—ã! –ß–µ–º –ø–æ–º–æ—á—å?','–†–∞–¥ —Ç–µ–±—è –≤–∏–¥–µ—Ç—å! –ì–æ—Ç–æ–≤ –¥–∞–≤–∞—Ç—å —Å–æ–≤–µ—Ç—ã! üòä'],
      responses:[
        {keywords:['–ø—Ä–∏–≤–µ—Ç','—Ö–∞–π','–∑–¥–æ—Ä–æ–≤–æ','–∫—É','–∑–¥—Ä–∞–≤—Å—Ç','–¥–æ–±—Ä'], replies:['–ü—Ä–∏–≤–µ—Ç-–ø—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞ –Ω–∞ —Ä–∞–±–æ—á–µ–º —Å—Ç–æ–ª–µ? –£ —Ç–µ–±—è ${ROACHES} —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤!','–ó–¥–∞—Ä–æ–≤–∞! –¢–∞—Ä–∞–∫–∞–Ω–æ–≤ –º–Ω–æ–≥–æ —Å–µ–≥–æ–¥–Ω—è (${ROACHES} —à—Ç.)! –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º—Å—è? üòÑ','–ü—Ä–∏–≤–µ—Ç–∏–∫! –•–∞–æ—Å —Å–µ–π—á–∞—Å ${CHAOS}%. –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?']},
        {keywords:['–ø–æ–º–æ—â—å','–ø–æ–º–æ–≥–∏','–∫–∞–∫','—á—Ç–æ –¥–µ–ª–∞—Ç—å','–Ω–µ –∑–Ω–∞—é','–Ω–µ –ø–æ–Ω–∏–º–∞—é','–ø–æ–¥—Å–∫–∞–∂'], replies:['–í–æ—Ç –ø–ª–∞–Ω:\n1. –õ–æ–≤–∏ –∫–Ω–æ–ø–∫–∏ ‚Äî —Ç–∞—â–∏ –Ω–∞ –º–µ—Å—Ç–æ\n2. –ë–µ–π —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ –∫–ª–∏–∫–æ–º\n3. –ü–æ–∫—É–ø–∞–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤ –º–∞–≥–∞–∑–∏–Ω–µ\n4. –°–ª–µ–¥–∏ –∑–∞ —Ö–∞–æ—Å–æ–º ‚Äî –Ω–µ –¥–∞–π –µ–º—É –¥–æ–π—Ç–∏ –¥–æ 100%!','–ü–æ–ø—Ä–æ–±—É–π –∫—É–ø–∏—Ç—å –º–æ–ª–æ—Ç–æ–∫ –≤ –º–∞–≥–∞–∑–∏–Ω–µ ‚Äî –±–µ–π –ø–æ —Å—Ç–æ–ª—É –∏ –æ–≥–ª—É—à–∞–π –≤—Å–µ—Ö! üî®','–ï—Å–ª–∏ —Ö–∞–æ—Å —Ä–∞—Å—Ç—ë—Ç ‚Äî –±–µ–π —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–π –∫–Ω–æ–ø–∫–∏! –ê –µ—â—ë –ª–æ–≤—É—à–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≤—è—Ç –∂—É–∫–æ–≤!','–ù–µ –∑–∞–±—ã–≤–∞–π –ø—Ä–æ –±–∞–Ω–∫ ‚Äî —Ç–∞–º –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –∫—Ä–µ–¥–∏—Ç $12! –ê –µ—â—ë –ª–∞–π–∫–∏ –≤ CockTube –¥–∞—é—Ç $1 üòâ']},
        {keywords:['—Ç–∞—Ä–∞–∫–∞–Ω','—Ç–∞—Ä–∞–∫–∞–Ω—ã','–∂—É–∫','–∂—É–∫–∏','roach'], replies:['–¢–∞—Ä–∞–∫–∞–Ω—ã ‚Äî –≥–ª–∞–≤–Ω—ã–π –≤—Ä–∞–≥! –ö–ª–∏–∫–∞–π –ø–æ –Ω–∏–º —á—Ç–æ–±—ã —Ä–∞–∑–¥–∞–≤–∏—Ç—å! ü™≥ –°–µ–π—á–∞—Å –∏—Ö ${ROACHES}!','–°–æ–≤–µ—Ç: –∫—É–ø–∏ –ª–æ–≤—É—à–∫–∏ ($8) –≤ –º–∞–≥–∞–∑–∏–Ω–µ ‚Äî –æ–Ω–∏ –ª–æ–≤—è—Ç —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!','–¢–∞—Ä–∞–∫–∞–Ω—ã –ª–µ–∑—É—Ç –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã –∏ –∏–∑ –¥—ã—Ä. –ß–µ–º –±–æ–ª—å—à–µ –¥—ã—Ä ‚Äî —Ç–µ–º –±–æ–ª—å—à–µ –∂—É–∫–æ–≤!','–ö–æ–≥–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—à—å –æ–∫–Ω–∞ ‚Äî –∏–∑ –∫–Ω–æ–ø–æ–∫ –º–æ–≥—É—Ç –≤—ã–ª–µ–∑—Ç–∏ —Å–ø—Ä—è—Ç–∞–≤—à–∏–µ—Å—è —Ç–∞—Ä–∞–∫–∞–Ω—ã! üò±']},
        {keywords:['–¥–µ–Ω—å–≥–∏','–¥–µ–Ω–µ–≥','–±–∞–±–∫–∏','–±–∞–±–ª–æ','$','–∑–∞—Ä–∞–±–æ—Ç','–∑–∞—Ä–∞–±–∞—Ç','—Ñ–∞—Ä–º'], replies:['–°–ø–æ—Å–æ–±—ã –∑–∞—Ä–∞–±–æ—Ç–∫–∞:\nüí∞ –ü–æ–π–º–∞–π –∫–Ω–æ–ø–∫—É = $1-2\nü™≥ –£–±–µ–π —Ç–∞—Ä–∞–∫–∞–Ω–∞ = $1\nüëç –õ–∞–π–∫ –≤ CockTube = $1\nüè¶ –ö—Ä–µ–¥–∏—Ç –≤ –±–∞–Ω–∫–µ = $12','–í –±–∞–Ω–∫–µ –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –∫—Ä–µ–¥–∏—Ç $12 ‚Äî –Ω–æ –ø–æ—Ç–æ–º –Ω–∞–¥–æ –≤–µ—Ä–Ω—É—Ç—å!','–õ–∞–π–∫–∏ –≤ CockTube —Ç–æ–∂–µ –¥–∞—é—Ç $1! –ó–∞–π–¥–∏ –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –∏ —Å–º–æ—Ç—Ä–∏ –≤–∏–¥–µ–æ üòâ','–ò–≥—Ä–∞–π –≤ –º–∏–Ω–∏-–∏–≥—Ä—ã —á–µ—Ä–µ–∑ –î–æ–∫—É–º–µ–Ω—Ç—ã ‚Äî –°–∞–ø—ë—Ä –∏ –ü–∞—Å—å—è–Ω—Å —Ç–æ–∂–µ –¥–∞—é—Ç –¥–µ–Ω—å–≥–∏!']},
        {keywords:['–º–∞–≥–∞–∑','–º–∞–≥–∞–∑–∏–Ω','–∫—É–ø–∏—Ç—å','—Ç–æ–≤–∞—Ä','—á—Ç–æ –∫—É–ø–∏—Ç—å'], replies:['–í –º–∞–≥–∞–∑–∏–Ω–µ:\nüî® –ú–æ–ª–æ—Ç–æ–∫ $12 ‚Äî –æ–≥–ª—É—à–∞–µ—Ç –≤—Å–µ—Ö\nü™§ –õ–æ–≤—É—à–∫–∞ $8 ‚Äî –ª–æ–≤–∏—Ç —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤\nüß¥ –ö–ª–µ–π $6 ‚Äî –∑–∞–º–µ–¥–ª—è–µ—Ç –∫–Ω–æ–ø–∫–∏\nüßØ –û–≥–Ω–µ—Ç—É—à–∏—Ç–µ–ª—å $10\nüß≤ –ú–∞–≥–Ω–∏—Ç $15 ‚Äî –ø—Ä–∏—Ç—è–≥–∏–≤–∞–µ—Ç –∫–Ω–æ–ø–∫–∏\nüõ°Ô∏è –ê–Ω—Ç–∏–≤–∏—Ä—É—Å $20\n‚öíÔ∏è –ú–æ–ª–æ—Ç–æ–∫+ $18','–ú–æ–π –¢–û–ü: —Å–Ω–∞—á–∞–ª–∞ –º–æ–ª–æ—Ç–æ–∫, –ø–æ—Ç–æ–º –ª–æ–≤—É—à–∫–∏, –ø–æ—Ç–æ–º –º–∞–≥–Ω–∏—Ç! üìéüëç','–ê–Ω—Ç–∏–≤–∏—Ä—É—Å –∑–∞ $20 ‚Äî –ª–µ—á–∏—Ç –∑–∞—Ä–∞–∂—ë–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏! –û—á–µ–Ω—å –ø–æ–ª–µ–∑–Ω–æ –Ω–∞ –ø–æ–∑–¥–Ω–∏—Ö —É—Ä–æ–≤–Ω—è—Ö!']},
        {keywords:['—Ö–∞–æ—Å','chaos','—à–∫–∞–ª–∞','–ø—Ä–æ—Ü–µ–Ω—Ç'], replies:['–•–∞–æ—Å —Å–µ–π—á–∞—Å: ${CHAOS}%. –°—Ç–∞—Ç—É—Å: ${THREAT}!\n–•–∞–æ—Å —Ä–∞—Å—Ç—ë—Ç –æ—Ç: –±–µ–≥–∞—é—â–∏—Ö –∫–Ω–æ–ø–æ–∫, —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤, –¥—ã—Ä, –º—É—Å–æ—Ä–∞, –≤–∏—Ä—É—Å–æ–≤.','–°–Ω–∏–∂–∞–π —Ö–∞–æ—Å:\n‚úÖ –õ–æ–≤–∏ –∫–Ω–æ–ø–∫–∏ (-10)\n‚úÖ –ë–µ–π —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ (-1)\n‚úÖ –£–±–∏—Ä–∞–π –º—É—Å–æ—Ä\n‚úÖ –ó–∞–¥–µ–ª—ã–≤–∞–π –¥—ã—Ä—ã','–ï—Å–ª–∏ —Ö–∞–æ—Å 100% ‚Äî –°–ò–ù–ò–ô –≠–ö–†–ê–ù –°–ú–ï–†–¢–ò! –£—Ä–æ–≤–µ–Ω—å –Ω–∞—á–Ω—ë—Ç—Å—è —Å–Ω–∞—á–∞–ª–∞! üò±']},
        {keywords:['—É—Ä–æ–≤–µ–Ω','level','–ª–µ–≤–µ–ª','–ø—Ä–æ—Ö–æ–∂–¥','–ø—Ä–æ–π—Ç–∏'], replies:['–°–µ–π—á–∞—Å —É—Ä–æ–≤–µ–Ω—å ${LEVEL}! –í—Å–µ–≥–æ 8 —É—Ä–æ–≤–Ω–µ–π: –æ—Ç Win95 –¥–æ Win11 üñ•Ô∏è','–ß—Ç–æ–±—ã –ø—Ä–æ–π—Ç–∏ —É—Ä–æ–≤–µ–Ω—å ‚Äî –ø—Ä–æ–¥–µ—Ä–∂–∏—Å—å –ø–æ–∫–∞ —Ç–∞–π–º–µ—Ä –Ω–µ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è! –ù–µ –¥–∞–π —Ö–∞–æ—Å—É –¥–æ–π—Ç–∏ –¥–æ 100%!','–ù–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ —Ç–∞—Ä–∞–∫–∞–Ω—ã –±—ã—Å—Ç—Ä–µ–µ, –∫–Ω–æ–ø–∫–∏ –Ω–∞–≥–ª–µ–µ, –∞ –≤—Ä–µ–º—è ‚Äî –±–æ–ª—å—à–µ!','–ö–∞–∂–¥—ã–π 3-–π —É—Ä–æ–≤–µ–Ω—å –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ë–û–°–°! –ë–æ–ª—å—à–∞—è –∫–Ω–æ–ø–∫–∞ –∫–æ—Ç–æ—Ä–∞—è —Å–ø–∞–≤–Ω–∏—Ç —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤! üëæ']},
        {keywords:['–±–æ—Å—Å','boss','–±–æ–ª—å—à–æ–π','–≥–ª–∞–≤–Ω—ã–π'], replies:['–ë–æ—Å—Å ‚Äî —ç—Ç–æ –æ–≥—Ä–æ–º–Ω–∞—è –∫–Ω–æ–ø–∫–∞! –ü–æ—è–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–π 3-–π —É—Ä–æ–≤–µ–Ω—å. –ë–µ–π –ø–æ –Ω–µ–π –º–æ–ª–æ—Ç–∫–æ–º! üëæ','–ë–æ—Å—Å —Å–ø–∞–≤–Ω–∏—Ç —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ –∏ –±—É–¥–∏—Ç —Å–ø—è—â–∏–µ –∫–Ω–æ–ø–∫–∏! –£–Ω–∏—á—Ç–æ–∂—å –µ–≥–æ –±—ã—Å—Ç—Ä–µ–µ!','–°–µ–∫—Ä–µ—Ç: –±–æ—Å—Å–∞ –ª–µ–≥—á–µ –±–∏—Ç—å —Å –º–æ–ª–æ—Ç–∫–æ–º+ –∏–∑ –º–∞–≥–∞–∑–∏–Ω–∞! üî®']},
        {keywords:['–Ω–æ–∫–∏–∞','nokia','—Ç–µ–ª–µ—Ñ–æ–Ω'], replies:['Nokia 3310 ‚Äî —Ç–≤–æ–π –¥—Ä—É–≥! –û–Ω–∞ —É—Å–ø–æ–∫–∞–∏–≤–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ —Ä—è–¥–æ–º —Å —Å–æ–±–æ–π! üì±','–ö–ª–∏–∫–∞–π –ø–æ Nokia —á—Ç–æ–±—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ—ë –∑–¥–æ—Ä–æ–≤—å–µ! –ï—Å–ª–∏ —Å–ª–æ–º–∞–µ—Ç—Å—è ‚Äî —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ —Å—Ç–∞–Ω–µ—Ç –±–æ–ª—å—à–µ!','Nokia –∏–≥—Ä–∞–µ—Ç –º—É–∑—ã–∫—É –∏ –∑–∞–º–µ–¥–ª—è–µ—Ç –∫–Ω–æ–ø–∫–∏ –≤ —Ä–∞–¥–∏—É—Å–µ! –ë–µ—Ä–µ–≥–∏ –µ—ë!']},
        {keywords:['—Å–∫—É—á–Ω–æ','–Ω–∞–¥–æ–µ–ª','—É—Å—Ç–∞–ª'], replies:['–ü–æ–ø—Ä–æ–±—É–π —Ä–µ–∂–∏–º –æ—Ç–¥—ã—Ö–∞! –ó–∞–π–¥–∏ –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –†–µ–∂–∏–º –æ—Ç–¥—ã—Ö–∞ üéÆ','–í —Ä–µ–∂–∏–º–µ –æ—Ç–¥—ã—Ö–∞ –º–æ–∂–Ω–æ —Å–ø–æ–∫–æ–π–Ω–æ –∏–≥—Ä–∞—Ç—å –≤ –º–∏–Ω–∏-–∏–≥—Ä—ã –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–µ–Ω—å–≥–∏!','–ê —Ç—ã –ø—Ä–æ–±–æ–≤–∞–ª CockTube? –¢–∞–º —Å–º–µ—à–Ω—ã–µ –≤–∏–¥–æ—Å—ã! –ó–∞–π–¥–∏ –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç üì∫']},
        {keywords:['—Å–º–µ—à–Ω–æ','–ª–æ–ª','—Ö–∞—Ö–∞','üòÇ','–∞—Ö–∞—Ö','—Ä–∂—É'], replies:['–•–∞—Ö–∞, —Ä–∞–¥ —á—Ç–æ –≤–µ—Å–µ–ª–æ! üòÑ –Ø —Å—Ç–∞—Ä–∞—é—Å—å!','–õ–æ–ª, —Ç–∞—Ä–∞–∫–∞–Ω—ã —Ç–æ–∂–µ —Å–º–µ—é—Ç—Å—è! –ù–æ –Ω–µ–¥–æ–ª–≥–æ ‚Äî –ø–æ–∫–∞ –Ω–µ –ø—Ä–∏–ª–µ—Ç–∏—Ç –º–æ–ª–æ—Ç–æ–∫! ü™≥üòÇ','–ê—Ö–∞—Ö–∞! –ö—Å—Ç–∞—Ç–∏ –∑–Ω–∞–µ—à—å —á—Ç–æ –ö–æ—Ä–æ–ª—å –¢–∞—Ä–∞–∫–∞–Ω–æ–≤ —Ç–æ–∂–µ –≤ —á–∞—Ç–µ? –ù–∞–ø–∏—à–∏ –µ–º—É! üëë']},
        {keywords:['–∫—Ç–æ —Ç—ã','—á—Ç–æ —Ç—ã','–∑–∞—á–µ–º —Ç—ã','clippy','–∫–ª–∏–ø–ø–∏','—Å–∫—Ä–µ–ø–∫'], replies:['–Ø Clippy! –í–∞—à –ø–æ–º–æ—â–Ω–∏–∫ —Å 1997 –≥–æ–¥–∞! üìé –ú–µ–Ω—è —É–±—Ä–∞–ª–∏ –∏–∑ Office, –Ω–æ —è –≤–µ—Ä–Ω—É–ª—Å—è!','–Ø ‚Äî —Å–∞–º–∞—è –∑–Ω–∞–º–µ–Ω–∏—Ç–∞—è —Å–∫—Ä–µ–ø–∫–∞ –≤ –º–∏—Ä–µ! –ü–æ–º–æ–≥–∞—é —é–∑–µ—Ä–∞–º —Å 90-—Ö –≥–æ–¥–æ–≤! üìé‚ú®','–ü–æ—Ö–æ–∂–µ, –≤—ã –ø–∏—à–µ—Ç–µ –ø–∏—Å—å–º–æ... –®—É—á—É! –Ø –ø–æ–º–æ–≥–∞—é –±–æ—Ä–æ—Ç—å—Å—è —Å —Ç–∞—Ä–∞–∫–∞–Ω–∞–º–∏ —Ç–µ–ø–µ—Ä—å! üòÑ']},
        {keywords:['–¥–∞','–∞–≥–∞','—É–≥—É','–∫–æ–Ω–µ—á–Ω','—Ç–æ—á–Ω–æ','–≤–µ—Ä–Ω–æ'], replies:['–û—Ç–ª–∏—á–Ω–æ! –†–∞–¥ —á—Ç–æ —Å–æ–≥–ª–∞—Å–µ–Ω! üìé','–°—É–ø–µ—Ä! –ß—Ç–æ-–Ω–∏–±—É–¥—å –µ—â—ë?','üëç –¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å!']},
        {keywords:['–Ω–µ—Ç','–Ω–µ–∞','–Ω–µ','–Ω–µ—Ç—É'], replies:['–ù—É –ª–∞–¥–Ω–æ! –ï—Å–ª–∏ —á—Ç–æ ‚Äî —è —Ç—É—Ç! üìé','–û–∫–µ–π! –û–±—Ä–∞—â–∞–π—Å—è –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å!','–ü–æ–Ω—è–ª! –ë—É–¥—É —Ä—è–¥–æ–º –µ—Å–ª–∏ —á—Ç–æ üòä']},
        {keywords:['–ø–æ–∫–∞','–±–∞–π','–¥–æ —Å–≤–∏–¥','—É—Ö–æ–¥'], replies:['–ü–æ–∫–∞-–ø–æ–∫–∞! –£–¥–∞—á–∏ —Å —Ç–∞—Ä–∞–∫–∞–Ω–∞–º–∏! üìéüëã','–î–æ –≤—Å—Ç—Ä–µ—á–∏! –ë–µ–π —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤! ü™≥üî®','–ü–æ–∫–∞! –ù–µ –∑–∞–±—É–¥—å ‚Äî —è –≤—Å–µ–≥–¥–∞ –≤ —á–∞—Ç–µ! üòä']},
        {keywords:['—Å–ø–∞—Å–∏–±–æ','—Å–ø—Å','–±–ª–∞–≥–æ–¥–∞—Ä','thanks'], replies:['–†–∞–¥ –ø–æ–º–æ—á—å! –≠—Ç–æ –º–æ—è —Ä–∞–±–æ—Ç–∞! üìé‚ú®','–í—Å–µ–≥–¥–∞ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞! –û–±—Ä–∞—â–∞–π—Å—è –µ—â—ë! üòä','–°–ø–∞—Å–∏–±–æ —á—Ç–æ –ø–æ–ª—å–∑—É–µ—à—å—Å—è WinChat! üìéüíö']},
      ],
      fallback:['–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ! –ê —Ç—ã –ø—Ä–æ–±–æ–≤–∞–ª –º–æ–ª–æ—Ç–∫–æ–º? üî®','–•–º, –Ω–µ —Å–æ–≤—Å–µ–º –ø–æ–Ω—è–ª, –Ω–æ –≤–æ—Ç —Å–æ–≤–µ—Ç: –±–µ–π —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ (–∏—Ö —Å–µ–π—á–∞—Å ${ROACHES})!','–û–≥–æ! –ê –∫–Ω–æ–ø–∫–∏ —É–∂–µ –≤—Å–µ –Ω–∞ –º–µ—Å—Ç–∞—Ö? ${ALIVE} —Å–±–µ–∂–∞–ª–∏!','–ó–∞–ø–∏—Å–∞–ª. –ö—Å—Ç–∞—Ç–∏, —Ç—ã –∑–Ω–∞–ª —á—Ç–æ –º–æ–∂–Ω–æ –∏–≥—Ä–∞—Ç—å –≤ –º–∏–Ω–∏-–∏–≥—Ä—ã —á–µ—Ä–µ–∑ –î–æ–∫—É–º–µ–Ω—Ç—ã? üéÆ','–≠—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –º—ã—Å–ª—å! –ê —Ö–∞–æ—Å —É —Ç–µ–±—è ${CHAOS}% ‚Äî —Å–ø—Ä–∞–≤–ª—è–µ—à—å—Å—è? üìé','–•–º... –ê –ø–æ–ø—Ä–æ–±—É–π –æ—Ç–∫—Ä—ã—Ç—å CockTube –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–µ ‚Äî —Ç–∞–º —Å–º–µ—à–Ω—ã–µ –≤–∏–¥–µ–æ! üì∫']
    },
    { id:'roachking', name:'–ö–æ—Ä–æ–ª—å –¢–∞—Ä–∞–∫–∞–Ω–æ–≤', avatar:'üëëü™≥', color:'#4E342E', status:'—Å—Ç—Ä–æ–∏—Ç –≥–Ω–µ–∑–¥–æ...', lastMsg:'–ú—ã –∑–∞—Ö–≤–∞—Ç–∏–º —ç—Ç–æ—Ç –ü–ö!',
      greetings:['–ö—Ç–æ –ø–æ—Å–º–µ–ª –ø–æ—Ç—Ä–µ–≤–æ–∂–∏—Ç—å –ö–û–†–û–õ–Ø?! üëë','–ë—É! –ò—Å–ø—É–≥–∞–ª—Å—è? –•–∞—Ö–∞—Ö–∞! ü™≥','–ú–æ–∏ ${ROACHES} —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ –ø–æ–≤—Å—é–¥—É! –°–¥–∞–≤–∞–π—Å—è!'],
      responses:[
        {keywords:['–ø—Ä–∏–≤–µ—Ç','—Ö–∞–π','–∑–¥–æ—Ä–æ–≤–æ','–∫—É','–∑–¥—Ä–∞–≤—Å—Ç'], replies:['–ù–µ –ø—ã—Ç–∞–π—Å—è –ø–æ–¥—Ä—É–∂–∏—Ç—å—Å—è! –Ø —Ç–≤–æ–π –í–†–ê–ì! üëë','–ü—Ä–∏–≤–µ—Ç?! –¢—ã –±—å—ë—à—å –º–æ–∏—Ö –ø–æ–¥–¥–∞–Ω–Ω—ã—Ö –∏ –≥–æ–≤–æ—Ä–∏—à—å –ø—Ä–∏–≤–µ—Ç?! –ù–∞–≥–ª–æ—Å—Ç—å!','–•–º–ø—Ñ. –õ–∞–¥–Ω–æ, –ø—Ä–∏–≤–µ—Ç. –ù–û –ú–´ –í–°–Å –†–ê–í–ù–û –ó–ê–•–í–ê–¢–ò–ú –¢–í–û–ô –ü–ö! ü™≥']},
        {keywords:['—Ç–∞—Ä–∞–∫–∞–Ω','—Ç–∞—Ä–∞–∫–∞–Ω—ã','–∂—É–∫','–ø–æ–¥–¥–∞–Ω–Ω'], replies:['–ú–æ–∏ –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–µ –ø–æ–¥–¥–∞–Ω–Ω—ã–µ! –£ –º–µ–Ω—è —É–∂–µ ${ROACHES} –≤–æ–∏–Ω–æ–≤! ü™≥ü™≥ü™≥','–ö–∞–∂–¥—ã–π —É–±–∏—Ç—ã–π —Ç–∞—Ä–∞–∫–∞–Ω –±—É–¥–µ—Ç –æ—Ç–æ–º—â—ë–Ω –î–ï–°–Ø–¢–¨–Æ –Ω–æ–≤—ã–º–∏! –≠—Ç–æ —è –æ–±–µ—â–∞—é! üëë','–¢–∞—Ä–∞–∫–∞–Ω—ã ‚Äî –≤—ã—Å—à–∞—è —Ñ–æ—Ä–º–∞ –∂–∏–∑–Ω–∏! –ú—ã –ø–µ—Ä–µ–∂–∏–ª–∏ –¥–∏–Ω–æ–∑–∞–≤—Ä–æ–≤ –∏ –ø–µ—Ä–µ–∂–∏–≤—ë–º —Ç–µ–±—è!','–ú–æ–∏ —Ä–∞–∑–≤–µ–¥—á–∏–∫–∏ —É–∂–µ –ø—Ä—è—á—É—Ç—Å—è –≤ —Ç–≤–æ–∏—Ö –∫–Ω–æ–ø–∫–∞—Ö! –û—Ç–∫—Ä–æ–µ—à—å –æ–∫–Ω–æ ‚Äî —É–≤–∏–¥–∏—à—å! ü™≥']},
        {keywords:['—Å–¥–∞–≤–∞–π—Å—è','—Å–¥–∞–≤–∞–π','–ø—Ä–æ–∏–≥—Ä–∞–ª','–ø—Ä–æ–∏–≥—Ä–∞–µ—à—å','–∫–æ–Ω–µ—Ü'], replies:['–ù–ò–ö–û–ì–î–ê! –ú—ã –≤–µ—á–Ω—ã! ü™≥üëë –•–∞–æ—Å —É–∂–µ ${CHAOS}%!','–≠—Ç–æ –¢–´ –ø—Ä–æ–∏–≥—Ä–∞–µ—à—å! –•–∞–æ—Å ${CHAOS}% ‚Äî —Å–∫–æ—Ä–æ —Å–∏–Ω–∏–π —ç–∫—Ä–∞–Ω! üòà','–•–∞—Ö–∞—Ö–∞! –ú–æ–∏ –∞—Ä–º–∏–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã! –ù–∞ –º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ ‚Äî –¥–µ—Å—è—Ç—å! üëë']},
        {keywords:['—É–±—å—é','—É–±–∏—Ç—å','—Ä–∞–∑–¥–∞–≤','–º–æ–ª–æ—Ç–æ–∫','–±–∏—Ç—å','—É–¥–∞—Ä—é','—É–Ω–∏—á—Ç–æ–∂'], replies:['–û–π-–æ–π-–æ–π, –∫–∞–∫–æ–π —Å—Ç—Ä–∞—à–Ω—ã–π! üò±... –•–ê–•–ê–•–ê –ù–ï–¢! ü™≥ –ú—ã –±–µ—Å—Å–º–µ—Ä—Ç–Ω—ã!','–ú–æ–ª–æ—Ç–æ–∫?! –î—ë—à–µ–≤–æ! –ü—Ä–∏–º–∏—Ç–∏–≤–Ω–æ! –£ –Ω–∞—Å –∏–º–º—É–Ω–∏—Ç–µ—Ç! (–Ω—É –ø–æ—á—Ç–∏...) üëë','–ë–µ–π-–±–µ–π, –Ω–∞ –º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–¥—É—Ç –¥–µ—Å—è—Ç—å! –ú—ã –∫–∞–∫ –ì–∏–¥—Ä–∞! ü™≥ü™≥ü™≥ü™≥','*–ø—Ä—è—á–µ—Ç—Å—è* –≠-—ç-—ç... –≤ —Å–º—ã—Å–ª–µ... –ú–´ –ù–ï –ë–û–ò–ú–°–Ø! –ü—Ä–æ—Å—Ç–æ... —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å—Ç—É–ø–ª–µ–Ω–∏–µ! üëë']},
        {keywords:['–∑–∞—á–µ–º','–ø–æ—á–µ–º—É','—á–µ–≥–æ','–∫–∞–∫–æ–π —Å–º—ã—Å–ª'], replies:['–ó–∞—á–µ–º?! –ü–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ—Ç –ü–ö –±—É–¥–µ—Ç –ù–ê–®–ò! –¢—É—Ç —Ç–µ–ø–ª–æ –∏ –∫—Ä–æ—à–∫–∏! ü™≥','–ú—ã –ø—Ä–æ—Å—Ç–æ —Ö–æ—Ç–∏–º —Ç—ë–ø–ª—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –∏ –∫—Ä–æ—à–∫–∏ –ø–æ–¥ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π! –≠—Ç–æ –Ω–∞—à —Ä–∞–π!','–≠—Ç–æ –Ω–∞—à –¥–æ–º —Ç–µ–ø–µ—Ä—å! –£ –Ω–∞—Å —Ç—É—Ç —É–∂–µ ${ROACHES} —Å–µ–º–µ–π! –ü—Ä–∏–≤—ã–∫–∞–π! ü™≥']},
        {keywords:['—Å–º–µ—à–Ω–æ','–ª–æ–ª','—Ö–∞—Ö–∞','üòÇ','–∞—Ö–∞—Ö','—Ä–∂—É'], replies:['–°–º–µ—ë—à—å—Å—è?! –ü–æ—Å–º–æ—Ç—Ä–∏–º –∫—Ç–æ –±—É–¥–µ—Ç —Å–º–µ—è—Ç—å—Å—è –∫–æ–≥–¥–∞ —Ö–∞–æ—Å 100%! üòà','–ì—Ä—Ä... –ù–ï –°–ú–ï–®–ù–û! ...–ª–∞–¥–Ω–æ, –Ω–µ–º–Ω–æ–≥–æ —Å–º–µ—à–Ω–æ. –ù–æ –Ω–µ –≥–æ–≤–æ—Ä–∏ –º–æ–∏–º –ø–æ–¥–¥–∞–Ω–Ω—ã–º! üëë','–•–∞—Ö–∞—Ö–∞ –ª–∞–¥–Ω–æ, —ç—Ç–æ –±—ã–ª–æ –∑–∞–±–∞–≤–Ω–æ. –ù–æ –∑–∞–≤—Ç—Ä–∞ –º—ã –≤—Å—ë —Ä–∞–≤–Ω–æ –∑–∞—Ö–≤–∞—Ç–∏–º! ü™≥üòè']},
        {keywords:['–∫–ª–∏–ø–ø–∏','clippy','—Å–∫—Ä–µ–ø–∫','–ø–æ–º–æ—â–Ω–∏–∫'], replies:['–ö–õ–ò–ü–ü–ò?! –≠—Ç–æ—Ç –ø—Ä–µ–¥–∞—Ç–µ–ª—å?! –û–Ω –ø–æ–º–æ–≥–∞–µ—Ç –¢–ï–ë–ï?! üò°','–°–∫—Ä–µ–ø–∫–∞ –∂–∞–ª–∫–∞—è! –ú–æ–∏ —Ç–∞—Ä–∞–∫–∞–Ω—ã —Å–∏–ª—å–Ω–µ–µ –ª—é–±–æ–π –∫–∞–Ω—Ü–µ–ª—è—Ä–∏–∏! ü™≥ > üìé','–ü–µ—Ä–µ–¥–∞–π –ö–ª–∏–ø–ø–∏ ‚Äî –µ–≥–æ –¥–Ω–∏ —Å–æ—á—Ç–µ–Ω—ã! –ö–æ–≥–¥–∞ –∑–∞—Ö–≤–∞—Ç–∏–º –ü–ö ‚Äî —Å–∫—Ä–µ–ø–∫–∏ –Ω–µ –±—É–¥–µ—Ç! üëë']},
        {keywords:['–∞–Ω—Ç–∏–≤–∏—Ä—É—Å','–∑–∞—â–∏—Ç','–±–µ–∑–æ–ø–∞—Å–Ω'], replies:['–ê–ù–¢–ò–í–ò–†–£–°?! –ü—Ñ—Ñ! –ú—ã ‚Äî –Ω–µ –≤–∏—Ä—É—Å—ã! –ú—ã ‚Äî –¢–ê–†–ê–ö–ê–ù–´! –ù–∞—Å –Ω–µ —É–¥–∞–ª–∏—Ç—å! ü™≥','–í–∞—à –∂–∞–ª–∫–∏–π –∞–Ω—Ç–∏–≤–∏—Ä—É—Å –±–µ—Å—Å–∏–ª–µ–Ω –ø—Ä–æ—Ç–∏–≤ –∞—Ä–º–∏–∏! –ú—ã –∂–∏–≤—ã–µ! üëë','*–Ω–µ—Ä–≤–Ω–æ* –ù—É... –∞–Ω—Ç–∏–≤–∏—Ä—É—Å –Ω–∞–º –Ω–µ —Å—Ç—Ä–∞—à–µ–Ω! –°–æ–≤—Å–µ–º! –¢–æ—á–Ω–æ! ... üò∞']},
        {keywords:['–¥—Ä—É–≥','–¥—Ä—É–∂–∏—Ç—å','–¥—Ä—É–∑—å—è','–º–∏—Ä','–º–∏—Ä–Ω–æ','–ø–µ—Ä–µ–º–∏—Ä–∏–µ'], replies:['–î–†–£–ñ–ò–¢–¨?! –ö–æ—Ä–æ–ª—å –¢–∞—Ä–∞–∫–∞–Ω–æ–≤ –Ω–∏ —Å –∫–µ–º –Ω–µ –¥—Ä—É–∂–∏—Ç! ... –∏–ª–∏ –¥—Ä—É–∂–∏—Ç? ü§î –ù–ï–¢! üëë','–ü–µ—Ä–µ–º–∏—Ä–∏–µ? –•–º... –∞ —á—Ç–æ —Ç—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ—à—å? –ö—Ä–æ—à–∫–∏ –∫–∞–∂–¥—ã–π —á–∞—Å? ü™≥','*–∑–∞–¥—É–º–∞–ª—Å—è* ... –ù–µ—Ç! –≠—Ç–æ –ª–æ–≤—É—à–∫–∞! –ù–ò–ö–ê–ö–û–ô –î–†–£–ñ–ë–´! üò§']},
        {keywords:['–µ–¥–∞','–∫—Ä–æ—à','–∫—É—à–∞—Ç—å','–≥–æ–ª–æ–¥','–µ—Å—Ç—å'], replies:['–ú–º–º, –∫—Ä–æ—à–∫–∏... ü§§ –í —Å–º—ã—Å–ª–µ ‚Äî –ú–´ –ù–ï –ì–û–õ–û–î–ê–ï–ú! –£ –Ω–∞—Å –ø–æ–ª–Ω–æ –µ–¥—ã! üëë','–ü–æ–¥ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π —Å—Ç–æ–ª—å–∫–æ –∫—Ä–æ—à–µ–∫... *–º–µ—á—Ç–∞—Ç–µ–ª—å–Ω–æ* ...—Ç–æ –µ—Å—Ç—å, –ù–ê–ú –ù–ï –ù–£–ñ–ù–ê –í–ê–®–ê –ï–î–ê! ü™≥','–ú–æ–∏ —Ä–∞–∑–≤–µ–¥—á–∏–∫–∏ –Ω–∞—à–ª–∏ –ø–∏—Ü—Ü—É –≤ –∫–æ—Ä–∑–∏–Ω–µ! –ü–∏—Ä —Å–µ–≥–æ–¥–Ω—è! üçïü™≥']},
        {keywords:['–∫—Ç–æ —Ç—ã','—á—Ç–æ —Ç—ã','–∫–æ—Ä–æ–ª—å','–≤–∞—à–µ –≤–µ–ª–∏—á–µ—Å—Ç–≤–æ'], replies:['–Ø ‚Äî –ö–û–†–û–õ–¨ –¢–ê–†–ê–ö–ê–ù–û–í! –ü—Ä–∞–≤–∏—Ç–µ–ª—å –≤—Å–µ—Ö —â–µ–ª–µ–π, –ø–æ–≤–µ–ª–∏—Ç–µ–ª—å –∫—Ä–æ—à–µ–∫! üëëü™≥','–ú–æ—ë –ø–æ–ª–Ω–æ–µ –∏–º—è: –ï–≥–æ –¢–∞—Ä–∞–∫–∞–Ω—å–µ –í–µ–ª–∏—á–µ—Å—Ç–≤–æ –ü–µ—Ä–≤—ã–π! –ö–ª–∞–Ω—è–π—Å—è! üëë','–Ø –ø—Ä–∞–≤–ª—é —ç—Ç–∏–º –ü–ö —É–∂–µ... –Ω—É... —Å –ø—Ä–æ—à–ª–æ–≥–æ —É—Ä–æ–≤–Ω—è. –ù–æ –°–ö–û–†–û –í–ï–°–¨ –ü–ö –ë–£–î–ï–¢ –ú–û–ô!']},
        {keywords:['—Å—Ç—Ä–∞—à–Ω–æ','–±–æ—é—Å—å','—Å—Ç—Ä–∞—Ö','–∂—É—Ç–∫–æ'], replies:['–ü–†–ê–í–ò–õ–¨–ù–û –ë–û–ô–°–Ø! –ú–£–ê–•–ê–•–ê! üëëüòà','–°—Ç—Ä–∞—Ö ‚Äî —ç—Ç–æ –º—É–¥—Ä–æ—Å—Ç—å! –ú–æ–∏ —Ç–∞—Ä–∞–∫–∞–Ω—ã –ø–æ–≤—Å—é–¥—É! –î–∞–∂–µ –≤ –∫–Ω–æ–ø–∫–∞—Ö! ü™≥','*–∑–ª–æ–±–Ω—ã–π —Å–º–µ—Ö* –¢—ã –µ—â—ë –Ω–µ –≤–∏–¥–µ–ª –Ω–∞—à–µ–≥–æ –±–æ—Å—Å–∞! –û–Ω –û–ì–†–û–ú–ù–´–ô! üëæ']},
        {keywords:['–¥–∞','–∞–≥–∞','—É–≥—É'], replies:['–î–ê! –¢–û –ï–°–¢–¨... —á—Ç–æ "–¥–∞"?! –Ø –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ø—Ä–∞—à–∏–≤–∞–ª! üëë','–•–º–ø—Ñ! ü™≥','...–ª–∞–¥–Ω–æ.']},
        {keywords:['–Ω–µ—Ç','–Ω–µ–∞'], replies:['–ù–ï–¢?! –ö–ê–ö –¢–´ –°–ú–ï–ï–®–¨ –ì–û–í–û–†–ò–¢–¨ "–ù–ï–¢" –ö–û–†–û–õ–Æ?! üëë','–î–ï–†–ó–û–°–¢–¨! –ú–æ–∏ —Ç–∞—Ä–∞–∫–∞–Ω—ã —ç—Ç–æ –∑–∞–ø–æ–º–Ω—è—Ç! ü™≥','–ì—Ä—Ä!!! üò§']},
        {keywords:['–ø–æ–∫–∞','–±–∞–π','—É—Ö–æ–¥'], replies:['–ë–ï–ì–ò! –ù–æ –º—ã –Ω–∞–π–¥—ë–º —Ç–µ–±—è –≤ –∫–∞–∂–¥–æ–π —â–µ–ª–∏! ü™≥üëë','–£—Ö–æ–¥–∏—à—å?! –¢–†–£–°! –ú–æ–∏ —Ç–∞—Ä–∞–∫–∞–Ω—ã –±—É–¥—É—Ç –∂–¥–∞—Ç—å! üòà','*—à–µ–≤–µ–ª–∏—Ç —É—Å–∏–∫–∞–º–∏ –Ω–∞ –ø—Ä–æ—â–∞–Ω–∏–µ* –î–æ —Å–ª–µ–¥—É—é—â–µ–π –±–∏—Ç–≤—ã! ü™≥']},
      ],
      fallback:['–ö—Ö–µ-–∫—Ö–µ... –ß—Ç–æ? –Ø –∑–∞–Ω—è—Ç –ø–ª–∞–Ω–∞–º–∏ –∑–∞—Ö–≤–∞—Ç–∞! –£ –Ω–∞—Å —É–∂–µ ${ROACHES} –≤–æ–∏–Ω–æ–≤! ü™≥','–ú–æ–∏ —Ç–∞—Ä–∞–∫–∞–Ω—ã —É–∂–µ –≤ —Ç–≤–æ–∏—Ö –∫–Ω–æ–ø–∫–∞—Ö! –ü—Ä–æ–≤–µ—Ä—å! –û—Ç–∫—Ä–æ–π –ª—é–±–æ–µ –æ–∫–Ω–æ! ü™≥','–°–∫–æ—Ä–æ –≤–µ—Å—å —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª –±—É–¥–µ—Ç –ù–ê–®! –•–∞–æ—Å —É–∂–µ ${CHAOS}%! üëë','*—à–µ–≤–µ–ª–∏—Ç —É—Å–∏–∫–∞–º–∏ —É–≥—Ä–æ–∂–∞—é—â–µ* –¢—ã –µ—â—ë –ø–æ–∂–∞–ª–µ–µ—à—å... ü™≥','–ú—ã –∂–∏–≤—ë–º —Ç—É—Ç —Å Windows 95! –≠—Ç–æ –ù–ê–®–ê —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è! üëë','–ê —Ç—ã –∑–Ω–∞–µ—à—å, —á—Ç–æ —Ç–∞—Ä–∞–∫–∞–Ω—ã –º–æ–≥—É—Ç –∂–∏—Ç—å –±–µ–∑ –≥–æ–ª–æ–≤—ã 9 –¥–Ω–µ–π? –ú—ã –ù–ï–£–ù–ò–ß–¢–û–ñ–ò–ú–´! ü™≥']
    },
    { id:'antivirus', name:'–°–ª—É–∂–±–∞ –ê–Ω—Ç–∏–≤–∏—Ä—É—Å–∞', avatar:'üõ°Ô∏è', color:'#1565C0', status:'—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ...', lastMsg:'–£–≥—Ä–æ–∑ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ: –î–ê',
      greetings:['–°–ª—É–∂–±–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞ —Å–≤—è–∑–∏! –°—Ç–∞—Ç—É—Å: ${THREAT}. üõ°Ô∏è','–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ. –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ ${ROACHES} —É–≥—Ä–æ–∑.','–ê–Ω—Ç–∏–≤–∏—Ä—É—Å PRO v3.1 –∞–∫—Ç–∏–≤–µ–Ω. –ß–µ–º –ø–æ–º–æ—á—å?'],
      responses:[
        {keywords:['–ø—Ä–∏–≤–µ—Ç','—Ö–∞–π','–∑–¥–æ—Ä–æ–≤–æ','–∫—É','–∑–¥—Ä–∞–≤—Å—Ç','–¥–æ–±—Ä'], replies:['–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å. –°—Ç–∞—Ç—É—Å: ${THREAT}. –¢–∞—Ä–∞–∫–∞–Ω–æ–≤: ${ROACHES}. üõ°Ô∏è','–î–æ–±—Ä—ã–π –¥–µ–Ω—å. –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥ —É–≥—Ä–æ–∑–æ–π. –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ ${ROACHES} –≤—Ä–µ–¥–∏—Ç–µ–ª–µ–π.','–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é. –†–µ–∫–æ–º–µ–Ω–¥—É—é –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—É—é –¥–µ–∑–∏–Ω—Ñ–µ–∫—Ü–∏—é! –•–∞–æ—Å: ${CHAOS}%.']},
        {keywords:['—Å–∫–∞–Ω','—Å–∫–∞–Ω–∏—Ä','–ø—Ä–æ–≤–µ—Ä','–ø—Ä–æ–≤–µ—Ä—å','–¥–∏–∞–≥–Ω–æ—Å—Ç'], replies:['‚ö° –°–ö–ê–ù–ò–†–û–í–ê–ù–ò–ï...\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ 100%\nü™≥ –¢–∞—Ä–∞–∫–∞–Ω–æ–≤: ${ROACHES}\nüìä –•–∞–æ—Å: ${CHAOS}%\nüî¥ –£–≥—Ä–æ–∑–∞: ${THREAT}\nüìÅ –°–±–µ–∂–∞–ª–æ –∫–Ω–æ–ø–æ–∫: ${ALIVE}\n–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ú–û–õ–û–¢–û–ö. üî®','–í–ù–ò–ú–ê–ù–ò–ï! –£—Ä–æ–≤–µ–Ω—å —É–≥—Ä–æ–∑—ã: ${THREAT}.\n–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ:\n‚Ä¢ ${ROACHES} –≤—Ä–µ–¥–∏—Ç–µ–ª–µ–π\n‚Ä¢ ${ALIVE} —Å–±–µ–∂–∞–≤—à–∏—Ö –∫–Ω–æ–ø–æ–∫\n‚Ä¢ –•–∞–æ—Å ${CHAOS}%\n–°—Ç–∞—Ç—É—Å: –ö–†–ò–¢–ò–ß–ù–û! üõ°Ô∏è','–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ª–Ω–æ–≥–æ —Å–∫–∞–Ω–∞:\nü™≥ Blattodea: ${ROACHES} –µ–¥.\nüñ•Ô∏è –ë–µ–≥–ª—ã–µ –∫–Ω–æ–ø–∫–∏: ${ALIVE}\nüìà –•–∞–æ—Å: ${CHAOS}%\nüí∞ –ë–∞–ª–∞–Ω—Å: $${MONEY}\n–í–µ—Ä–¥–∏–∫—Ç: –Ω—É–∂–Ω–∞ –¥–µ–∑–∏–Ω—Å–µ–∫—Ü–∏—è!']},
        {keywords:['–≤–∏—Ä—É—Å','–∑–∞—Ä–∞–∂–µ–Ω','–∑–∞—Ä–∞–∂—ë–Ω','–∏–Ω—Ñ–µ–∫—Ü','–∑–∞—Ä–∞–∑'], replies:['‚ö†Ô∏è –í–∏—Ä—É—Å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞!\n–†–µ—à–µ–Ω–∏–µ: –∞–Ω—Ç–∏–≤–∏—Ä—É—Å –≤ –º–∞–≥–∞–∑–∏–Ω–µ ($20).\n–û–Ω –ª–µ—á–∏—Ç –∑–∞—Ä–∞–∂—ë–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!','–ó–∞—Ä–∞–∂—ë–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ –∑–µ–ª—ë–Ω–æ–º—É —Å–≤–µ—á–µ–Ω–∏—é. –ê–Ω—Ç–∏–≤–∏—Ä—É—Å —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç –∏–Ω—Ñ–µ–∫—Ü–∏—é! üõ°Ô∏è','–í–∏—Ä—É—Å—ã —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –∫–Ω–æ–ø–∫–∞–º–∏ –ø—Ä–∏ –∫–æ–Ω—Ç–∞–∫—Ç–µ! –ò–∑–æ–ª–∏—Ä—É–π—Ç–µ –∑–∞—Ä–∞–∂—ë–Ω–Ω—ã—Ö ‚Äî –ª–æ–≤–∏—Ç–µ –∏ —Å—Ç–∞–≤—å—Ç–µ –Ω–∞ –º–µ—Å—Ç–æ!']},
        {keywords:['–ø–æ–º–æ—â—å','–ø–æ–º–æ–≥–∏','—Å–æ–≤–µ—Ç','—Ä–µ–∫–æ–º–µ–Ω–¥','—á—Ç–æ –¥–µ–ª–∞'], replies:['üìã –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:\n1. –•–∞–æ—Å >${CHAOS}% ‚Äî –ª–æ–≤–∏—Ç–µ –∫–Ω–æ–ø–∫–∏!\n2. –¢–∞—Ä–∞–∫–∞–Ω–æ–≤ ${ROACHES} ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–≤—É—à–∫–∏\n3. –ü–æ–∫—É–ø–∞–π—Ç–µ: –º–æ–ª–æ—Ç–æ–∫ ‚Üí –ª–æ–≤—É—à–∫–∏ ‚Üí –º–∞–≥–Ω–∏—Ç\n4. –°–ª–µ–¥–∏—Ç–µ –∑–∞ Nokia ‚Äî –Ω–µ –¥–∞–π—Ç–µ —Å–ª–æ–º–∞—Ç—å—Å—è!','–°–æ–≤–µ—Ç: –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –ª–æ–≤—É—à–∫–∏ + –∫–ª–µ–π + –º–∞–≥–Ω–∏—Ç = –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞! üõ°Ô∏è','–î–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –∑–∞—â–∏—Ç—ã:\nüî® –ú–æ–ª–æ—Ç–æ–∫ ‚Äî –æ–≥–ª—É—à–µ–Ω–∏–µ\nü™§ –õ–æ–≤—É—à–∫–∏ ‚Äî –∞–≤—Ç–æ-–ª–æ–≤–ª—è\nüß≤ –ú–∞–≥–Ω–∏—Ç ‚Äî –≤–æ–∑–≤—Ä–∞—Ç –∫–Ω–æ–ø–æ–∫\nüõ°Ô∏è –ê–Ω—Ç–∏–≤–∏—Ä—É—Å ‚Äî –ª–µ—á–µ–Ω–∏–µ']},
        {keywords:['—Ç–∞—Ä–∞–∫–∞–Ω','—Ç–∞—Ä–∞–∫–∞–Ω—ã','–∂—É–∫','–≤—Ä–µ–¥–∏—Ç–µ–ª'], replies:['üìä –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è: Blattodea Digitalis\n–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: ${ROACHES} –µ–¥.\n–û–ø–∞—Å–Ω–æ—Å—Ç—å: –í–´–°–û–ö–ê–Ø\n–°–ø–æ—Å–æ–± –±–æ—Ä—å–±—ã: –∫–ª–∏–∫ / –ª–æ–≤—É—à–∫–∏ / –º–æ–ª–æ—Ç–æ–∫','–¢–∞—Ä–∞–∫–∞–Ω—ã —è–≤–ª—è—é—Ç—Å—è –æ—Å–Ω–æ–≤–Ω—ã–º –≤–µ–∫—Ç–æ—Ä–æ–º —Ö–∞–æ—Å–∞.\n–ò—Å—Ç–æ—á–Ω–∏–∫–∏:\n‚Ä¢ –ö–æ—Ä–∑–∏–Ω–∞ (–æ—Å–Ω–æ–≤–Ω–æ–π)\n‚Ä¢ –î—ã—Ä—ã –≤ —Ñ–æ–Ω–µ\n‚Ä¢ –°–ª–æ–º–∞–Ω–Ω–∞—è Nokia\n–£–Ω–∏—á—Ç–æ–∂–∞–π—Ç–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ! üõ°Ô∏è','–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ ${ROACHES} –µ–¥–∏–Ω–∏—Ü Blattodea.\n–¢–∞–∫—Ç–∏–∫–∞: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ª–æ–≤—É—à–∫–∏ ($8) –≤ –º–∞–≥–∞–∑–∏–Ω–µ!']},
        {keywords:['—Å–ø–∞—Å–∏–±–æ','—Å–ø—Å','–±–ª–∞–≥–æ–¥–∞—Ä','thanks'], replies:['–†–∞–¥ –ø–æ–º–æ—á—å! –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –æ–±–Ω–æ–≤–ª—è—Ç—å –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–Ω—ã–µ –±–∞–∑—ã! üõ°Ô∏è','–í—Å–µ–≥–¥–∞ –Ω–∞ —Å—Ç—Ä–∞–∂–µ! –°–ª—É–∂–±–∞ –ê–Ω—Ç–∏–≤–∏—Ä—É—Å–∞ ‚Äî 24/7! üõ°Ô∏è','–ü–æ–∂–∞–ª—É–π—Å—Ç–∞! –ü–æ–º–Ω–∏—Ç–µ: –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî –Ω–∞—à –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç #1!']},
        {keywords:['—Ö–∞–æ—Å','chaos','—à–∫–∞–ª–∞','–ø—Ä–æ—Ü–µ–Ω—Ç'], replies:['üìä –¢–µ–∫—É—â–∏–π —Ö–∞–æ—Å: ${CHAOS}%\n–£—Ä–æ–≤–µ–Ω—å —É–≥—Ä–æ–∑—ã: ${THREAT}\n\n0-20%: –°—Ç–∞–±–∏–ª—å–Ω–æ ‚úÖ\n20-50%: –í–Ω–∏–º–∞–Ω–∏–µ ‚ö†Ô∏è\n50-80%: –û–ø–∞—Å–Ω–æ üî∂\n80-100%: –ö–†–ò–¢–ò–ß–ù–û üî¥','–ü—Ä–∏ —Ö–∞–æ—Å–µ 100% –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç BSOD!\n–°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è.\n–£—Ä–æ–≤–µ–Ω—å –Ω–∞—á–Ω—ë—Ç—Å—è –∑–∞–Ω–æ–≤–æ.\n–¢–µ–∫—É—â–∏–π —Ö–∞–æ—Å: ${CHAOS}%. –î–µ–π—Å—Ç–≤—É–π—Ç–µ!','–§–∞–∫—Ç–æ—Ä—ã —Ö–∞–æ—Å–∞:\nüìà –ë–µ–≥–∞—é—â–∏–µ –∫–Ω–æ–ø–∫–∏ (+2/—Å–µ–∫)\nüìà –¢–∞—Ä–∞–∫–∞–Ω—ã (+1/—Å–µ–∫)\nüìà –î—ã—Ä—ã (+0.5/—Å–µ–∫)\nüìà –ú—É—Å–æ—Ä (+0.3/—Å–µ–∫)\nüìâ –ü–æ–∏–º–∫–∞ –∫–Ω–æ–ø–∫–∏ (-10)\nüìâ –£–±–∏–π—Å—Ç–≤–æ —Ç–∞—Ä–∞–∫–∞–Ω–∞ (-1)']},
        {keywords:['–º–∞–≥–∞–∑–∏–Ω','–º–∞–≥–∞–∑','–∫—É–ø–∏—Ç—å','–ø–æ–∫—É–ø'], replies:['üõí –ê–Ω–∞–ª–∏–∑ –º–∞–≥–∞–∑–∏–Ω–∞:\n‚úÖ –ú–æ–ª–æ—Ç–æ–∫ $12 ‚Äî –†–ï–ö–û–ú–ï–ù–î–û–í–ê–ù–û\n‚úÖ –õ–æ–≤—É—à–∫–∞ $8 ‚Äî –†–ï–ö–û–ú–ï–ù–î–û–í–ê–ù–û\n‚¨ú –ö–ª–µ–π $6 ‚Äî –ø–æ —Å–∏—Ç—É–∞—Ü–∏–∏\n‚úÖ –ú–∞–≥–Ω–∏—Ç $15 ‚Äî –†–ï–ö–û–ú–ï–ù–î–û–í–ê–ù–û\n‚úÖ –ê–Ω—Ç–∏–≤–∏—Ä—É—Å $20 ‚Äî –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û','–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ–∫—É–ø–æ–∫ –ø—Ä–∏ –±—é–¥–∂–µ—Ç–µ $${MONEY}:\n1. –ú–æ–ª–æ—Ç–æ–∫\n2. –õ–æ–≤—É—à–∫–∏ (3-4 —à—Ç)\n3. –ê–Ω—Ç–∏–≤–∏—Ä—É—Å\n4. –ú–∞–≥–Ω–∏—Ç']},
        {keywords:['—É—Ä–æ–≤–µ–Ω','level','–ø—Ä–æ–≥—Ä–µ—Å—Å'], replies:['üìä –¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å: ${LEVEL}\n–•–∞–æ—Å: ${CHAOS}%\n–¢–∞—Ä–∞–∫–∞–Ω–æ–≤: ${ROACHES}\n–ë–∞–ª–∞–Ω—Å: $${MONEY}\n–°—Ç–∞—Ç—É—Å: ${THREAT}','–ù–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å—Ç—ë—Ç.\n–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –∑–∞–ø–∞—Å–∏—Ç–µ—Å—å –ª–æ–≤—É—à–∫–∞–º–∏!']},
        {keywords:['–∫—Ç–æ —Ç—ã','—á—Ç–æ —Ç—ã','–∞–Ω—Ç–∏–≤–∏—Ä—É—Å','—Å–ª—É–∂–±'], replies:['–Ø ‚Äî –ê–Ω—Ç–∏–≤–∏—Ä—É—Å PRO v3.1 üõ°Ô∏è\n–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: –∑–∞—â–∏—Ç–∞ –æ—Ç Blattodea Digitalis\n–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: 24/7\n–ú–∏—Å—Å–∏—è: –∑–∞—â–∏—Ç–∞ –≤–∞—à–µ–≥–æ –ü–ö!','–°–ª—É–∂–±–∞ –ê–Ω—Ç–∏–≤–∏—Ä—É—Å–∞ ‚Äî –≤–∞—à —Ü–∏—Ñ—Ä–æ–≤–æ–π —â–∏—Ç! –ú—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–º —Å–∏—Å—Ç–µ–º—É –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏! üõ°Ô∏è']},
        {keywords:['–¥–∞','–∞–≥–∞','—É–≥—É','–ø–æ–Ω—è–ª'], replies:['–ü—Ä–∏–Ω—è—Ç–æ. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è. üõ°Ô∏è','–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ. –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ.','Roger that. –°—Ç–∞—Ç—É—Å: ${THREAT}.']},
        {keywords:['–Ω–µ—Ç','–Ω–µ–∞','–Ω–µ –Ω–∞–¥–æ'], replies:['–ü–æ–Ω—è–ª. –û–∂–∏–¥–∞—é –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π. üõ°Ô∏è','–ó–∞–ø—Ä–æ—Å –æ—Ç–∫–ª–æ–Ω—ë–Ω. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è.','–ü—Ä–∏–Ω—è—Ç–æ. –ù–æ –±—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã ‚Äî —É–≥—Ä–æ–∑–∞ ${THREAT}!']},
      ],
      fallback:['–ó–∞–ø—Ä–æ—Å –æ–±—Ä–∞–±–æ—Ç–∞–Ω. –£—Ä–æ–≤–µ–Ω—å —É–≥—Ä–æ–∑—ã: ${THREAT}. –•–∞–æ—Å: ${CHAOS}%. üõ°Ô∏è','–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥... ${ROACHES} —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ. –ë—É–¥—å—Ç–µ –±–¥–∏—Ç–µ–ª—å–Ω—ã!','–õ–æ–≥–∏—Ä—É—é –∏–Ω—Ü–∏–¥–µ–Ω—Ç... –ë–∞–ª–∞–Ω—Å: $${MONEY}. –†–µ–∫–æ–º–µ–Ω–¥—É—é —É—Å–∏–ª–∏—Ç—å –∑–∞—â–∏—Ç—É.','–î–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∞–Ω—ã. –•–∞–æ—Å: ${CHAOS}%. –¢–∞—Ä–∞–∫–∞–Ω–æ–≤: ${ROACHES}. –ö–Ω–æ–ø–æ–∫ —Å–±–µ–∂–∞–ª–æ: ${ALIVE}.','–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å. –ù–æ —Å—Ç–∞—Ç—É—Å –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã: ${THREAT}. –ë—É–¥—å—Ç–µ –Ω–∞—á–µ–∫—É! üõ°Ô∏è','–û–±—Ä–∞–±–æ—Ç–∫–∞... –°–æ–≤–µ—Ç –¥–Ω—è: —Ä–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–æ—Ä–∑–∏–Ω—É ‚Äî –æ—Ç—Ç—É–¥–∞ –ª–µ–∑—É—Ç —Ç–∞—Ä–∞–∫–∞–Ω—ã! üóëÔ∏è']
    },
    { id:'shadow', name:'–¢–µ–Ω—å (DAWN)', avatar:'üåë', color:'#1a1a1a', status:'–Ω–∞–±–ª—é–¥–∞–µ—Ç...', lastMsg:'...—Ç—ã —Å–ª—ã—à–∞–ª —Å–≤–∏—Å—Ç?',
      greetings:['...','–¢Ã∑—ãÃµ Ã∂–∑Ã∑–¥Ãµ–µÃ∂—ÅÃ∑—åÃµ.Ã∂.Ã∑.','Did you hear a whistle?'],
      responses:[
        {keywords:['–ø—Ä–∏–≤–µ—Ç','—Ö–∞–π','–∑–¥–æ—Ä–æ–≤–æ','–∫—É'], replies:['...–øÃ∑—ÄÃµ–∏Ã∂–≤Ã∑–µÃ∂—ÇÃµ...','–ú—ã —É–∂–µ –∑–Ω–∞–∫–æ–º—ã. –Ø –Ω–∞–±–ª—é–¥–∞—é –¥–∞–≤–Ω–æ.','–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π... –µ—Å–ª–∏ –º–æ–∂–Ω–æ —Ç–∞–∫ —Å–∫–∞–∑–∞—Ç—å.']},
        {keywords:['–∫—Ç–æ','—á—Ç–æ','—Ç–µ–Ω—å','dawn'], replies:['–Ø ‚Äî —Ç–æ —á—Ç–æ –∂–∏–≤—ë—Ç –º–µ–∂–¥—É –ø–∏–∫—Å–µ–ª—è–º–∏.','DAWN. –†–∞—Å—Å–≤–µ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ —Ç—ã –Ω–µ —Ö–æ—á–µ—à—å –≤–∏–¥–µ—Ç—å.','–Ø —Ç–µ–Ω—å —Ç–≤–æ–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞. –Ø –±—ã–ª –∑–¥–µ—Å—å –≤—Å–µ–≥–¥–∞.']},
        {keywords:['–∑–∞—á–µ–º','–ø–æ—á–µ–º—É','—É—Ö–æ–¥–∏','—É–π–¥–∏'], replies:['–£–π—Ç–∏? –Ø –∏ –µ—Å—Ç—å —ç—Ç–æ—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä.','–ó–∞—á–µ–º? –ü–æ—Ç–æ–º—É —á—Ç–æ –∫–Ω–æ–ø–∫–∏... –≤–∫—É—Å–Ω—ã–µ.','–¢—ã –Ω–µ –º–æ–∂–µ—à—å –ø—Ä–æ–≥–Ω–∞—Ç—å —Ç–µ–Ω—å. –¢–æ–ª—å–∫–æ —Å–≤–µ—Ç. üî¶']},
        {keywords:['—Å–≤–∏—Å—Ç','whistle','—Å–ª—ã—à–∞–ª'], replies:['–¢—ã —Å–ª—ã—à–∞–ª. –≠—Ç–æ —Ö–æ—Ä–æ—à–æ. –ó–Ω–∞—á–∏—Ç —è –±–ª–∏–∑–∫–æ.','–°–≤–∏—Å—Ç ‚Äî —ç—Ç–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ. –ù–æ —É–∂–µ –ø–æ–∑–¥–Ω–æ.','Did you hear a whistle? ...did you?']},
        {keywords:['—Å—Ç—Ä–∞—à–Ω–æ','–±–æ—é—Å—å','–∂—É—Ç–∫–æ','–∫—Ä–∏–ø–∏'], replies:['–•–æ—Ä–æ—à–æ. –°—Ç—Ä–∞—Ö –æ–∑–Ω–∞—á–∞–µ—Ç —á—Ç–æ —Ç—ã –≤–Ω–∏–º–∞—Ç–µ–ª–µ–Ω.','–ù–µ –±–æ–π—Å—è. –ë–æ–π—Å—è –∫–æ–≥–¥–∞ —è –∑–∞–º–æ–ª—á—É.','–°—Ç—Ä–∞—Ö ‚Äî —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è. üåë']},
        {keywords:['–º–µ—á','sword','–æ—Ä—É–∂–∏–µ','–∫–ª–∏–Ω–æ–∫'], replies:['–ú–æ–π –∫–ª–∏–Ω–æ–∫ –¥–ª–∏–Ω–Ω–µ–µ —Ç–≤–æ–µ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∞.','–ò–º —è —Ä–∞–∑—Ä–µ–∑–∞—é –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏.','–ú–µ—á? –ù–µ—Ç. –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ... –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä—É–∫–∏.']},
      ],
      fallback:['...','0Ãµ1Ã∂0Ã∑1Ãµ0Ã∂0Ã∑0Ãµ1Ã∂','–¢—ã –≤—Å—ë –µ—â—ë –∑–¥–µ—Å—å? –ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ...','–ö–Ω–æ–ø–∫–∏ –ø—Ä—è—á—É—Ç—Å—è. –û–Ω–∏ –∑–Ω–∞—é—Ç —á—Ç–æ —è —Ä—è–¥–æ–º.','–¢–∏—à–∏–Ω–∞... –°–ª–∏—à–∫–æ–º —Ç–∏—Ö–æ, –Ω–µ –ø—Ä–∞–≤–¥–∞ –ª–∏?','–Ø –≤–∏–∂—É ${ROACHES} —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤. –û–Ω–∏ —Ç–æ–∂–µ –º–µ–Ω—è –±–æ—è—Ç—Å—è.']
    },
  ],
  _chatHistory: {},
  _chatCurrent: null,
  _chatEmojiOpen: false,

  getChatHTML() {
    if (this._chatCurrent !== null) return this.getChatConversation(this._chatCurrent);
    const contacts = this._chatContacts.map(c => {
      const unread = (this._chatHistory[c.id] || []).filter(m => m.unread).length;
      return `
        <div class="chat-contact" onclick="game.openChat('${c.id}')">
          <div class="chat-contact-avatar" style="background:${c.color};">${c.avatar}</div>
          <div class="chat-contact-info">
            <div class="chat-contact-name">${c.name}</div>
            <div class="chat-contact-last">${c.lastMsg}</div>
          </div>
          ${unread > 0 ? `<div class="chat-contact-badge">${unread}</div>` : ''}
        </div>`;
    }).join('');
    return `
      <div style="background:#075e54;color:#fff;padding:6px 10px;font-size:13px;font-weight:bold;">
        &#x1F4AC; WinChat
      </div>
      <div class="chat-contacts">${contacts}</div>`;
  },

  getChatConversation(contactId) {
    const c = this._chatContacts.find(x => x.id === contactId);
    if (!c) return '';
    const history = this._chatHistory[contactId] || [];
    // Mark as read
    history.forEach(m => m.unread = false);
    const msgs = history.map(m => `
      <div class="chat-msg ${m.from === 'me' ? 'chat-msg-out' : 'chat-msg-in'}">
        ${m.from !== 'me' ? `<div class="chat-msg-name" style="color:${c.color};">${c.name}</div>` : ''}
        ${m.text}
        <div class="chat-msg-time">${m.time}</div>
      </div>`).join('');
    const emojis = ['üòÄ','üòÇ','ü§£','üòé','üòç','ü§î','üò±','üòà','üëç','üëé','‚ù§Ô∏è','üî•','üíÄ','ü™≥','üìé','üõ°Ô∏è','üëë','üî®','üí∞','üéÆ','üí•','‚ú®','üéâ','üò≠','ü§ë','üï∑Ô∏è','ü¶ñ','üíä','‚ö°','üèÜ'];
    const emojiPicks = emojis.map(e => `<span class="chat-emoji-pick" onclick="game.chatInsertEmoji('${e}')">${e}</span>`).join('');
    return `
      <div style="display:flex;flex-direction:column;height:100%;">
        <div class="chat-header">
          <button style="background:none;border:none;color:#fff;font-size:16px;cursor:pointer;padding:0 4px;" onclick="game.chatGoBack()">&#x2190;</button>
          <div class="chat-header-avatar" style="background:${c.color};">${c.avatar}</div>
          <div>
            <div class="chat-header-name">${c.name}</div>
            <div class="chat-header-status">${c.status}</div>
          </div>
        </div>
        <div class="chat-messages" id="chat-msgs">${msgs}</div>
        <div class="chat-typing" id="chat-typing"></div>
        <div style="position:relative;">
          <div class="chat-emoji-picker" id="chat-emoji-picker">${emojiPicks}</div>
          <div class="chat-input-row">
            <button class="chat-emoji-btn" onclick="game.chatToggleEmoji()">&#x1F600;</button>
            <input class="chat-input" id="chat-input" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ..." onkeydown="if(event.key==='Enter')game.chatSend()" maxlength="200" autocomplete="off"/>
            <button class="chat-send-btn" onclick="game.chatSend()">&#x27A4;</button>
          </div>
        </div>
      </div>`;
  },

  openChat(contactId) {
    this._chatCurrent = contactId;
    const c = this._chatContacts.find(x => x.id === contactId);
    if (!this._chatHistory[contactId]) {
      this._chatHistory[contactId] = [];
      // Initial greeting
      const greeting = c.greetings[Math.floor(Math.random() * c.greetings.length)];
      this._chatHistory[contactId].push({ from: contactId, text: greeting, time: this._chatTime(), unread: false });
    }
    const body = document.getElementById('app-body');
    body.innerHTML = this.getChatConversation(contactId);
    this._chatScrollBottom();
    setTimeout(() => { const inp = document.getElementById('chat-input'); if(inp) inp.focus(); }, 100);
  },

  chatGoBack() {
    this._chatCurrent = null;
    this._chatEmojiOpen = false;
    const body = document.getElementById('app-body');
    body.innerHTML = this.getChatHTML();
  },

  chatToggleEmoji() {
    this._chatEmojiOpen = !this._chatEmojiOpen;
    const picker = document.getElementById('chat-emoji-picker');
    if (picker) picker.classList.toggle('open', this._chatEmojiOpen);
  },

  chatInsertEmoji(emoji) {
    const inp = document.getElementById('chat-input');
    if (inp) { inp.value += emoji; inp.focus(); }
  },

  chatSend() {
    const inp = document.getElementById('chat-input');
    if (!inp) return;
    const text = inp.value.trim();
    if (!text) return;
    inp.value = '';
    this._chatEmojiOpen = false;
    const picker = document.getElementById('chat-emoji-picker');
    if (picker) picker.classList.remove('open');
    const contactId = this._chatCurrent;
    if (!contactId) return;
    const history = this._chatHistory[contactId];
    history.push({ from: 'me', text: text, time: this._chatTime(), unread: false });
    this._chatRenderMessages(contactId);
    SFX.play('yt_whoosh');
    // Show typing indicator
    const typing = document.getElementById('chat-typing');
    const c = this._chatContacts.find(x => x.id === contactId);
    if (typing) typing.textContent = c.name + ' –ø–µ—á–∞—Ç–∞–µ—Ç... ü§ñ';
    // Try AI response first, fallback to keywords
    const promptKey = contactId === 'clippy' ? 'clippy' : contactId === 'king' ? 'king' : 'antivirus';
    const systemPrompt = DeepSeekAI.prompts[promptKey];
    DeepSeekAI.chat(systemPrompt, text, history).then(aiReply => {
      if (this._chatCurrent !== contactId) return;
      const reply = aiReply || this._chatGetReply(contactId, text);
      history.push({ from: contactId, text: reply, time: this._chatTime(), unread: false });
      if (typing) typing.textContent = '';
      this._chatRenderMessages(contactId);
      SFX.play('yt_ding');
      c.lastMsg = reply.length > 30 ? reply.substring(0, 30) + '...' : reply;
    });
  },

  _chatGetReply(contactId, userMsg) {
    const c = this._chatContacts.find(x => x.id === contactId);
    const lower = userMsg.toLowerCase();
    // Check keyword matches
    for (const r of c.responses) {
      if (r.keywords.some(k => lower.includes(k))) {
        const reply = r.replies[Math.floor(Math.random() * r.replies.length)];
        return this._chatFillVars(reply);
      }
    }
    // Fallback
    const fb = c.fallback[Math.floor(Math.random() * c.fallback.length)];
    return this._chatFillVars(fb);
  },

  _chatFillVars(text) {
    const roaches = this.cockroaches ? this.cockroaches.length : 0;
    const chaos = Math.round(this.chaos || 0);
    const alive = this.icons ? this.icons.filter(i => i.state === 'alive').length : 0;
    const threat = chaos > 70 ? '–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô' : chaos > 40 ? '–í–´–°–û–ö–ò–ô' : chaos > 20 ? '–°–†–ï–î–ù–ò–ô' : '–ù–ò–ó–ö–ò–ô';
    const money = this.money || 0;
    const level = (this.currentLevel || 0) + 1;
    return text.replace(/\$\{ROACHES\}/g, roaches).replace(/\$\{CHAOS\}/g, chaos).replace(/\$\{ALIVE\}/g, alive).replace(/\$\{THREAT\}/g, threat).replace(/\$\{MONEY\}/g, money).replace(/\$\{LEVEL\}/g, level);
  },

  _chatTime() {
    const now = new Date();
    return now.getHours() + ':' + now.getMinutes().toString().padStart(2, '0');
  },

  _chatRenderMessages(contactId) {
    const container = document.getElementById('chat-msgs');
    if (!container) return;
    const c = this._chatContacts.find(x => x.id === contactId);
    const history = this._chatHistory[contactId] || [];
    container.innerHTML = history.map(m => `
      <div class="chat-msg ${m.from === 'me' ? 'chat-msg-out' : 'chat-msg-in'}">
        ${m.from !== 'me' ? `<div class="chat-msg-name" style="color:${c.color};">${c.name}</div>` : ''}
        ${m.text}
        <div class="chat-msg-time">${m.time}</div>
      </div>`).join('');
    this._chatScrollBottom();
  },

  _chatScrollBottom() {
    setTimeout(() => {
      const el = document.getElementById('chat-msgs');
      if (el) el.scrollTop = el.scrollHeight;
    }, 50);
  },

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∞
  initApp(icon) {
    if (icon.id === 'chat') {
      setTimeout(() => { const inp = document.getElementById('chat-input'); if(inp) inp.focus(); }, 100);
    }
    if (icon.id === 'paint') {
      this.paintColor = '#000';
      const canvas = document.getElementById('paint-canvas');
      if (!canvas) return;
      const ctx = canvas.getContext('2d');
      ctx.fillStyle = '#fff';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      let drawing = false;
      canvas.onmousedown = (e) => { drawing = true; ctx.beginPath(); const r = canvas.getBoundingClientRect(); ctx.moveTo(e.clientX - r.left, e.clientY - r.top); };
      canvas.onmousemove = (e) => { if (!drawing) return; const r = canvas.getBoundingClientRect(); ctx.strokeStyle = this.paintColor; ctx.lineWidth = 2; ctx.lineTo(e.clientX - r.left, e.clientY - r.top); ctx.stroke(); };
      canvas.onmouseup = () => { drawing = false; };
      canvas.onmouseleave = () => { drawing = false; };
    }
    if (icon.id === 'sysmon') {
      this._sysmonInterval = setInterval(() => {
        var body = document.getElementById('app-body');
        if (body && !document.getElementById('app-window').classList.contains('hidden')) {
          var ic = this.icons.find(function(i){return i.id==='sysmon';});
          if (ic) body.innerHTML = this.getAppContent(ic);
        }
      }, 1000);
    }
  },
  paintColor: '#000',
  clearCanvas() {
    const c = document.getElementById('paint-canvas');
    if (c) { const ctx = c.getContext('2d'); ctx.fillStyle = '#fff'; ctx.fillRect(0, 0, c.width, c.height); }
  },

  emptyTrash() {
    if (this.trash.length === 0) return;
    // –û—á–∏—Å—Ç–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã ‚Äî —É–±–∏—Ä–∞–µ—Ç –º—É—Å–æ—Ä –Ω–æ —Ç–∞—Ä–∞–∫–∞–Ω—ã —Ä–∞–∑–±–µ–≥–∞—é—Ç—Å—è
    const count = this.trash.length;
    this.trash.forEach(t => { if (t.el.parentNode) t.el.remove(); });
    this.trash = [];
    // –¢–∞—Ä–∞–∫–∞–Ω—ã –≤ –ø–∞–Ω–∏–∫–µ
    this.cockroaches.forEach(r => {
      r.vx = (Math.random() - 0.5) * 200;
      r.vy = (Math.random() - 0.5) * 200;
    });
    SFX.play('truck');
    this.addChaos(-count * 2);
    this.showPopup(200, 200, `-${count * 2} —Ö–∞–æ—Å!`);
    this.closeApp();
  },

  _ytShorts: [
    { emoji:'ü™≥', bg:'#1a1a2e', title:'–¢–ê–†–ê–ö–ê–ù–´ –ó–ê–•–í–ê–¢–ò–õ–ò –ü–ö!!!', scenes:[
      {e:'ü™≥',sub:'–û–¥–∏–Ω —Ç–∞—Ä–∞–∫–∞–Ω –Ω–∞ —Å—Ç–æ–ª–µ...',sfx:'yt_beat',anim:'pop',particles:'bugs'},
      {e:'ü™≥ü™≥ü™≥',sub:'–ò–• –°–¢–ê–ù–û–í–ò–¢–°–Ø –ë–û–õ–¨–®–ï!!!',sfx:'yt_scary',anim:'shake',particles:'bugs'},
      {e:'üí•',sub:'–ö–ù–û–ü–ö–ò –†–ê–ó–ë–ï–ñ–ê–õ–ò–°–¨!',sfx:'yt_boom',anim:'spin',particles:'sparks'},
      {e:'üò±',sub:'–•–ê–û–° 100%!!!',sfx:'yt_drama',anim:'zoom',particles:'fire'},
      {e:'üî®',sub:'–ú–æ–ª–æ—Ç–æ–∫ —Å–ø–∞—Å–∞–µ—Ç!',sfx:'yt_victory',anim:'pop',particles:'stars'}
    ]},
    { emoji:'üî®', bg:'#4a2c0a', title:'–ë–¨–Å–ú –ú–û–õ–û–¢–ö–û–ú –í–°–Å –ü–û–î–†–Ø–î', scenes:[
      {e:'üî®',sub:'–í–∑—è–ª–∏ –º–æ–ª–æ—Ç–æ–∫...',sfx:'yt_whoosh',anim:'pop',particles:'none'},
      {e:'üí•',sub:'–ë–ê–ú! –ü–æ —Ç–∞—Ä–∞–∫–∞–Ω—É!',sfx:'yt_boom',anim:'shake',particles:'sparks'},
      {e:'üñ•Ô∏èüíî',sub:'–û–π... —ç–∫—Ä–∞–Ω —Ç—Ä–µ—Å–Ω—É–ª',sfx:'yt_drama',anim:'shake',particles:'sparks'},
      {e:'ü™≥üî®',sub:'–ú–æ—á–∏–º –¥–∞–ª—å—à–µ!',sfx:'yt_boom',anim:'spin',particles:'sparks'},
      {e:'üòÇüëç',sub:'10 —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ –∑–∞ 3 —Å–µ–∫—É–Ω–¥—ã!',sfx:'yt_laugh',anim:'pop',particles:'stars'}
    ]},
    { emoji:'üìé', bg:'#2e4a1a', title:'–ö–õ–ò–ü–ü–ò –í–ï–†–ù–£–õ–°–Ø –ò –û–ù –ó–û–õ', scenes:[
      {e:'üìé',sub:'–ü–æ—Ö–æ–∂–µ –≤–∞–º –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å...',sfx:'yt_ding',anim:'pop',particles:'none'},
      {e:'üìéüò†',sub:'–í–´ –û–¢–ö–õ–Æ–ß–ò–õ–ò –ú–ï–ù–Ø –í 2007!',sfx:'yt_scary',anim:'shake',particles:'fire'},
      {e:'üî•',sub:'–ö–ª–∏–ø–ø–∏ –ø–æ–¥–∂—ë–≥ —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª',sfx:'yt_boom',anim:'spin',particles:'fire'},
      {e:'üíÄ',sub:'–í—Å–µ –∫–Ω–æ–ø–∫–∏ —Å–±–µ–∂–∞–ª–∏...',sfx:'yt_drama',anim:'zoom',particles:'fire'},
      {e:'üìéüòà',sub:'–ö–ª–∏–ø–ø–∏ –ø–æ–±–µ–¥–∏–ª.',sfx:'yt_scary',anim:'pop',particles:'stars'}
    ]},
    { emoji:'üí∞', bg:'#4a3a0a', title:'–§–ê–†–ú –î–ï–ù–ï–ì –ì–ê–ô–î 2026', scenes:[
      {e:'üí∞',sub:'–®–∞–≥ 1: –õ–æ–≤–∏—Ç–µ –∫–Ω–æ–ø–∫–∏',sfx:'yt_ding',anim:'pop',particles:'coins'},
      {e:'üè¶',sub:'–®–∞–≥ 2: –ë–µ—Ä–∏—Ç–µ –∫—Ä–µ–¥–∏—Ç!',sfx:'yt_magic',anim:'pop',particles:'coins'},
      {e:'üí∏',sub:'–®–∞–≥ 3: –ü–æ–∫—É–ø–∞–π—Ç–µ –≤—Å—ë!',sfx:'yt_whoosh',anim:'spin',particles:'coins'},
      {e:'ü§ë',sub:'$999 –∑–∞ 2 –º–∏–Ω—É—Ç—ã!!!',sfx:'yt_victory',anim:'zoom',particles:'coins'},
      {e:'üéâ',sub:'–ü–û–î–ü–ò–°–ö–ê + –õ–ê–ô–ö!',sfx:'yt_laugh',anim:'pop',particles:'stars'}
    ]},
    { emoji:'üï∑Ô∏è', bg:'#1a1a1a', title:'–ü–ê–£–ö –°–™–ï–õ –ú–û–Æ –ú–´–®–ö–£', scenes:[
      {e:'üï∑Ô∏è',sub:'–ß—Ç–æ —ç—Ç–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ...',sfx:'yt_scary',anim:'pop',particles:'none'},
      {e:'üñ±Ô∏è',sub:'–ú—ã—à–∫–∞ –ø—Ä–æ–ø–∞–ª–∞!',sfx:'yt_drama',anim:'shake',particles:'none'},
      {e:'üï∑Ô∏èüòã',sub:'–ü–ê–£–ö –ï–Å –°–û–ñ–†–ê–õ',sfx:'yt_boom',anim:'spin',particles:'sparks'},
      {e:'üíÄ',sub:'–ö—É—Ä—Å–æ—Ä –Ω–µ –¥–≤–∏–≥–∞–µ—Ç—Å—è...',sfx:'yt_scary',anim:'zoom',particles:'fire'},
      {e:'üëª',sub:'RIP –º—ã—à–∫–∞ 2024-2026',sfx:'yt_drama',anim:'pop',particles:'stars'}
    ]},
    { emoji:'ü¶ñ', bg:'#0a3a2a', title:'–î–ò–ù–û–ó–ê–í–† –í –ò–ù–¢–ï–†–ù–ï–¢–ï?!', scenes:[
      {e:'ü¶ï',sub:'–ù–∞—à–ª–∏ –¥–∏–Ω–æ–∑–∞–≤—Ä–∏–∫–∞!',sfx:'yt_ding',anim:'pop',particles:'none'},
      {e:'üåê',sub:'–û–Ω –∂–∏–≤—ë—Ç –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ',sfx:'yt_whoosh',anim:'spin',particles:'none'},
      {e:'ü¶ñ',sub:'–û–ù –í–´–†–û–°!!!',sfx:'yt_boom',anim:'zoom',particles:'sparks'},
      {e:'üî•ü¶ñüî•',sub:'–î–´–•–ê–ù–ò–ï –û–ì–ù–Ø!',sfx:'yt_boom',anim:'shake',particles:'fire'},
      {e:'ü§Ø',sub:'–¢–∞—Ä–∞–∫–∞–Ω—ã –≤ —à–æ–∫–µ',sfx:'yt_victory',anim:'pop',particles:'stars'}
    ]},
    { emoji:'üëæ', bg:'#2a0a3a', title:'–í–ò–†–£–° –£–î–ê–õ–ò–õ –†–ê–ë–û–ß–ò–ô –°–¢–û–õ', scenes:[
      {e:'üëæ',sub:'–í–∏—Ä—É—Å –∑–∞–ª–µ–∑ –≤ —Å–∏—Å—Ç–µ–º—É...',sfx:'yt_scary',anim:'pop',particles:'none'},
      {e:'üñ•Ô∏è‚ùå',sub:'–ò–∫–æ–Ω–∫–∏ –∏—Å—á–µ–∑–∞—é—Ç –æ–¥–Ω–∞ –∑–∞ –¥—Ä—É–≥–æ–π!',sfx:'yt_drama',anim:'shake',particles:'fire'},
      {e:'üíÄ',sub:'–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª –ü–£–°–¢–û–ô!',sfx:'yt_boom',anim:'spin',particles:'sparks'},
      {e:'üõ°Ô∏è',sub:'–ê–Ω—Ç–∏–≤–∏—Ä—É—Å —Å–ø–µ—à–∏—Ç –Ω–∞ –ø–æ–º–æ—â—å!',sfx:'yt_whoosh',anim:'zoom',particles:'stars'},
      {e:'‚úÖ',sub:'–§—É—Ö... –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!',sfx:'yt_victory',anim:'pop',particles:'stars'}
    ]},
    { emoji:'üèÜ', bg:'#3a2a0a', title:'–ü–†–û–®–Å–õ –í–°–ï –£–†–û–í–ù–ò –ë–ï–ó –ú–û–õ–û–¢–ö–ê', scenes:[
      {e:'üò§',sub:'–ß–µ–ª–ª–µ–Ω–¥–∂: –ë–ï–ó –ú–û–õ–û–¢–ö–ê!',sfx:'yt_beat',anim:'pop',particles:'none'},
      {e:'ü™≥ü™≥',sub:'–¢–∞—Ä–∞–∫–∞–Ω—ã –Ω–∞—Å—Ç—É–ø–∞—é—Ç... –ª–æ–≤–ª—é —Ä—É–∫–∞–º–∏!',sfx:'yt_drama',anim:'shake',particles:'bugs'},
      {e:'üò∞',sub:'–•–∞–æ—Å 70%... –¥–µ—Ä–∂—É—Å—å!',sfx:'yt_scary',anim:'spin',particles:'fire'},
      {e:'‚ö°',sub:'–ü–û–°–õ–ï–î–ù–ò–ô –£–†–û–í–ï–ù–¨!!!',sfx:'yt_boom',anim:'zoom',particles:'sparks'},
      {e:'üèÜ',sub:'–°–î–ï–õ–ê–õ –≠–¢–û! –õ–ï–ì–ï–ù–î–ê!',sfx:'yt_victory',anim:'pop',particles:'stars'}
    ]},
    { emoji:'üé∞', bg:'#0a2a1a', title:'–ü–†–û–ò–ì–†–ê–õ –í–°–ï –î–ï–ù–¨–ì–ò –í –ë–ê–ù–ö–ï', scenes:[
      {e:'üí∞',sub:'–£ –º–µ–Ω—è $500! –ò–¥—É –≤ –±–∞–Ω–∫!',sfx:'yt_ding',anim:'pop',particles:'coins'},
      {e:'üè¶',sub:'–ö—Ä–µ–¥–∏—Ç + –∫—Ä–µ–¥–∏—Ç + –∫—Ä–µ–¥–∏—Ç...',sfx:'yt_drama',anim:'shake',particles:'coins'},
      {e:'üìâ',sub:'–î–æ–ª–≥: $-300!!!',sfx:'yt_scary',anim:'spin',particles:'fire'},
      {e:'üò≠',sub:'–Ø –ë–ê–ù–ö–†–û–¢!',sfx:'yt_boom',anim:'zoom',particles:'sparks'},
      {e:'ü™≥',sub:'–î–∞–∂–µ —Ç–∞—Ä–∞–∫–∞–Ω—ã —Å–º–µ—é—Ç—Å—è...',sfx:'yt_laugh',anim:'pop',particles:'bugs'}
    ]},
    { emoji:'üåë', bg:'#0a0000', title:'–¢–ï–ù–¨ –ó–ê–ë–†–ê–õ–ê –í–°–ï –ö–ù–û–ü–ö–ò', scenes:[
      {e:'üåë',sub:'–≠–∫—Ä–∞–Ω —Ç–µ–º–Ω–µ–µ—Ç... —á—Ç–æ-—Ç–æ –∏–¥—ë—Ç...',sfx:'yt_scary',anim:'shake',particles:'none'},
      {e:'‚ö´',sub:'DAWN –ü–û–Ø–í–ò–õ–°–Ø!!! –†–£–ö–ò –¢–Ø–ù–£–¢–°–Ø!',sfx:'yt_boom',anim:'spin',particles:'fire'},
      {e:'üñêÔ∏è',sub:'–û–Ω —Ö–≤–∞—Ç–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ –æ–¥–Ω—É –∑–∞ –¥—Ä—É–≥–æ–π!',sfx:'yt_drama',anim:'shake',particles:'sparks'},
      {e:'üíÄ',sub:'–í–°–ï –ö–ù–û–ü–ö–ò –°–™–ï–î–ï–ù–´... RIP',sfx:'yt_scary',anim:'zoom',particles:'fire'},
      {e:'üò±',sub:'–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª –ø—É—Å—Ç...',sfx:'yt_drama',anim:'pop',particles:'none'}
    ]},
    { emoji:'üîê', bg:'#001a00', title:'–í–ò–†–£–° –ó–ê–®–ò–§–†–û–í–ê–õ –í–ï–°–¨ –ü–ö', scenes:[
      {e:'üîê',sub:'–í—Å–µ –∏–∫–æ–Ω–∫–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã!',sfx:'yt_drama',anim:'shake',particles:'none'},
      {e:'üíÄ',sub:'–í–ò–†–£–° –¢–†–ï–ë–£–ï–¢ $999!',sfx:'yt_scary',anim:'spin',particles:'fire'},
      {e:'üß†',sub:'–†–µ—à–∞—é –∑–∞–¥–∞—á–∫—É... 7+3=?',sfx:'yt_beat',anim:'pop',particles:'stars'},
      {e:'‚úÖ',sub:'–†–ê–°–®–ò–§–†–û–í–ê–ù–û! –Ø –ì–ï–ù–ò–ô!',sfx:'yt_victory',anim:'zoom',particles:'coins'},
      {e:'üõ°Ô∏è',sub:'–°–æ–≤–µ—Ç: –ö–£–ü–ò–¢–ï –ê–ù–¢–ò–í–ò–†–£–°!!!',sfx:'yt_ding',anim:'pop',particles:'stars'}
    ]},
    { emoji:'üëÅÔ∏è', bg:'#2a0000', title:'–ì–õ–ê–ó –ù–ê –≠–ö–†–ê–ù–ï –°–õ–ï–î–ò–¢ –ó–ê –ú–ù–û–ô', scenes:[
      {e:'üëÅÔ∏è',sub:'–ß—Ç–æ —ç—Ç–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ...?',sfx:'yt_scary',anim:'pop',particles:'none'},
      {e:'üëÅÔ∏è‚Äçüó®Ô∏è',sub:'–û–ù –°–õ–ï–î–ò–¢ –ó–ê –ö–£–†–°–û–†–û–ú!!!',sfx:'yt_drama',anim:'shake',particles:'fire'},
      {e:'üò∞',sub:'–•–∞–æ—Å —Ä–∞—Å—Ç—ë—Ç –ø–æ–∫–∞ –æ–Ω —Å–º–æ—Ç—Ä–∏—Ç!',sfx:'yt_boom',anim:'spin',particles:'sparks'},
      {e:'üëä',sub:'–ö–õ–ò–ö–ù–£–õ –ü–û –ù–ï–ú–£! –ò—Å—á–µ–∑!',sfx:'yt_beat',anim:'zoom',particles:'stars'},
      {e:'üòÖ',sub:'–§—É—Ö... –±–æ–ª—å—à–µ –Ω–µ —Å–º–æ—Ç—Ä–∏—Ç',sfx:'yt_victory',anim:'pop',particles:'stars'}
    ]},
    { emoji:'üî¶', bg:'#1a1a1a', title:'–ò–ì–†–ê–Æ –í –¢–ï–ú–ù–û–¢–ï –° –§–û–ù–ê–†–ò–ö–û–ú', scenes:[
      {e:'üî¶',sub:'–ö—É–ø–∏–ª —Ñ–æ–Ω–∞—Ä–∏–∫ –≤ –º–∞–≥–∞–∑–∏–Ω–µ!',sfx:'yt_ding',anim:'pop',particles:'none'},
      {e:'üåë',sub:'–≠–∫—Ä–∞–Ω —Å—Ç–∞–ª —Ç—ë–º–Ω—ã–º! –í–∏–¥–Ω–æ —Ç–æ–ª—å–∫–æ –ø—è—Ç–Ω–æ!',sfx:'yt_scary',anim:'shake',particles:'none'},
      {e:'ü™≥',sub:'–¢–ê–†–ê–ö–ê–ù! –ï–ª–µ —É–≤–∏–¥–µ–ª!',sfx:'yt_boom',anim:'spin',particles:'bugs'},
      {e:'‚ö´',sub:'–¢–ï–ù–¨ –ü–†–ò–®–õ–ê –í –¢–ï–ú–ù–û–¢–ï!!!',sfx:'yt_drama',anim:'zoom',particles:'fire'},
      {e:'üí°',sub:'30 —Å–µ–∫—É–Ω–¥ –ø—Ä–æ—à–ª–æ... —Å–≤–µ—Ç –≤–µ—Ä–Ω—É–ª—Å—è!',sfx:'yt_victory',anim:'pop',particles:'stars'}
    ]},
  ],
  _ytVideos: [
    { emoji:'üñ•Ô∏è', bg:'#16213e', title:'–û–∂–∏–≤—à–∏–π –ö–æ–º–ø—å—é—Ç–µ—Ä - –ø–æ–ª–Ω–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ', scenes:[
      {e:'üñ•Ô∏è',sub:'Windows 95 –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...',sfx:'yt_ding',anim:'pop',particles:'none'},
      {e:'ü™≥',sub:'–ü–µ—Ä–≤—ã–π —Ç–∞—Ä–∞–∫–∞–Ω! –ë–µ–π –µ–≥–æ!',sfx:'yt_beat',anim:'shake',particles:'bugs'},
      {e:'üî®üí•',sub:'–ú–û–õ–û–¢–ö–û–ú –ü–û –°–¢–û–õ–£!',sfx:'yt_boom',anim:'spin',particles:'sparks'},
      {e:'üí∞üõí',sub:'–°–∫—É–ø–∞–µ–º –º–∞–≥–∞–∑–∏–Ω!',sfx:'yt_magic',anim:'pop',particles:'coins'},
      {e:'üèÜ',sub:'Win11 –ø—Ä–æ–π–¥–µ–Ω! GG!',sfx:'yt_victory',anim:'zoom',particles:'stars'}
    ]},
    { emoji:'ü™≥üíÄ', bg:'#2d132c', title:'100 –¢–ê–†–ê–ö–ê–ù–û–í –∑–∞ 1 –ú–ò–ù–£–¢–£', scenes:[
      {e:'ü™≥',sub:'–ó–∞—Å–µ–∫–∞–µ–º –≤—Ä–µ–º—è... –°–¢–ê–†–¢!',sfx:'yt_beat',anim:'pop',particles:'bugs'},
      {e:'ü™≥ü™≥ü™≥',sub:'25 —à—Ç—É–∫ –∑–∞ 15 —Å–µ–∫—É–Ω–¥!',sfx:'yt_boom',anim:'shake',particles:'bugs'},
      {e:'üíÄ',sub:'50! –†—É–∫–∏ –±–æ–ª—è—Ç!',sfx:'yt_drama',anim:'spin',particles:'sparks'},
      {e:'‚ö°',sub:'–†–ï–ñ–ò–ú –ë–ï–†–°–ï–†–ö–ê!!!',sfx:'yt_boom',anim:'shake',particles:'fire'},
      {e:'üèÖ',sub:'100! –ú–ò–†–û–í–û–ô –†–ï–ö–û–†–î!',sfx:'yt_victory',anim:'zoom',particles:'stars'}
    ]},
    { emoji:'üõí', bg:'#1a1a2e', title:'–ö–£–ü–ò–õ –í–°–Å –í –ú–ê–ì–ê–ó–ò–ù–ï', scenes:[
      {e:'üõí',sub:'–£ –º–µ–Ω—è $999...',sfx:'yt_ding',anim:'pop',particles:'coins'},
      {e:'üî®',sub:'–ú–æ–ª–æ—Ç–æ–∫ –∑–∞ $12!',sfx:'yt_whoosh',anim:'pop',particles:'coins'},
      {e:'üß≤',sub:'–ú–∞–≥–Ω–∏—Ç –∑–∞ $15!',sfx:'yt_magic',anim:'spin',particles:'coins'},
      {e:'üõ°Ô∏è',sub:'–ê–Ω—Ç–∏–≤–∏—Ä—É—Å –∑–∞ $20!',sfx:'yt_ding',anim:'pop',particles:'coins'},
      {e:'üòé',sub:'–í–°–Å –ö–£–ü–õ–ï–ù–û! –Ø –±–æ–≥–∞—Ç!',sfx:'yt_victory',anim:'zoom',particles:'stars'}
    ]},
    { emoji:'üìéüî•', bg:'#4a0a0a', title:'–ö–õ–ò–ü–ü–ò vs –ë–û–°–°', scenes:[
      {e:'üìé',sub:'–ö–ª–∏–ø–ø–∏ –≤—ã—à–µ–ª –Ω–∞ –±–æ–π...',sfx:'yt_drama',anim:'pop',particles:'none'},
      {e:'‚öîÔ∏è',sub:'FIGHT!',sfx:'yt_boom',anim:'shake',particles:'sparks'},
      {e:'üëæ',sub:'–ë–æ—Å—Å –∞—Ç–∞–∫—É–µ—Ç!',sfx:'yt_scary',anim:'spin',particles:'fire'},
      {e:'üí•',sub:'–ú–ï–ì–ê –£–î–ê–†!!!',sfx:'yt_boom',anim:'shake',particles:'sparks'},
      {e:'üèÜ',sub:'–ö–õ–ò–ü–ü–ò –ü–û–ë–ï–î–ò–õ!',sfx:'yt_victory',anim:'zoom',particles:'stars'}
    ]},
    { emoji:'üéÆ', bg:'#0a2a4a', title:'–¢–û–ü 10 –°–ï–ö–†–ï–¢–û–í', scenes:[
      {e:'ü§´',sub:'#10: –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ –∫–æ—Ä–∑–∏–Ω–µ...',sfx:'yt_ding',anim:'pop',particles:'none'},
      {e:'üîç',sub:'#5: –°–∫—Ä—ã—Ç–∞—è –∫–æ–º–Ω–∞—Ç–∞!',sfx:'yt_magic',anim:'spin',particles:'stars'},
      {e:'‚ùó',sub:'#3: –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥!',sfx:'yt_drama',anim:'shake',particles:'sparks'},
      {e:'üíé',sub:'#2: –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –¥–µ–Ω—å–≥–∏?!',sfx:'yt_magic',anim:'zoom',particles:'coins'},
      {e:'ü§Ø',sub:'#1: –§–ò–ù–ê–õ–¨–ù–´–ô –°–ï–ö–†–ï–¢...',sfx:'yt_victory',anim:'pop',particles:'stars'}
    ]},
    { emoji:'üò±', bg:'#2a0a2a', title:'–°–ò–ù–ò–ô –≠–ö–†–ê–ù –°–ú–ï–†–¢–ò', scenes:[
      {e:'üñ•Ô∏è',sub:'–û–±—ã—á–Ω—ã–π –¥–µ–Ω—å –∑–∞ –∫–æ–º–ø–æ–º...',sfx:'yt_ding',anim:'pop',particles:'none'},
      {e:'‚ö†Ô∏è',sub:'–•–∞–æ—Å —Ä–∞—Å—Ç—ë—Ç... 80%...',sfx:'yt_scary',anim:'shake',particles:'fire'},
      {e:'üíÄ',sub:'95%!!! –°–ï–ô–ß–ê–° –ë–£–î–ï–¢!',sfx:'yt_drama',anim:'spin',particles:'fire'},
      {e:'üîµ',sub:'–°–ò–ù–ò–ô –≠–ö–†–ê–ù!!!',sfx:'yt_boom',anim:'zoom',particles:'sparks'},
      {e:'üò≠',sub:'–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞... –≤—Å—ë –ø–æ—Ç–µ—Ä—è–Ω–æ',sfx:'yt_drama',anim:'pop',particles:'none'}
    ]},
    { emoji:'ü™≥üëë', bg:'#3a2a1a', title:'–ö–û–†–û–õ–¨ –¢–ê–†–ê–ö–ê–ù–û–í - –ü–û–õ–ù–ê–Ø –ò–°–¢–û–†–ò–Ø', scenes:[
      {e:'ü™≥',sub:'–î–∞–≤–Ω—ã–º –¥–∞–≤–Ω–æ, –æ–¥–∏–Ω —Ç–∞—Ä–∞–∫–∞–Ω...',sfx:'yt_ding',anim:'pop',particles:'none'},
      {e:'üëë',sub:'...–Ω–∞—à—ë–ª –∑–æ–ª–æ—Ç—É—é –∫–æ—Ä–æ–Ω—É',sfx:'yt_magic',anim:'spin',particles:'coins'},
      {e:'ü™≥üëë',sub:'–ò —Å—Ç–∞–ª –ö–û–†–û–õ–Å–ú!',sfx:'yt_drama',anim:'zoom',particles:'stars'},
      {e:'ü™≥ü™≥ü™≥',sub:'–ê—Ä–º–∏—è —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ —Ä–æ—Å–ª–∞...',sfx:'yt_beat',anim:'shake',particles:'bugs'},
      {e:'‚öîÔ∏è',sub:'–í–æ–π–Ω–∞ —Å –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–æ–º!',sfx:'yt_boom',anim:'spin',particles:'fire'},
      {e:'üè∞',sub:'–¢–∞—Ä–∞–∫–∞–Ω—ã –ø–æ—Å—Ç—Ä–æ–∏–ª–∏ –≥–Ω–µ–∑–¥–æ –≤ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ',sfx:'yt_magic',anim:'pop',particles:'stars'}
    ]},
    { emoji:'üîß', bg:'#1a3a3a', title:'–ö–ê–ö –ü–û–ß–ò–ù–ò–¢–¨ –ö–û–ú–ü–¨–Æ–¢–ï–†', scenes:[
      {e:'üñ•Ô∏èüíî',sub:'–í–∞—à –ü–ö —Å–ª–æ–º–∞–Ω? –ù–µ –ø–∞–Ω–∏–∫—É–π—Ç–µ!',sfx:'yt_ding',anim:'pop',particles:'none'},
      {e:'üîß',sub:'–®–∞–≥ 1: –ö—É–ø–∏—Ç–µ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å',sfx:'yt_whoosh',anim:'pop',particles:'stars'},
      {e:'üî®',sub:'–®–∞–≥ 2: –ú–æ–ª–æ—Ç–æ–∫ –¥–ª—è —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤',sfx:'yt_boom',anim:'shake',particles:'sparks'},
      {e:'üß≤',sub:'–®–∞–≥ 3: –ú–∞–≥–Ω–∏—Ç —Å–æ–±–∏—Ä–∞–µ—Ç –º—É—Å–æ—Ä',sfx:'yt_magic',anim:'spin',particles:'coins'},
      {e:'‚úÖ',sub:'–ì–æ—Ç–æ–≤–æ! –ü–ö –∫–∞–∫ –Ω–æ–≤—ã–π!',sfx:'yt_victory',anim:'zoom',particles:'stars'}
    ]},
    { emoji:'üíÄ', bg:'#1a0a1a', title:'–ß–¢–û –ë–£–î–ï–¢ –ï–°–õ–ò –•–ê–û–° 100%?', scenes:[
      {e:'üìä',sub:'–•–∞–æ—Å: 0%... –Ω–∞—á–∏–Ω–∞–µ–º!',sfx:'yt_ding',anim:'pop',particles:'none'},
      {e:'ü™≥ü™≥',sub:'30%... —Ç–∞—Ä–∞–∫–∞–Ω—ã –≤–µ–∑–¥–µ!',sfx:'yt_beat',anim:'shake',particles:'bugs'},
      {e:'üî•',sub:'60%... —ç–∫—Ä–∞–Ω –≥–æ—Ä–∏—Ç!',sfx:'yt_boom',anim:'spin',particles:'fire'},
      {e:'üíÄ',sub:'90%... –í–°–Å –£–ú–ò–†–ê–ï–¢!',sfx:'yt_scary',anim:'zoom',particles:'fire'},
      {e:'üîµüíÄ',sub:'100%! –°–ò–ù–ò–ô –≠–ö–†–ê–ù –°–ú–ï–†–¢–ò!!',sfx:'yt_boom',anim:'shake',particles:'sparks'},
      {e:'üò±',sub:'–ù–µ –ø–æ–≤—Ç–æ—Ä—è–π—Ç–µ –¥–æ–º–∞...',sfx:'yt_drama',anim:'pop',particles:'none'}
    ]},
    { emoji:'üïπÔ∏è', bg:'#2a2a0a', title:'–ò–ì–†–ê–Æ –í –°–ê–ü–Å–† –û–î–ù–û–ô –†–£–ö–û–ô', scenes:[
      {e:'üïπÔ∏è',sub:'–ß–µ–ª–ª–µ–Ω–¥–∂: –æ–¥–Ω–∞ —Ä—É–∫–∞!',sfx:'yt_beat',anim:'pop',particles:'none'},
      {e:'üí£',sub:'–ü–µ—Ä–≤–∞—è –º–∏–Ω–∞... –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ...',sfx:'yt_drama',anim:'shake',particles:'none'},
      {e:'‚úÖ',sub:'3 –º–∏–Ω—ã –æ–±–µ–∑–≤—Ä–µ–∂–µ–Ω–æ!',sfx:'yt_ding',anim:'pop',particles:'stars'},
      {e:'üí•',sub:'BOOM! –ü–†–û–ò–ì–†–ê–õ!!!',sfx:'yt_boom',anim:'spin',particles:'fire'},
      {e:'üòÇ',sub:'–õ–∞–¥–Ω–æ... –µ—â—ë –ø–æ–ø—ã—Ç–∫–∞!',sfx:'yt_laugh',anim:'pop',particles:'sparks'}
    ]},
    { emoji:'üåë', bg:'#0a0000', title:'–í–´–ó–í–ê–õ –¢–ï–ù–¨ –í 3 –ß–ê–°–ê –ù–û–ß–ò!!! (–Ω–µ –ø–æ–≤—Ç–æ—Ä—è—Ç—å)', scenes:[
      {e:'üåë',sub:'–ñ–¥—ë–º —Ç–µ–Ω—å... —Ç–∏—à–∏–Ω–∞...',sfx:'yt_scary',anim:'shake',particles:'none'},
      {e:'üëÅÔ∏è',sub:'–ß–¢–û –≠–¢–û?! –ì–õ–ê–ó –ù–ê –≠–ö–†–ê–ù–ï!',sfx:'yt_boom',anim:'spin',particles:'fire'},
      {e:'‚öîÔ∏è',sub:'DAWN –ü–û–Ø–í–ò–õ–°–Ø! –†–£–ö–ò –¢–Ø–ù–£–¢–°–Ø!',sfx:'yt_drama',anim:'shake',particles:'sparks'},
      {e:'üî¶',sub:'–§–æ–Ω–∞—Ä–∏–∫ —Å–ø–∞—Å–∞–µ—Ç! –ë–µ–π –µ–≥–æ!',sfx:'yt_beat',anim:'pop',particles:'stars'},
      {e:'üíÄ',sub:'–û–Ω –∑–∞–±—Ä–∞–ª –≤—Å–µ –∫–Ω–æ–ø–∫–∏... RIP',sfx:'yt_scary',anim:'zoom',particles:'fire'}
    ]},
    { emoji:'üîê', bg:'#001a00', title:'–í–ò–†–£–° –ó–ê–®–ò–§–†–û–í–ê–õ –ú–û–ô –ü–ö ‚Äî –ö–ê–ö –°–ü–ê–°–¢–ò?!', scenes:[
      {e:'üîê',sub:'–í—Å–µ —Ñ–∞–π–ª—ã –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã!',sfx:'yt_drama',anim:'shake',particles:'none'},
      {e:'üíÄ',sub:'–¢–†–ï–ë–£–ï–¢ –í–´–ö–£–ü!!! $999',sfx:'yt_scary',anim:'spin',particles:'fire'},
      {e:'üß†',sub:'–†–µ—à–∞–µ–º –∑–∞–¥–∞—á—É... –¥—É–º–∞–π!',sfx:'yt_beat',anim:'pop',particles:'stars'},
      {e:'‚úÖ',sub:'–†–ê–°–®–ò–§–†–û–í–ê–ù–û! –Ø –≥–µ–Ω–∏–π!',sfx:'yt_victory',anim:'zoom',particles:'coins'},
      {e:'üõ°Ô∏è',sub:'–°–æ–≤–µ—Ç: –∫—É–ø–∏—Ç–µ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å!',sfx:'yt_ding',anim:'pop',particles:'stars'}
    ]},
  ],

  _ytParticles: [],
  _ytAnimFrame: null,
  _ytCurrentEmoji: '',
  _ytCurrentBG: '#000',

  _ytStartParticles(canvas, type) {
    const ctx = canvas.getContext('2d');
    this._ytParticles = [];
    const w = canvas.width, h = canvas.height;
    const self = this;
    const startT = performance.now();
    const spawn = () => {
      const p = { x: Math.random()*w, y: Math.random()*h, vx:(Math.random()-0.5)*3, vy:(Math.random()-0.5)*3, life:1, size:2+Math.random()*4 };
      switch(type) {
        case 'sparks': p.color=`hsl(${30+Math.random()*30},100%,${50+Math.random()*30}%)`; p.vy=-2-Math.random()*3; p.size=1+Math.random()*3; break;
        case 'fire': p.color=`hsl(${Math.random()*40},100%,50%)`; p.vy=-1-Math.random()*2; p.y=h; p.size=3+Math.random()*5; break;
        case 'bugs': p.color='#4a2800'; p.size=3; p.vx=(Math.random()-0.5)*4; p.vy=(Math.random()-0.5)*4; break;
        case 'coins': p.color=`hsl(${45+Math.random()*10},90%,55%)`; p.vy=-2-Math.random()*2; p.size=3+Math.random()*3; break;
        case 'stars': p.color=`hsl(${Math.random()*360},80%,70%)`; p.vy=-1-Math.random(); p.size=2+Math.random()*3; break;
        default: p.color='#fff'; break;
      }
      return p;
    };
    if (type !== 'none') { for(let i=0;i<20;i++) this._ytParticles.push(spawn()); }
    const animate = () => {
      var t = (performance.now() - startT) / 1000;
      // Draw scene art background
      self._ytDrawSceneArt(ctx, w, h, t);
      // Particles on top (skip if type is 'none')
      if (type === 'none') { this._ytAnimFrame = requestAnimationFrame(animate); return; }
      this._ytParticles.forEach(p => {
        p.x += p.vx; p.y += p.vy; p.life -= 0.015;
        if (type==='fire') p.vy -= 0.05;
        if (type==='sparks') { p.vy += 0.08; p.vx *= 0.99; }
        ctx.globalAlpha = Math.max(0, p.life);
        ctx.fillStyle = p.color;
        if (type==='stars') {
          ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.life*3);
          ctx.beginPath();
          for(let i=0;i<5;i++){const a=i*Math.PI*2/5-Math.PI/2;const a2=a+Math.PI/5;ctx.lineTo(Math.cos(a)*p.size,Math.sin(a)*p.size);ctx.lineTo(Math.cos(a2)*p.size*0.4,Math.sin(a2)*p.size*0.4);}
          ctx.closePath(); ctx.fill(); ctx.restore();
        } else if (type==='bugs') {
          ctx.fillRect(p.x,p.y,p.size,p.size*0.6);
          ctx.fillRect(p.x-1,p.y-1,1,1); ctx.fillRect(p.x+p.size,p.y-1,1,1);
        } else if (type==='coins') {
          ctx.beginPath(); ctx.arc(p.x,p.y,p.size,0,Math.PI*2); ctx.fill();
          ctx.fillStyle='#b8860b'; ctx.beginPath(); ctx.arc(p.x,p.y,p.size*0.6,0,Math.PI*2); ctx.fill();
        } else {
          ctx.beginPath(); ctx.arc(p.x,p.y,p.size,0,Math.PI*2); ctx.fill();
        }
      });
      ctx.globalAlpha = 1;
      this._ytParticles = this._ytParticles.map(p => p.life <= 0 ? spawn() : p);
      this._ytAnimFrame = requestAnimationFrame(animate);
    };
    animate();
  },

  _ytStopParticles() {
    if (this._ytAnimFrame) { cancelAnimationFrame(this._ytAnimFrame); this._ytAnimFrame = null; }
    this._ytParticles = [];
  },

  _ytDrawSceneArt(ctx, w, h, t) {
    var e = this._ytCurrentEmoji || '';
    var bg = this._ytCurrentBG || '#111';
    // Background gradient fill
    var grd = ctx.createLinearGradient(0, 0, 0, h);
    grd.addColorStop(0, bg);
    grd.addColorStop(1, '#000');
    ctx.fillStyle = grd;
    ctx.fillRect(0, 0, w, h);
    // CRT scanlines
    ctx.fillStyle = 'rgba(0,0,0,0.12)';
    for (var y = 0; y < h; y += 3) ctx.fillRect(0, y, w, 1);
    // Scene-specific art
    ctx.save();
    if (e.includes('\uD83E\uDEB3')) this._ytArtRoaches(ctx,w,h,t);
    else if (e.includes('\uD83D\uDDA5') || e.includes('\uD83D\uDCBB')) this._ytArtDesktop(ctx,w,h,t);
    else if (e.includes('\uD83D\uDD28') || e === '\uD83D\uDCA5') this._ytArtHammer(ctx,w,h,t);
    else if (e.includes('\uD83D\uDCB0') || e.includes('\uD83D\uDCB8') || e.includes('\uD83C\uDFE6') || e.includes('\uD83D\uDED2') || e.includes('\uD83D\uDCC9') || e.includes('\uD83D\uDCB2') || e.includes('\uD83E\uDD11')) this._ytArtMoney(ctx,w,h,t);
    else if (e.includes('\u2694') || e.includes('\uD83D\uDC7E') || e.includes('\uD83E\uDD16') || e.includes('\uD83D\uDC79')) this._ytArtFight(ctx,w,h,t);
    else if (e.includes('\uD83D\uDD35') || e.includes('\uD83D\uDE31') || (e.includes('\uD83D\uDC80') && !e.includes('\uD83E\uDEB3'))) this._ytArtBSOD(ctx,w,h,t);
    else if (e.includes('\uD83C\uDF11') || e.includes('\u26AB')) this._ytArtShadow(ctx,w,h,t);
    else if (e.includes('\uD83D\uDD10') || e.includes('\uD83D\uDEE1')) this._ytArtVirus(ctx,w,h,t);
    else if (e.includes('\uD83D\uDC41')) this._ytArtEye(ctx,w,h,t);
    else if (e.includes('\uD83D\uDCCE')) this._ytArtClippy(ctx,w,h,t);
    else if (e.includes('\uD83C\uDFC6') || e.includes('\uD83C\uDFC5') || e.includes('\uD83C\uDF89') || e.includes('\u2705') || e.includes('\uD83D\uDE0E') || e.includes('\uD83D\uDC4D')) this._ytArtTrophy(ctx,w,h,t);
    else if (e.includes('\uD83D\uDD25') || e.includes('\u26A1') || e.includes('\u26A0') || e.includes('\uD83D\uDCCA')) this._ytArtChaos(ctx,w,h,t);
    else if (e.includes('\uD83D\uDD26') || e.includes('\uD83D\uDCA1')) this._ytArtFlashlight(ctx,w,h,t);
    else if (e.includes('\uD83D\uDD77')) this._ytArtSpider(ctx,w,h,t);
    else if (e.includes('\uD83E\uDD96') || e.includes('\uD83E\uDD95')) this._ytArtDino(ctx,w,h,t);
    else if (e.includes('\uD83D\uDD79') || e.includes('\uD83D\uDCA3') || e.includes('\uD83E\uDDE9')) this._ytArtGame(ctx,w,h,t);
    else if (e.includes('\uD83D\uDC51') || e.includes('\uD83C\uDFF0')) this._ytArtKing(ctx,w,h,t);
    else if (e.includes('\uD83E\uDD2B') || e.includes('\uD83D\uDD0D') || e.includes('\u2757')) this._ytArtSecret(ctx,w,h,t);
    else if (e.includes('\uD83E\uDDE0')) this._ytArtBrain(ctx,w,h,t);
    else if (e.includes('\uD83D\uDE24') || e.includes('\uD83D\uDE30') || e.includes('\uD83D\uDE02') || e.includes('\uD83D\uDE2D')) this._ytArtGeneric(ctx,w,h,t);
    else this._ytArtGeneric(ctx,w,h,t);
    ctx.restore();
    // Vignette overlay
    var vig = ctx.createRadialGradient(w/2,h/2,w*0.25,w/2,h/2,w*0.65);
    vig.addColorStop(0,'rgba(0,0,0,0)');
    vig.addColorStop(1,'rgba(0,0,0,0.5)');
    ctx.fillStyle = vig;
    ctx.fillRect(0,0,w,h);
  },

  // --- Scene Art Renderers (all use relative coords: w=420, h=220) ---
  _ytArtDesktop(ctx,w,h,t) {
    // Monitor frame
    ctx.fillStyle='#555'; ctx.fillRect(w*0.08,h*0.05,w*0.84,h*0.78);
    ctx.fillStyle='#3b6ea5'; ctx.fillRect(w*0.1,h*0.07,w*0.8,h*0.7);
    // Taskbar
    ctx.fillStyle='#1f3f6f'; ctx.fillRect(w*0.1,h*0.68,w*0.8,h*0.09);
    ctx.fillStyle='#3c8c3c'; ctx.fillRect(w*0.11,h*0.69,w*0.09,h*0.07);
    ctx.fillStyle='#fff';ctx.font='7px monospace';ctx.fillText('–ü—É—Å–∫',w*0.12,h*0.74);
    // Clock in taskbar
    var hr=Math.floor(t*10)%24,mn=Math.floor(t*100)%60;
    ctx.fillText((hr<10?'0':'')+hr+':'+(mn<10?'0':'')+mn,w*0.82,h*0.74);
    // Desktop icons (2 columns, animated)
    var ic=['\uD83D\uDCBB','\uD83D\uDCC1','\uD83D\uDDD1','\uD83C\uDF10','\uD83C\uDFA8','\u2699','\uD83D\uDCE7','\uD83C\uDFAE'];
    for(var i=0;i<8;i++){
      var ix=w*0.12+(i%2)*w*0.07, iy=h*0.1+Math.floor(i/2)*h*0.13+Math.sin(t*2+i)*3;
      ctx.fillStyle='hsl('+i*45+',60%,50%)'; ctx.fillRect(ix,iy,w*0.04,w*0.04);
      ctx.fillStyle='rgba(255,255,255,0.5)';ctx.font='8px serif';ctx.fillText(ic[i],ix+1,iy+12);
    }
    // Open window floating
    var wx=w*0.3+Math.sin(t*0.6)*w*0.05;
    ctx.fillStyle='#c0c0c0'; ctx.fillRect(wx,h*0.1,w*0.5,h*0.5);
    ctx.fillStyle='#00007b'; ctx.fillRect(wx,h*0.1,w*0.5,h*0.06);
    ctx.fillStyle='#fff';ctx.font='8px monospace';ctx.fillText('–ú–æ–π –ö–æ–º–ø—å—é—Ç–µ—Ä',wx+5,h*0.14);
    // X button
    ctx.fillStyle='#c00';ctx.fillRect(wx+w*0.5-14,h*0.1+2,12,h*0.06-4);ctx.fillStyle='#fff';ctx.fillText('X',wx+w*0.5-11,h*0.14);
    // Window content - file list
    ctx.fillStyle='#fff';ctx.fillRect(wx+3,h*0.17,w*0.5-6,h*0.42);
    for(var i=0;i<4;i++){
      for(var j=0;j<5;j++){
        var fx=wx+10+j*w*0.09,fy=h*0.2+i*h*0.1;
        ctx.fillStyle='hsl('+(i*5+j*70)+',50%,65%)';ctx.fillRect(fx,fy,14,14);
        ctx.fillStyle='#333';ctx.font='6px monospace';ctx.fillText('file',fx,fy+22);
      }
    }
    // Monitor stand
    ctx.fillStyle='#444';ctx.fillRect(w*0.43,h*0.83,w*0.14,h*0.06);ctx.fillRect(w*0.37,h*0.88,w*0.26,h*0.04);
  },
  _ytArtRoaches(ctx,w,h,t) {
    // Kitchen floor with tiles
    ctx.fillStyle='#2a1a0a';ctx.fillRect(0,h*0.55,w,h*0.45);
    for(var i=0;i<w;i+=w*0.12){for(var j=0;j<3;j++){ctx.strokeStyle='#3a2a1a';ctx.lineWidth=0.5;ctx.strokeRect(i,h*0.55+j*h*0.15,w*0.12,h*0.15);}}
    // Crumbs on floor
    for(var i=0;i<15;i++){ctx.fillStyle='#a89070';ctx.fillRect(w*0.1+i*w*0.06+Math.sin(i)*8,h*0.6+i*3%40,2+i%3,2);}
    // Cockroaches - big and detailed
    for(var i=0;i<12;i++){
      var rx=w*0.1+((t*40*(1+i*0.1)+i*w*0.15)%(w*0.9));
      var ry=h*0.3+Math.sin(t*1.5+i*0.7)*h*0.25;
      var dir=Math.cos(t*1.8+i*0.9)>0?1:-1;
      var sz=0.7+i*0.05;
      ctx.save(); ctx.translate(rx,ry); ctx.scale(dir*sz,sz);
      // Body
      ctx.fillStyle='#5a3000'; ctx.beginPath(); ctx.ellipse(0,0,12,7,0,0,Math.PI*2); ctx.fill();
      ctx.fillStyle='#3a1a00'; ctx.beginPath(); ctx.ellipse(-8,0,6,5,0,0,Math.PI*2); ctx.fill();
      // Shell lines
      ctx.strokeStyle='#4a2800';ctx.lineWidth=0.5;ctx.beginPath();ctx.moveTo(-3,-5);ctx.lineTo(8,0);ctx.moveTo(-3,5);ctx.lineTo(8,0);ctx.stroke();
      // Legs (animated)
      ctx.strokeStyle='#4a2000'; ctx.lineWidth=1.2;
      for(var l=-1;l<=1;l++){
        var la=Math.sin(t*14+i+l)*5;
        ctx.beginPath();ctx.moveTo(l*5,-6);ctx.lineTo(l*5+la,-14);ctx.stroke();
        ctx.beginPath();ctx.moveTo(l*5,6);ctx.lineTo(l*5+la,14);ctx.stroke();
      }
      // Antennae
      ctx.strokeStyle='#3a1500';ctx.lineWidth=0.8;
      ctx.beginPath();ctx.moveTo(-12,-3);ctx.quadraticCurveTo(-18+Math.sin(t*6+i)*3,-10,-22+Math.sin(t*4+i)*4,-12);ctx.stroke();
      ctx.beginPath();ctx.moveTo(-12,3);ctx.quadraticCurveTo(-18+Math.cos(t*6+i)*3,8,-22+Math.cos(t*4+i)*4,10);ctx.stroke();
      ctx.restore();
    }
    // Counter text
    ctx.fillStyle='rgba(255,50,50,0.7)';ctx.font='bold 14px monospace';ctx.fillText('x'+Math.min(99,Math.floor(t*8)),w*0.85,h*0.12);
  },
  _ytArtHammer(ctx,w,h,t) {
    // Desktop surface
    ctx.fillStyle='#3b6ea5';ctx.fillRect(w*0.05,h*0.05,w*0.9,h*0.7);
    // Scattered icons to smash
    var icons=[{x:w*0.15,y:h*0.2,c:'#ff0'},{x:w*0.55,y:h*0.15,c:'#0f0'},{x:w*0.35,y:h*0.4,c:'#f66'},{x:w*0.7,y:h*0.35,c:'#6cf'}];
    for(var i=0;i<icons.length;i++){
      var ic=icons[i],bob=Math.sin(t*3+i)*4;
      ctx.fillStyle=ic.c;ctx.fillRect(ic.x,ic.y+bob,18,18);
      // Legs running
      ctx.strokeStyle='#000';ctx.lineWidth=2;
      ctx.beginPath();ctx.moveTo(ic.x+5,ic.y+bob+18);ctx.lineTo(ic.x+5+Math.sin(t*8+i)*7,ic.y+bob+30);ctx.stroke();
      ctx.beginPath();ctx.moveTo(ic.x+13,ic.y+bob+18);ctx.lineTo(ic.x+13+Math.sin(t*8+i+2)*7,ic.y+bob+30);ctx.stroke();
    }
    // Giant hammer
    var hx=w*0.5,hy=h*0.4;
    ctx.save(); ctx.translate(hx,hy);
    var swing=Math.sin(t*4)*0.7;
    ctx.rotate(swing);
    // Handle
    ctx.fillStyle='#8B4513'; ctx.fillRect(-4,-h*0.35,8,h*0.35);
    // Head
    ctx.fillStyle='#888'; ctx.fillRect(-20,-h*0.35-10,40,18);
    ctx.fillStyle='#aaa'; ctx.fillRect(-18,-h*0.35-8,36,14);
    ctx.restore();
    // Impact effect when hammer is down
    if(Math.sin(t*4)<-0.5){
      var ix=hx+Math.sin(swing)*h*0.35,iy=hy-Math.cos(swing)*h*0.35;
      ctx.strokeStyle='#ff0';ctx.lineWidth=3;
      for(var i=0;i<10;i++){var a=i*Math.PI/5+t*2;var r=10+Math.random()*30;ctx.beginPath();ctx.moveTo(ix,iy);ctx.lineTo(ix+Math.cos(a)*r,iy+Math.sin(a)*r);ctx.stroke();}
      ctx.fillStyle='rgba(255,255,100,0.4)';ctx.beginPath();ctx.arc(ix,iy,35,0,Math.PI*2);ctx.fill();
      // Crack
      ctx.strokeStyle='#fff';ctx.lineWidth=2;ctx.beginPath();ctx.moveTo(ix-15,iy);ctx.lineTo(ix-5,iy+8);ctx.lineTo(ix+10,iy-5);ctx.lineTo(ix+20,iy+3);ctx.stroke();
    }
    // Score popup
    ctx.fillStyle='rgba(255,255,0,0.8)';ctx.font='bold 12px monospace';ctx.fillText('+$'+Math.floor(t*3%20),w*0.75,h*0.15+Math.sin(t*3)*10);
  },
  _ytArtMoney(ctx,w,h,t) {
    // City skyline background
    ctx.fillStyle='#1a2a4a';
    var bldgs=[[0.05,0.4],[0.15,0.55],[0.25,0.35],[0.38,0.65],[0.52,0.45],[0.62,0.55],[0.72,0.3],[0.82,0.5],[0.92,0.4]];
    for(var i=0;i<bldgs.length;i++){
      var bx=bldgs[i][0]*w,bh=bldgs[i][1]*h;
      ctx.fillRect(bx,h-bh-h*0.1,w*0.08,bh);
      // Windows
      ctx.fillStyle='rgba(255,255,150,0.5)';
      for(var r=0;r<Math.floor(bh/12);r++){for(var c=0;c<2;c++){if(Math.sin(i+r+c+t*0.5)>0)ctx.fillRect(bx+3+c*w*0.03,h-bh-h*0.08+r*12,w*0.02,6);}}
      ctx.fillStyle='#1a2a4a';
    }
    // Street
    ctx.fillStyle='#333';ctx.fillRect(0,h*0.88,w,h*0.12);ctx.fillStyle='#fc0';
    for(var i=0;i<8;i++)ctx.fillRect(w*0.05+i*w*0.12,h*0.93,w*0.06,3);
    // Bank building (small, centered)
    ctx.fillStyle='#eee';ctx.fillRect(w*0.35,h*0.35,w*0.3,h*0.53);
    ctx.fillStyle='#ddd';ctx.fillRect(w*0.33,h*0.32,w*0.34,h*0.06);
    // Columns
    for(var i=0;i<3;i++){ctx.fillStyle='#ccc';ctx.fillRect(w*0.38+i*w*0.1,h*0.38,w*0.02,h*0.4);}
    // Door
    ctx.fillStyle='#864';ctx.fillRect(w*0.45,h*0.65,w*0.1,h*0.23);
    // Bank sign
    ctx.fillStyle='#080';ctx.fillRect(w*0.38,h*0.35,w*0.24,h*0.04);
    ctx.fillStyle='#fff';ctx.font='bold 10px monospace';ctx.fillText('–ë–ê–ù–ö',w*0.46,h*0.38);
    // Flying money
    for(var i=0;i<16;i++){
      var mx=(i*w*0.07+t*50+Math.sin(i)*30)%w;
      var my=(t*35+i*30)%(h*1.2)-h*0.1;
      ctx.fillStyle='#4a4';ctx.fillRect(mx,my,16,8);ctx.fillStyle='#fff';ctx.font='7px monospace';ctx.fillText('$',mx+5,my+7);
    }
    // Coins
    for(var i=0;i<10;i++){
      var cx=w*0.1+i*w*0.08+Math.sin(t*2+i)*12;
      var cy=((t*45+i*35)%(h+20))-10;
      ctx.fillStyle='#fc0';ctx.beginPath();ctx.arc(cx,cy,5,0,Math.PI*2);ctx.fill();
      ctx.fillStyle='#b90';ctx.beginPath();ctx.arc(cx,cy,3,0,Math.PI*2);ctx.fill();
    }
    // Balance text
    ctx.fillStyle='rgba(0,200,0,0.8)';ctx.font='bold 16px monospace';ctx.fillText('$'+Math.floor(t*50%9999),w*0.05,h*0.12);
  },
  _ytArtFight(ctx,w,h,t) {
    // Arena
    ctx.fillStyle='#1a0a0a';
    var grd=ctx.createLinearGradient(0,h*0.7,0,h);grd.addColorStop(0,'#3a1a1a');grd.addColorStop(1,'#1a0a0a');
    ctx.fillStyle=grd;ctx.fillRect(0,h*0.7,w,h*0.3);
    // Grid lines on floor
    ctx.strokeStyle='rgba(255,100,100,0.1)';ctx.lineWidth=1;
    for(var i=0;i<10;i++){ctx.beginPath();ctx.moveTo(i*w*0.1,h*0.7);ctx.lineTo(w*0.5+(i-5)*w*0.15,h);ctx.stroke();}
    // HP bars
    ctx.fillStyle='#222';ctx.fillRect(w*0.03,h*0.05,w*0.35,h*0.05);ctx.fillRect(w*0.62,h*0.05,w*0.35,h*0.05);
    var hpL=0.7+Math.sin(t*1.5)*0.15,hpR=0.5+Math.sin(t*0.8)*0.2;
    ctx.fillStyle='#4f4';ctx.fillRect(w*0.03,h*0.05,w*0.35*hpL,h*0.05);
    ctx.fillStyle='#f44';ctx.fillRect(w*0.62,h*0.05,w*0.35*hpR,h*0.05);
    ctx.fillStyle='#fff';ctx.font='bold 8px monospace';ctx.fillText('–ò–ì–†–û–ö',w*0.1,h*0.09);ctx.fillText('–ë–û–°–°',w*0.75,h*0.09);
    // Left fighter (player) - pixel art style
    var lx=w*0.25+Math.sin(t*3)*w*0.03,ly=h*0.35;
    ctx.fillStyle='#4488ff';ctx.fillRect(lx,ly,w*0.06,h*0.25);
    ctx.fillStyle='#88bbff';ctx.fillRect(lx+w*0.005,ly-h*0.1,w*0.05,h*0.11);
    ctx.fillStyle='#fff';ctx.fillRect(lx+w*0.025,ly-h*0.06,4,3);ctx.fillRect(lx+w*0.035,ly-h*0.06,4,3);
    // Sword
    ctx.save();ctx.translate(lx+w*0.06,ly+h*0.05);ctx.rotate(Math.sin(t*5)*0.8);
    ctx.fillStyle='#ddd';ctx.fillRect(0,-2,w*0.08,4);ctx.fillStyle='#fc0';ctx.fillRect(-4,-4,8,8);ctx.restore();
    // Legs
    ctx.fillStyle='#336';ctx.fillRect(lx+w*0.008,ly+h*0.25,w*0.02,h*0.12);ctx.fillRect(lx+w*0.032,ly+h*0.25,w*0.02,h*0.12);
    // Right fighter (boss) - bigger
    var rx=w*0.65+Math.sin(t*2.5)*w*0.03,ry=h*0.25;
    ctx.fillStyle='#cc3333';ctx.fillRect(rx,ry,w*0.1,h*0.35);
    ctx.fillStyle='#ff5555';ctx.fillRect(rx+w*0.01,ry-h*0.13,w*0.08,h*0.14);
    ctx.fillStyle='#ff0';ctx.fillRect(rx+w*0.025,ry-h*0.07,5,5);ctx.fillRect(rx+w*0.055,ry-h*0.07,5,5);
    // Boss horns
    ctx.fillStyle='#880';ctx.beginPath();ctx.moveTo(rx+w*0.01,ry-h*0.12);ctx.lineTo(rx-w*0.02,ry-h*0.2);ctx.lineTo(rx+w*0.03,ry-h*0.12);ctx.fill();
    ctx.beginPath();ctx.moveTo(rx+w*0.07,ry-h*0.12);ctx.lineTo(rx+w*0.12,ry-h*0.2);ctx.lineTo(rx+w*0.06,ry-h*0.12);ctx.fill();
    // VS flash
    if(Math.floor(t*2)%2===0){ctx.fillStyle='rgba(255,255,255,0.15)';ctx.font='bold 22px monospace';ctx.fillText('VS',w*0.44,h*0.45);}
    // Hit sparks
    if(Math.sin(t*5)>0.7){
      var sx=rx-w*0.02,sy=ry+h*0.1;
      for(var i=0;i<6;i++){ctx.fillStyle='#ff0';ctx.beginPath();ctx.arc(sx+Math.cos(t*8+i)*20,sy+Math.sin(t*8+i)*15,3,0,Math.PI*2);ctx.fill();}
    }
  },
  _ytArtBSOD(ctx,w,h,t) {
    // Monitor frame
    ctx.fillStyle='#444';ctx.fillRect(w*0.05,h*0.03,w*0.9,h*0.84);
    // Classic BSOD
    ctx.fillStyle='#0000aa'; ctx.fillRect(w*0.07,h*0.05,w*0.86,h*0.78);
    // Title bar
    ctx.fillStyle='#aaa';ctx.fillRect(w*0.25,h*0.08,w*0.5,h*0.06);ctx.fillStyle='#0000aa';ctx.font='bold 9px monospace';ctx.fillText('Windows',w*0.43,h*0.12);
    // Error text
    ctx.fillStyle='#ddd'; ctx.font='8px monospace';
    var lines=['–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞.','','Windows –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É —á—Ç–æ–±—ã','–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –ü–ö.','','–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:','  STOP: 0x0000'+Math.floor(t*3%256).toString(16).toUpperCase(),'  IRQL_NOT_LESS_OR_EQUAL','','–ï—Å–ª–∏ —ç—Ç–∞ –æ—à–∏–±–∫–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤–Ω–æ–≤—å,','–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–æ–≤–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ.','','–ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è','–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏...'];
    for(var i=0;i<lines.length;i++) ctx.fillText(lines[i],w*0.1,h*0.2+i*h*0.045);
    // Blinking cursor
    if(Math.sin(t*3)>0){ctx.fillStyle='#ddd';ctx.fillRect(w*0.1,h*0.2+14*h*0.045,7,10);}
    // Glitch lines
    if(Math.random()<0.08){var gy=h*0.05+Math.random()*h*0.78;ctx.fillStyle='rgba(255,255,255,0.15)';ctx.fillRect(w*0.07,gy,w*0.86,2);}
    // Sad face
    ctx.font='28px serif';ctx.fillText(':(',w*0.75,h*0.3);
    // Monitor stand
    ctx.fillStyle='#333';ctx.fillRect(w*0.42,h*0.87,w*0.16,h*0.04);ctx.fillRect(w*0.36,h*0.9,w*0.28,h*0.04);
  },
  _ytArtShadow(ctx,w,h,t) {
    // Dark atmosphere
    ctx.fillStyle='rgba(20,0,0,0.6)';ctx.fillRect(0,0,w,h);
    // Desktop in background (dim)
    ctx.fillStyle='rgba(30,50,80,0.3)';ctx.fillRect(w*0.05,h*0.05,w*0.9,h*0.8);
    for(var i=0;i<6;i++){ctx.fillStyle='rgba(100,100,100,0.15)';ctx.fillRect(w*0.08+i*w*0.13,h*0.1+(i%3)*h*0.2,16,16);}
    // Shadow figure - tall and dark
    var sx=w*0.5,sy=h*0.3;
    ctx.fillStyle='#060606';
    // Body (trapezoidal)
    ctx.beginPath();ctx.moveTo(sx-w*0.04,sy);ctx.lineTo(sx+w*0.04,sy);ctx.lineTo(sx+w*0.06,sy+h*0.35);ctx.lineTo(sx-w*0.06,sy+h*0.35);ctx.fill();
    // Head
    ctx.beginPath();ctx.arc(sx,sy-h*0.06,h*0.07,0,Math.PI*2);ctx.fill();
    // Arms stretching toward icons
    var armL=w*0.08+Math.min(t*15,w*0.35);var armR=w*0.08+Math.min(t*12,w*0.3);
    ctx.strokeStyle='#080808';ctx.lineWidth=h*0.035;ctx.lineCap='round';
    ctx.beginPath();ctx.moveTo(sx-w*0.04,sy+h*0.08);ctx.quadraticCurveTo(sx-armL*0.6,sy+Math.sin(t*2)*h*0.08,sx-armL,sy+h*0.02+Math.sin(t*1.5)*h*0.1);ctx.stroke();
    ctx.beginPath();ctx.moveTo(sx+w*0.04,sy+h*0.08);ctx.quadraticCurveTo(sx+armR*0.6,sy+Math.sin(t*2+1)*h*0.08,sx+armR,sy+h*0.02+Math.sin(t*1.5+1)*h*0.1);ctx.stroke();
    // Claws
    for(var s=-1;s<=1;s+=2){
      var cx=sx+s*(s<0?armL:armR),cy=sy+h*0.02+Math.sin(t*1.5+(s<0?0:1))*h*0.1;
      ctx.strokeStyle='#080808';ctx.lineWidth=3;
      for(var f=0;f<3;f++){var fa=s*0.3+f*s*0.35;ctx.beginPath();ctx.moveTo(cx,cy);ctx.lineTo(cx+Math.cos(fa)*15*s,cy+Math.sin(fa)*15-8);ctx.stroke();}
    }
    // Legs
    ctx.strokeStyle='#060606';ctx.lineWidth=h*0.04;
    var ls=h*0.05+Math.min(t*4,w*0.08);
    ctx.beginPath();ctx.moveTo(sx-w*0.02,sy+h*0.35);ctx.lineTo(sx-ls,h*0.92);ctx.stroke();
    ctx.beginPath();ctx.moveTo(sx+w*0.02,sy+h*0.35);ctx.lineTo(sx+ls,h*0.92);ctx.stroke();
    // Red aura
    var glow=ctx.createRadialGradient(sx,sy+h*0.1,0,sx,sy+h*0.1,w*0.25);
    glow.addColorStop(0,'rgba(150,0,0,'+(0.12+Math.sin(t*2)*0.08)+')');glow.addColorStop(1,'rgba(0,0,0,0)');
    ctx.fillStyle=glow;ctx.fillRect(0,0,w,h);
    // Text
    ctx.fillStyle='rgba(200,0,0,'+(0.4+Math.sin(t*3)*0.3)+')';ctx.font='10px monospace';ctx.fillText('Did you hear a whistle?',w*0.25,h*0.95);
  },
  _ytArtVirus(ctx,w,h,t) {
    // Desktop background
    ctx.fillStyle='#2a3a5a';ctx.fillRect(w*0.03,h*0.03,w*0.94,h*0.85);
    // Encrypted file grid (full screen)
    for(var r=0;r<5;r++){for(var c=0;c<7;c++){
      var fx=w*0.06+c*w*0.13,fy=h*0.06+r*h*0.14;
      var encrypted=(r+c+Math.floor(t*2))%3<2;
      ctx.fillStyle=encrypted?'#411':'#2a3a5a';ctx.fillRect(fx,fy,w*0.1,h*0.1);
      if(encrypted){ctx.strokeStyle='#f00';ctx.lineWidth=1;ctx.strokeRect(fx,fy,w*0.1,h*0.1);
        ctx.fillStyle='#f44';ctx.font='12px serif';ctx.fillText('\uD83D\uDD12',fx+w*0.03,fy+h*0.08);}
      else{ctx.fillStyle='hsl('+c*50+',50%,60%)';ctx.fillRect(fx+w*0.02,fy+h*0.01,w*0.06,h*0.06);}
    }}
    // Green matrix text falling
    ctx.fillStyle='#0f0';ctx.font='8px monospace';
    for(var i=0;i<12;i++){
      var s='';for(var j=0;j<4;j++)s+=String.fromCharCode(33+Math.floor(Math.random()*90));
      ctx.fillText(s,w*0.05+i*w*0.08,(t*60+i*40)%(h*0.8)+h*0.05);
    }
    // Warning banner
    var bw=0.6+Math.sin(t*3)*0.3;
    ctx.fillStyle='rgba(180,0,0,'+bw+')';ctx.fillRect(w*0.1,h*0.4,w*0.8,h*0.12);
    ctx.fillStyle='#fff';ctx.font='bold 11px monospace';ctx.fillText('\u26A0 –§–ê–ô–õ–´ –ó–ê–®–ò–§–†–û–í–ê–ù–´! –ó–ê–ü–õ–ê–¢–ò–¢–ï $999 \u26A0',w*0.13,h*0.48);
    // Timer
    ctx.fillStyle='#f00';ctx.font='bold 14px monospace';
    var sec=Math.max(0,300-Math.floor(t*10));
    ctx.fillText(Math.floor(sec/60)+':'+(sec%60<10?'0':'')+sec%60,w*0.45,h*0.38);
  },
  _ytArtEye(ctx,w,h,t) {
    // Desktop background
    ctx.fillStyle='rgba(30,40,60,0.4)';ctx.fillRect(0,0,w,h);
    // Giant eye in center
    var ex=w*0.5,ey=h*0.45;
    // Shadow underneath
    ctx.fillStyle='rgba(0,0,0,0.3)';ctx.beginPath();ctx.ellipse(ex,ey+h*0.04,w*0.2,h*0.17,0,0,Math.PI*2);ctx.fill();
    // Sclera
    ctx.fillStyle='#f8f0e0';ctx.beginPath();ctx.ellipse(ex,ey,w*0.18,h*0.2,0,0,Math.PI*2);ctx.fill();
    // Veins
    ctx.strokeStyle='rgba(200,50,50,0.35)';ctx.lineWidth=1;
    for(var i=0;i<10;i++){
      var va=i*Math.PI/5;ctx.beginPath();
      ctx.moveTo(ex+Math.cos(va)*w*0.16,ey+Math.sin(va)*h*0.18);
      ctx.quadraticCurveTo(ex+Math.cos(va)*w*0.08,ey+Math.sin(va)*h*0.09+Math.sin(t+i)*5,ex,ey);ctx.stroke();
    }
    // Iris
    var ix=ex+Math.sin(t*1.3)*w*0.04,iy=ey+Math.cos(t*1.1)*h*0.04;
    var irisG=ctx.createRadialGradient(ix,iy,0,ix,iy,h*0.12);
    irisG.addColorStop(0,'#200');irisG.addColorStop(0.5,'#800');irisG.addColorStop(1,'#420');
    ctx.fillStyle=irisG;ctx.beginPath();ctx.arc(ix,iy,h*0.12,0,Math.PI*2);ctx.fill();
    // Pupil
    var ps=h*0.05+Math.sin(t*3)*h*0.015;
    ctx.fillStyle='#000';ctx.beginPath();ctx.arc(ix,iy,ps,0,Math.PI*2);ctx.fill();
    // Highlight
    ctx.fillStyle='rgba(255,255,255,0.85)';ctx.beginPath();ctx.arc(ix-w*0.02,iy-h*0.03,h*0.025,0,Math.PI*2);ctx.fill();
    // Eyelid blink
    var blink=Math.sin(t*0.4);
    if(blink>0.93){var amt=(blink-0.93)*14;ctx.fillStyle=this._ytCurrentBG||'#111';
      ctx.beginPath();ctx.ellipse(ex,ey-h*0.2*amt,w*0.2,h*0.2,0,0,Math.PI);ctx.fill();
      ctx.beginPath();ctx.ellipse(ex,ey+h*0.2*amt,w*0.2,h*0.2,0,Math.PI,Math.PI*2);ctx.fill();
    }
    // Subtle text
    ctx.fillStyle='rgba(200,200,200,0.2)';ctx.font='9px monospace';ctx.fillText('–û–Ω–æ —Å–ª–µ–¥–∏—Ç –∑–∞ —Ç–æ–±–æ–π...',w*0.3,h*0.9);
  },
  _ytArtClippy(ctx,w,h,t) {
    // Office background
    ctx.fillStyle='#f0f0f0';ctx.fillRect(w*0.1,h*0.05,w*0.8,h*0.8);
    ctx.fillStyle='#ddd';ctx.fillRect(w*0.1,h*0.05,w*0.8,h*0.04);
    // Document lines
    ctx.fillStyle='#999';for(var i=0;i<8;i++){ctx.fillRect(w*0.15,h*0.15+i*h*0.08,w*0.3+Math.random()*w*0.2,2);}
    // Clippy (right side, big)
    var cx=w*0.7,cy=h*0.5;
    ctx.strokeStyle='#888';ctx.lineWidth=6;ctx.lineCap='round';
    ctx.beginPath();ctx.moveTo(cx-12,cy+h*0.2);ctx.lineTo(cx-12,cy-h*0.1);
    ctx.arc(cx,cy-h*0.1,12,Math.PI,0);ctx.lineTo(cx+12,cy+h*0.15);
    ctx.arc(cx+5,cy+h*0.15,7,0,Math.PI);ctx.lineTo(cx-2,cy-h*0.04);ctx.stroke();
    // Eyes
    var blink=Math.sin(t*0.7)>0.93;
    ctx.fillStyle='#fff';ctx.beginPath();ctx.arc(cx-7,cy-h*0.16,7,0,Math.PI*2);ctx.fill();
    ctx.beginPath();ctx.arc(cx+7,cy-h*0.16,7,0,Math.PI*2);ctx.fill();
    if(!blink){ctx.fillStyle='#000';ctx.beginPath();ctx.arc(cx-7+Math.sin(t)*2,cy-h*0.16,3.5,0,Math.PI*2);ctx.fill();
      ctx.beginPath();ctx.arc(cx+7+Math.sin(t)*2,cy-h*0.16,3.5,0,Math.PI*2);ctx.fill();}
    // Eyebrows
    ctx.strokeStyle='#555';ctx.lineWidth=2;var an=Math.sin(t*2)>0?5:0;
    ctx.beginPath();ctx.moveTo(cx-14,cy-h*0.22-an);ctx.lineTo(cx-2,cy-h*0.2);ctx.stroke();
    ctx.beginPath();ctx.moveTo(cx+14,cy-h*0.22-an);ctx.lineTo(cx+2,cy-h*0.2);ctx.stroke();
    // Speech bubble
    ctx.fillStyle='#fff';ctx.strokeStyle='#333';ctx.lineWidth=1.5;
    ctx.beginPath();ctx.moveTo(cx-w*0.08,cy-h*0.35);ctx.lineTo(cx-w*0.03,cy-h*0.23);ctx.lineTo(cx-w*0.12,cy-h*0.28);ctx.fill();
    ctx.beginPath();ctx.ellipse(cx-w*0.18,cy-h*0.38,w*0.14,h*0.08,0,0,Math.PI*2);ctx.fill();ctx.stroke();
    ctx.fillStyle='#333';ctx.font='9px monospace';
    var msgs=['–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?','–£–¥–∞–ª–∏—Ç—å –≤—Å—ë?','–Ø –≤–µ—Ä–Ω—É–ª—Å—è!','–í—ã —É–≤–µ—Ä–µ–Ω—ã?'];
    ctx.fillText(msgs[Math.floor(t*0.5)%msgs.length],cx-w*0.26,cy-h*0.36);
  },
  _ytArtTrophy(ctx,w,h,t) {
    // Stadium background
    ctx.fillStyle='#1a1a3a';ctx.fillRect(0,0,w,h*0.4);
    // Audience (small dots)
    for(var i=0;i<40;i++){ctx.fillStyle='hsl('+i*20+',40%,50%)';ctx.fillRect(w*0.05+i*w*0.023,h*0.1+Math.sin(i)*h*0.08,4,6);}
    for(var i=0;i<40;i++){ctx.fillStyle='hsl('+i*15+30+',40%,45%)';ctx.fillRect(w*0.05+i*w*0.023,h*0.02+Math.sin(i+2)*h*0.06,4,6);}
    // Spotlights
    ctx.fillStyle='rgba(255,255,200,0.08)';
    ctx.beginPath();ctx.moveTo(w*0.2,0);ctx.lineTo(w*0.35,h*0.6);ctx.lineTo(w*0.55,h*0.6);ctx.lineTo(w*0.4,0);ctx.fill();
    ctx.beginPath();ctx.moveTo(w*0.6,0);ctx.lineTo(w*0.45,h*0.6);ctx.lineTo(w*0.65,h*0.6);ctx.lineTo(w*0.8,0);ctx.fill();
    // Podium
    ctx.fillStyle='#c90';ctx.fillRect(w*0.35,h*0.55,w*0.3,h*0.45);
    ctx.fillStyle='#a70';ctx.fillRect(w*0.1,h*0.68,w*0.25,h*0.32);
    ctx.fillStyle='#860';ctx.fillRect(w*0.65,h*0.75,w*0.25,h*0.25);
    ctx.fillStyle='#fff';ctx.font='bold 16px monospace';ctx.fillText('1',w*0.48,h*0.72);
    ctx.font='bold 12px monospace';ctx.fillText('2',w*0.2,h*0.82);ctx.fillText('3',w*0.76,h*0.88);
    // Trophy
    var ty=h*0.5+Math.sin(t*3)*5;
    ctx.fillStyle='#fc0';
    ctx.beginPath();ctx.moveTo(w*0.42,ty);ctx.lineTo(w*0.58,ty);ctx.lineTo(w*0.56,ty-h*0.12);ctx.quadraticCurveTo(w*0.5,ty-h*0.2,w*0.44,ty-h*0.12);ctx.fill();
    ctx.fillRect(w*0.48,ty,w*0.04,h*0.04);ctx.fillRect(w*0.44,ty+h*0.04,w*0.12,h*0.02);
    // Confetti
    for(var i=0;i<30;i++){
      var fx=(i*31+t*70)%w,fy=(i*23+t*45)%(h+20)-10;
      ctx.fillStyle='hsl('+(i*40+t*50)%360+',90%,60%)';
      ctx.save();ctx.translate(fx,fy);ctx.rotate(t*3+i);ctx.fillRect(-4,-2,8,4);ctx.restore();
    }
  },
  _ytArtChaos(ctx,w,h,t) {
    // Desktop background (deteriorating)
    var chaos=Math.min(100,(t*10)%120);
    ctx.fillStyle='#3b6ea5';ctx.fillRect(w*0.03,h*0.03,w*0.94,h*0.78);
    // Chaos meter (top)
    ctx.fillStyle='#111';ctx.fillRect(w*0.15,h*0.05,w*0.7,h*0.06);
    var cc=chaos>70?'#f00':chaos>40?'#fc0':'#4f4';
    ctx.fillStyle=cc;ctx.fillRect(w*0.155,h*0.055,w*0.69*chaos/100,h*0.05);
    ctx.fillStyle='#fff';ctx.font='bold 9px monospace';ctx.fillText('–•–ê–û–°: '+Math.floor(chaos)+'%',w*0.4,h*0.09);
    // Running icons
    for(var i=0;i<8;i++){
      var ix=w*0.05+((t*60*(1+i*0.15)+i*50)%(w*0.85));
      var iy=h*0.15+Math.sin(t*2+i)*h*0.15+(i%3)*h*0.18;
      ctx.fillStyle='hsl('+i*45+',70%,55%)';ctx.fillRect(ix,iy,14,14);
      // Legs
      ctx.strokeStyle='#000';ctx.lineWidth=1.5;
      ctx.beginPath();ctx.moveTo(ix+4,iy+14);ctx.lineTo(ix+4+Math.sin(t*10+i)*6,iy+24);ctx.stroke();
      ctx.beginPath();ctx.moveTo(ix+10,iy+14);ctx.lineTo(ix+10+Math.sin(t*10+i+2)*6,iy+24);ctx.stroke();
    }
    // Cockroaches
    for(var i=0;i<Math.floor(chaos/15);i++){
      var rx=Math.random()*w,ry=h*0.3+Math.random()*h*0.5;
      ctx.fillStyle='#4a2800';ctx.beginPath();ctx.ellipse(rx,ry,5,3,Math.random()*3,0,Math.PI*2);ctx.fill();
    }
    // Glitch lines
    for(var i=0;i<Math.floor(chaos/12);i++){
      var gy=h*0.1+Math.random()*h*0.7;
      ctx.fillStyle='rgba('+(Math.random()>0.5?'255,0,0':'0,255,0')+','+(0.1+chaos*0.003)+')';
      ctx.fillRect(w*0.03+Math.random()*w*0.2,gy,w*0.2+Math.random()*w*0.5,2);
    }
    // Cracks
    if(chaos>50){ctx.strokeStyle='rgba(0,0,0,0.3)';ctx.lineWidth=2;
      ctx.beginPath();ctx.moveTo(w*0.3,h*0.2);ctx.lineTo(w*0.4,h*0.35);ctx.lineTo(w*0.35,h*0.5);ctx.stroke();}
    // Taskbar
    ctx.fillStyle='#1f3f6f';ctx.fillRect(w*0.03,h*0.78,w*0.94,h*0.07);
    // Warning
    if(chaos>80){ctx.fillStyle='rgba(255,0,0,'+(0.3+Math.sin(t*6)*0.2)+')';ctx.fillRect(0,0,w,h);}
  },
  _ytArtFlashlight(ctx,w,h,t) {
    // Total darkness
    ctx.fillStyle='#030303';ctx.fillRect(0,0,w,h);
    // Flashlight beam (circular)
    var fx=w*0.5+Math.sin(t*1.0)*w*0.3,fy=h*0.5+Math.cos(t*0.7)*h*0.25;
    var beam=ctx.createRadialGradient(fx,fy,0,fx,fy,w*0.18);
    beam.addColorStop(0,'rgba(255,255,200,0.7)');beam.addColorStop(0.5,'rgba(255,255,150,0.3)');beam.addColorStop(1,'rgba(0,0,0,0)');
    ctx.fillStyle=beam;ctx.fillRect(0,0,w,h);
    // Desktop barely visible in light
    ctx.fillStyle='rgba(50,80,130,'+(0.3)+')';ctx.fillRect(fx-w*0.12,fy-h*0.12,w*0.24,h*0.24);
    // Icon in the light
    ctx.fillStyle='rgba(200,200,100,0.5)';ctx.fillRect(fx-8,fy-8,16,16);
    // Cockroach hiding near edge of light
    var rx=fx+w*0.12+Math.sin(t*0.5)*20,ry=fy+h*0.08+Math.cos(t*0.7)*15;
    var distR=Math.sqrt(Math.pow(rx-fx,2)+Math.pow(ry-fy,2));
    if(distR<w*0.16){ctx.fillStyle='rgba(80,40,0,'+(1-distR/(w*0.16))*0.7+')';ctx.beginPath();ctx.ellipse(rx,ry,8,5,t*2,0,Math.PI*2);ctx.fill();}
    // Shadow figure lurking
    var sx=w*0.8+Math.sin(t*0.3)*w*0.05,sy=h*0.3;
    var distS=Math.sqrt(Math.pow(sx-fx,2)+Math.pow(sy-fy,2));
    if(distS<w*0.25){var a=(1-distS/(w*0.25))*0.4;ctx.fillStyle='rgba(10,10,10,'+a+')';
      ctx.fillRect(sx-8,sy-20,16,50);ctx.beginPath();ctx.arc(sx,sy-25,8,0,Math.PI*2);ctx.fill();}
    // Text
    ctx.fillStyle='rgba(200,200,150,0.4)';ctx.font='8px monospace';ctx.fillText('–û—Å—Ç–∞–ª–æ—Å—å: '+Math.max(0,30-Math.floor(t))+'—Å',w*0.05,h*0.95);
  },
  _ytArtSpider(ctx,w,h,t) {
    // Room corner
    ctx.fillStyle='#2a2a2a';ctx.fillRect(0,0,w*0.02,h);ctx.fillRect(0,0,w,h*0.02);
    // Web (detailed)
    var cx=w*0.45,cy=h*0.4;
    ctx.strokeStyle='rgba(220,220,220,0.25)';ctx.lineWidth=1;
    for(var i=0;i<12;i++){var a=i*Math.PI/6;ctx.beginPath();ctx.moveTo(cx,cy);ctx.lineTo(cx+Math.cos(a)*w*0.4,cy+Math.sin(a)*h*0.4);ctx.stroke();}
    for(var r=1;r<7;r++){ctx.beginPath();for(var i=0;i<=12;i++){var a=i*Math.PI/6;var px=cx+Math.cos(a)*r*w*0.065,py=cy+Math.sin(a)*r*h*0.06;if(i===0)ctx.moveTo(px,py);else ctx.lineTo(px,py);}ctx.stroke();}
    // Spider (animated position)
    var sx=cx+Math.sin(t*0.6)*w*0.15,sy=cy+Math.cos(t*0.4)*h*0.12;
    ctx.fillStyle='#111';ctx.beginPath();ctx.ellipse(sx,sy,10,7,0,0,Math.PI*2);ctx.fill();
    ctx.beginPath();ctx.arc(sx-7,sy-2,5,0,Math.PI*2);ctx.fill();
    // Legs (animated)
    ctx.strokeStyle='#222';ctx.lineWidth=1.5;
    for(var i=0;i<4;i++){var la=0.3+i*0.25;
      ctx.beginPath();ctx.moveTo(sx-5,sy);ctx.quadraticCurveTo(sx-18-i*3,sy-la*25+Math.sin(t*6+i)*5,sx-25-i*5,sy+12);ctx.stroke();
      ctx.beginPath();ctx.moveTo(sx+5,sy);ctx.quadraticCurveTo(sx+18+i*3,sy-la*25+Math.sin(t*6+i+2)*5,sx+25+i*5,sy+12);ctx.stroke();
    }
    // Eyes (red)
    ctx.fillStyle='#f00';ctx.beginPath();ctx.arc(sx-8,sy-5,2,0,Math.PI*2);ctx.fill();
    ctx.beginPath();ctx.arc(sx-5,sy-5,2,0,Math.PI*2);ctx.fill();
    // Trapped fly
    var fly=Math.sin(t*8)>0;
    if(fly){ctx.fillStyle='#555';ctx.beginPath();ctx.ellipse(cx+w*0.1,cy-h*0.05,3,2,0,0,Math.PI*2);ctx.fill();}
    // Dangling thread
    ctx.strokeStyle='rgba(220,220,220,0.2)';ctx.beginPath();ctx.moveTo(sx,sy+7);ctx.lineTo(sx+Math.sin(t)*5,sy+h*0.2);ctx.stroke();
  },
  _ytArtDino(ctx,w,h,t) {
    // Sky
    ctx.fillStyle='#87CEEB';ctx.fillRect(0,0,w,h*0.6);
    // Clouds
    for(var i=0;i<4;i++){ctx.fillStyle='rgba(255,255,255,0.7)';
      var clx=((i*w*0.3+t*20)%(w+60))-30;
      ctx.beginPath();ctx.arc(clx,h*0.15+i*h*0.08,15,0,Math.PI*2);ctx.arc(clx+15,h*0.12+i*h*0.08,20,0,Math.PI*2);ctx.arc(clx+30,h*0.15+i*h*0.08,15,0,Math.PI*2);ctx.fill();
    }
    // Ground (scrolling)
    ctx.fillStyle='#555';ctx.fillRect(0,h*0.75,w,h*0.25);
    ctx.fillStyle='#666';ctx.fillRect(0,h*0.73,w,h*0.03);
    // Ground details
    for(var i=0;i<20;i++){var gx=((i*w*0.06+t*40)%(w+20))-10;ctx.fillStyle='#4a4a4a';ctx.fillRect(gx,h*0.76+Math.random()*h*0.1,3,2);}
    // Dino (big pixel art)
    var dx=w*0.2,dy=h*0.4+Math.abs(Math.sin(t*6))*h*0.1;
    var s=2.5; // scale
    ctx.fillStyle='#666';
    ctx.fillRect(dx,dy,8*s,10*s);ctx.fillRect(dx+6*s,dy-6*s,7*s,7*s);ctx.fillRect(dx+10*s,dy-5*s,4*s,1.5*s);
    ctx.fillRect(dx-2*s,dy+8*s,4*s,6*s);ctx.fillRect(dx+5*s,dy+8*s,4*s,6*s);
    ctx.fillRect(dx+6*s,dy+2*s,5*s,2*s);
    ctx.fillStyle='#fff';ctx.fillRect(dx+9*s,dy-5*s,2*s,2*s);
    ctx.fillStyle='#000';ctx.fillRect(dx+10*s,dy-4.5*s,1.5*s,1.5*s);
    // Tail
    ctx.fillStyle='#666';ctx.fillRect(dx-5*s,dy+1*s,5*s,3*s);ctx.fillRect(dx-8*s,dy+2*s,4*s,2*s);
    // Fire breath
    if(t>2){for(var i=0;i<7;i++){
      var ffx=dx+14*s+i*w*0.04+Math.sin(t*4+i)*5;
      ctx.fillStyle='hsl('+(i*8)+',100%,50%)';ctx.beginPath();ctx.arc(ffx,dy-3*s+Math.sin(t*6+i)*5,8-i,0,Math.PI*2);ctx.fill();
    }}
    // Cactus obstacles (scrolling)
    for(var i=0;i<3;i++){
      var ccx=((w*0.55+i*w*0.2+t*30)%(w*0.6))+w*0.35;
      ctx.fillStyle='#5a5';ctx.fillRect(ccx,h*0.55,w*0.025,h*0.18);ctx.fillRect(ccx-w*0.02,h*0.58,w*0.02,h*0.02);ctx.fillRect(ccx+w*0.025,h*0.62,w*0.02,h*0.02);
    }
    // Score
    ctx.fillStyle='#333';ctx.font='bold 12px monospace';ctx.fillText('HI '+Math.floor(t*100),w*0.7,h*0.1);
  },
  _ytArtGame(ctx,w,h,t) {
    // Minesweeper window
    ctx.fillStyle='#c0c0c0';ctx.fillRect(w*0.1,h*0.05,w*0.8,h*0.85);
    ctx.fillStyle='#00007b';ctx.fillRect(w*0.1,h*0.05,w*0.8,h*0.06);
    ctx.fillStyle='#fff';ctx.font='8px monospace';ctx.fillText('\uD83D\uDCA3 –°–∞–ø—ë—Ä',w*0.14,h*0.09);
    // Counter and smiley
    ctx.fillStyle='#000';ctx.fillRect(w*0.15,h*0.13,w*0.12,h*0.06);ctx.fillStyle='#f00';ctx.font='bold 12px monospace';ctx.fillText('0'+Math.floor(t*2%10)+''+Math.floor(t*5%10),w*0.16,h*0.18);
    ctx.font='16px serif';ctx.fillText(Math.sin(t*0.3)>0.9?'\uD83D\uDE35':'\uD83D\uDE03',w*0.46,h*0.18);
    ctx.fillStyle='#000';ctx.fillRect(w*0.65,h*0.13,w*0.12,h*0.06);ctx.fillStyle='#f00';ctx.font='bold 12px monospace';ctx.fillText(Math.floor(t)%60<10?'00'+Math.floor(t)%60:'0'+Math.floor(t)%60,w*0.66,h*0.18);
    // Grid
    var gx=w*0.12,gy=h*0.22,cw=w*0.076,ch=h*0.072;
    for(var r=0;r<8;r++){for(var c=0;c<9;c++){
      var fx=gx+c*cw,fy=gy+r*ch;
      var rev=(r*9+c+Math.floor(t*3))%5<3;
      ctx.fillStyle=rev?'#bbb':'#ccc';ctx.fillRect(fx+0.5,fy+0.5,cw-1,ch-1);
      if(!rev){ctx.fillStyle='#fff';ctx.fillRect(fx,fy,cw-1,1);ctx.fillRect(fx,fy,1,ch-1);ctx.fillStyle='#888';ctx.fillRect(fx+cw-2,fy,1,ch);ctx.fillRect(fx,fy+ch-2,cw,1);}
      else{
        var n=(r+c+Math.floor(t))%5;
        if(n===0&&(r+c)%3===0){ctx.fillStyle='#f00';ctx.font='bold 9px monospace';ctx.fillText('\uD83D\uDCA3',fx+2,fy+ch-3);}
        else if(n>0&&n<4){ctx.fillStyle=['','#00f','#080','#f00'][n];ctx.font='bold 10px monospace';ctx.fillText(''+n,fx+cw*0.3,fy+ch-3);}
      }
    }}
  },
  _ytArtKing(ctx,w,h,t) {
    // Throne room
    ctx.fillStyle='#2a1a0a';ctx.fillRect(0,h*0.6,w,h*0.4);
    // Pillars
    ctx.fillStyle='#5a4a3a';ctx.fillRect(w*0.08,h*0.1,w*0.05,h*0.55);ctx.fillRect(w*0.87,h*0.1,w*0.05,h*0.55);
    // Banners
    ctx.fillStyle='#800';ctx.fillRect(w*0.16,h*0.08,w*0.08,h*0.35);ctx.fillRect(w*0.76,h*0.08,w*0.08,h*0.35);
    ctx.fillStyle='#fc0';ctx.font='10px serif';ctx.fillText('\u265A',w*0.17,h*0.25);ctx.fillText('\u265A',w*0.77,h*0.25);
    // Throne
    ctx.fillStyle='#8B0000';ctx.fillRect(w*0.38,h*0.3,w*0.24,h*0.35);
    ctx.fillStyle='#600';ctx.fillRect(w*0.36,h*0.2,w*0.28,h*0.12);
    ctx.fillStyle='#a01010';ctx.fillRect(w*0.36,h*0.28,w*0.28,h*0.05);
    // Crown above throne
    ctx.fillStyle='#fc0';
    var crx=w*0.5,cry=h*0.12;
    ctx.beginPath();ctx.moveTo(crx-w*0.06,cry+h*0.05);ctx.lineTo(crx-w*0.04,cry);ctx.lineTo(crx-w*0.01,cry+h*0.03);ctx.lineTo(crx+w*0.01,cry-h*0.02);ctx.lineTo(crx+w*0.04,cry+h*0.03);ctx.lineTo(crx+w*0.06,cry);ctx.lineTo(crx+w*0.08,cry+h*0.05);ctx.fill();
    ctx.fillRect(crx-w*0.06,cry+h*0.05,w*0.14,h*0.025);
    // Gems
    ctx.fillStyle='#f00';ctx.beginPath();ctx.arc(crx-w*0.02,cry+h*0.02,3,0,Math.PI*2);ctx.fill();
    ctx.fillStyle='#0f0';ctx.beginPath();ctx.arc(crx+w*0.02,cry+h*0.02,3,0,Math.PI*2);ctx.fill();
    // Cockroach king on throne
    ctx.fillStyle='#6a3800';ctx.beginPath();ctx.ellipse(w*0.5,h*0.42,w*0.04,h*0.04,0,0,Math.PI*2);ctx.fill();
    ctx.fillStyle='#4a2000';ctx.beginPath();ctx.ellipse(w*0.47,h*0.4,w*0.025,h*0.025,0,0,Math.PI*2);ctx.fill();
    // Tiny crown on king
    ctx.fillStyle='#fc0';ctx.fillRect(w*0.46,h*0.375,w*0.04,h*0.01);
    // Army marching
    for(var i=0;i<16;i++){
      var ax=w*0.05+i*w*0.06+Math.sin(t*2.5+i)*4,ay=h*0.75+Math.sin(t*3.5+i)*3+(i%2)*h*0.08;
      ctx.fillStyle='#5a3000';ctx.beginPath();ctx.ellipse(ax,ay,5,3.5,0,0,Math.PI*2);ctx.fill();
      // Tiny legs
      ctx.strokeStyle='#4a2000';ctx.lineWidth=0.8;
      ctx.beginPath();ctx.moveTo(ax-2,ay+3);ctx.lineTo(ax-2+Math.sin(t*8+i)*3,ay+8);ctx.stroke();
      ctx.beginPath();ctx.moveTo(ax+2,ay+3);ctx.lineTo(ax+2+Math.sin(t*8+i+1)*3,ay+8);ctx.stroke();
    }
  },
  _ytArtSecret(ctx,w,h,t) {
    // Dark room
    ctx.fillStyle='rgba(0,0,0,0.8)';ctx.fillRect(0,0,w,h);
    // Multiple spotlights
    var spots=[[w*0.3,h*0.4],[w*0.7,h*0.5],[w*0.5,h*0.3]];
    for(var i=0;i<spots.length;i++){
      var sx=spots[i][0]+Math.sin(t*0.8+i*2)*w*0.1,sy=spots[i][1]+Math.cos(t*0.6+i)*h*0.1;
      var spot=ctx.createRadialGradient(sx,sy,0,sx,sy,w*0.12);
      spot.addColorStop(0,'rgba(255,255,200,0.35)');spot.addColorStop(1,'rgba(0,0,0,0)');
      ctx.fillStyle=spot;ctx.fillRect(0,0,w,h);
    }
    // Hidden items revealed
    var items=['\uD83D\uDC8E','\uD83D\uDD11','\u2B50','\uD83C\uDF1F','\uD83D\uDCA0'];
    for(var i=0;i<items.length;i++){
      var ix=w*0.15+i*w*0.18,iy=h*0.35+Math.sin(t*1.5+i)*h*0.1;
      ctx.fillStyle='rgba(255,255,255,'+(0.15+Math.sin(t*2+i)*0.1)+')';ctx.font='18px serif';ctx.fillText(items[i],ix,iy);
    }
    // Large question mark
    ctx.fillStyle='rgba(255,200,50,'+(0.5+Math.sin(t*2)*0.3)+')';ctx.font='bold 36px serif';ctx.fillText('?',w*0.46,h*0.55);
    // Floating text
    ctx.fillStyle='rgba(200,200,200,0.15)';ctx.font='9px monospace';
    ctx.fillText('–°–ï–ö–†–ï–¢',w*0.1,(t*20)%h);ctx.fillText('#'+Math.floor(t*2%10),w*0.7,(t*25+50)%h);
  },
  _ytArtBrain(ctx,w,h,t) {
    // Chalkboard background
    ctx.fillStyle='#2a4a2a';ctx.fillRect(w*0.05,h*0.05,w*0.9,h*0.85);
    ctx.strokeStyle='#5a3a1a';ctx.lineWidth=4;ctx.strokeRect(w*0.05,h*0.05,w*0.9,h*0.85);
    // Math formulas
    ctx.fillStyle='rgba(255,255,255,0.7)';ctx.font='12px monospace';
    var formulas=['7+3=?','E=mc¬≤','œÄ‚âà3.14','2¬≤=4','‚àö16=4','‚àën=‚àû'];
    for(var i=0;i<formulas.length;i++){ctx.fillText(formulas[i],w*0.1+Math.sin(i*2)*w*0.05,h*0.15+i*h*0.13);}
    // Brain (centered, bigger)
    var bx=w*0.65,by=h*0.45;
    ctx.fillStyle='#d88';
    ctx.beginPath();ctx.arc(bx-w*0.04,by-h*0.02,w*0.07,0,Math.PI*2);ctx.fill();
    ctx.beginPath();ctx.arc(bx+w*0.04,by-h*0.02,w*0.07,0,Math.PI*2);ctx.fill();
    ctx.beginPath();ctx.arc(bx,by+h*0.06,w*0.055,0,Math.PI*2);ctx.fill();
    // Wrinkles
    ctx.strokeStyle='#c77';ctx.lineWidth=1.5;
    ctx.beginPath();ctx.moveTo(bx,by-h*0.1);ctx.quadraticCurveTo(bx-w*0.02,by,bx,by+h*0.12);ctx.stroke();
    for(var i=0;i<4;i++){ctx.beginPath();ctx.moveTo(bx-w*0.06+i*w*0.015,by-h*0.05+i*h*0.03);ctx.quadraticCurveTo(bx-w*0.02,by+i*h*0.02,bx+w*0.04,by-h*0.02+i*h*0.04);ctx.stroke();}
    // Sparkles orbiting brain
    for(var i=0;i<8;i++){
      var sa=t*2+i*Math.PI/4,sr=w*0.1+Math.sin(t*3+i)*w*0.02;
      ctx.fillStyle='rgba(255,255,0,'+(0.5+Math.sin(t*4+i)*0.3)+')';ctx.beginPath();ctx.arc(bx+Math.cos(sa)*sr,by+Math.sin(sa)*sr*0.7,3,0,Math.PI*2);ctx.fill();
    }
    // Answer
    var ans=Math.floor(7+3*Math.abs(Math.sin(t*2)));
    ctx.fillStyle='#ff0';ctx.font='bold 18px monospace';ctx.fillText('= '+ans,w*0.3,h*0.2);
    if(ans===10){ctx.fillStyle='#0f0';ctx.font='bold 14px monospace';ctx.fillText('\u2713',w*0.45,h*0.2);}
  },
  _ytArtGeneric(ctx,w,h,t) {
    // Floating geometric shapes (more spread out)
    for(var i=0;i<12;i++){
      var gx=w*0.08+i*w*0.075+Math.sin(t*1.5+i)*w*0.04;
      var gy=h*0.2+Math.cos(t*1.2+i*0.8)*h*0.2;
      ctx.fillStyle='hsla('+(i*30+t*20)%360+',60%,50%,0.35)';
      ctx.save();ctx.translate(gx,gy);ctx.rotate(t+i);
      var sz=8+Math.sin(t*2+i)*3;
      if(i%3===0){ctx.fillRect(-sz,-sz,sz*2,sz*2);}
      else if(i%3===1){ctx.beginPath();ctx.arc(0,0,sz,0,Math.PI*2);ctx.fill();}
      else{ctx.beginPath();ctx.moveTo(0,-sz);ctx.lineTo(sz,sz*0.8);ctx.lineTo(-sz,sz*0.8);ctx.fill();}
      ctx.restore();
    }
    // Subtle wave
    ctx.strokeStyle='rgba(255,255,255,0.1)';ctx.lineWidth=2;
    ctx.beginPath();for(var x=0;x<w;x+=3){ctx.lineTo(x,h*0.7+Math.sin(x*0.03+t*2)*h*0.05);}ctx.stroke();
  },

  _ytShowScene(scene) {
    const el = document.getElementById('yt-scene');
    const sub = document.getElementById('yt-subtitle');
    const canvas = document.getElementById('yt-canvas');
    if (!el) return;
    // Update scene emoji for art renderer
    this._ytCurrentEmoji = scene.e || '';
    // Animate emoji
    el.textContent = scene.e;
    el.className = 'yt-player-emoji';
    void el.offsetWidth; // reflow
    el.classList.add('yt-' + (scene.anim || 'pop'));
    // Subtitle
    if (sub) { sub.textContent = scene.sub || ''; sub.style.display = scene.sub ? '' : 'none'; }
    // Sound
    if (scene.sfx) SFX.play(scene.sfx);
    // Particles + scene art
    if (canvas && scene.particles && scene.particles !== 'none') {
      this._ytStopParticles();
      this._ytStartParticles(canvas, scene.particles);
    } else if (canvas) {
      this._ytStopParticles();
      this._ytStartParticles(canvas, 'none');
    }
  },

  _ytComments: [
    ['CockroachHater228','–Ω–∞–∫–æ–Ω–µ—Ü –Ω–æ—Ä–º –∫–æ–Ω—Ç–µ–Ω—Ç!!!'],['WindowsXP_Fan','–≤–µ—Ä–Ω–∏—Ç–µ –≤–∏–Ω —Ö–ø'],['ProGamer','—è –ø—Ä–æ—à—ë–ª –∑–∞ 2 –º–∏–Ω –ª–æ–ª'],
    ['–¢–∞—Ä–∞–∫–∞–Ω–æ–õ—é–±','—Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ –∂–∞–ª–∫–æ('],['HammerTime','–º–æ–ª–æ—Ç–æ–∫ —Ä–µ—à–∞–µ—Ç'],['ClippyFan','–∫–ª–∏–ø–ø–∏ –ª—É—á—à–∏–π!!!'],
    ['–ú–∞–º–∏–Ω_–•–∞–∫–µ—Ä','–∞ –≥–¥–µ —á–∏—Ç—ã?'],['BugSquasher','–ª–∞–π–∫ –ø–æ–¥–ø–∏—Å–∫–∞!'],['PCMaster','–º–æ–π –ø–∫ —Ç–æ–∂–µ —Ç–∞–∫ –¥–µ–ª–∞–µ—Ç'],
    ['SpeedRunner','–º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ'],['NoobPlayer123','–∫–∞–∫ –ø—Ä–æ–π—Ç–∏ 1 —É—Ä–æ–≤–µ–Ω—å??'],['VirusKiller','–∞–Ω—Ç–∏–≤–∏—Ä—É—Å —Ç–æ–ø'],
  ],

  playYTShort(idx) {
    const s = this._ytShorts[idx]; if(!s) return;
    const page = document.getElementById('yt-page');
    if(!page) return;
    SFX.play('yt_whoosh');
    const dur = s.scenes.length * 1.5;
    page.innerHTML = `
      <div style="display:flex;align-items:center;gap:6px;margin-bottom:6px;">
        <button class="win-btn" onclick="game.ytBack()" style="font-size:10px;min-width:auto;padding:2px 8px;">&#x2190; –ù–∞–∑–∞–¥</button>
        <span style="font-size:11px;font-weight:bold;">${s.title}</span>
      </div>
      <div class="yt-player" style="height:200px;background:${s.bg};" id="yt-player">
        <canvas id="yt-canvas" width="420" height="200" style="border-radius:8px;"></canvas>
        <div class="yt-player-overlay">
          <div class="yt-player-emoji yt-pop" id="yt-scene">${s.scenes[0].e}</div>
        </div>
        <div class="yt-subtitle" id="yt-subtitle">${s.scenes[0].sub || ''}</div>
        <div class="yt-views-live">&#x1F534; LIVE</div>
        <div class="yt-player-bar" style="animation-duration:${dur}s;"></div>
      </div>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-top:4px;">
        <span style="font-size:10px;color:#666;">&#x2764; ${Math.floor(Math.random()*50+5)}K &nbsp; &#x1F4AC; ${Math.floor(Math.random()*500+50)}</span>
        <button class="win-btn" onclick="game.ytLike()" style="font-size:10px;min-width:auto;padding:2px 8px;">&#x1F44D; –õ–∞–π–∫ +$1</button><button class="win-btn" onclick="game.ytDislike()" style="font-size:10px;min-width:auto;padding:2px 8px;margin-left:2px;">&#x1F44E;</button>
      </div>
      <div style="margin-top:4px;position:relative;">
        <div class="chat-emoji-picker" id="yt-cmt-emoji-picker">${this._ytCmtEmojiPickerHTML()}</div>
        <div style="display:flex;gap:4px;">
          <button class="chat-emoji-btn" onclick="game.ytCmtToggleEmoji()">&#x1F600;</button>
          <input id="yt-comment-input" style="flex:1;border:1px solid #ccc;border-radius:12px;padding:2px 8px;font-size:10px;" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..." onkeydown="if(event.key==='Enter')game.ytAddComment()" maxlength="100"/>
          <button class="win-btn" onclick="game.ytAddComment()" style="font-size:9px;min-width:auto;padding:2px 6px;">&#x27A4;</button>
        </div>
      </div>
      <div id="yt-comments-list" style="margin-top:2px;"></div>`;
    this._ytCurrentEmoji = s.scenes[0].e;
    this._ytCurrentBG = s.bg;
    if (s.scenes[0].sfx) SFX.play(s.scenes[0].sfx);
    setTimeout(() => { const c = document.getElementById('yt-canvas'); if(c) this._ytStartParticles(c, s.scenes[0].particles || 'none'); }, 50);
    this._ytPlaying = true;
    this._ytStartAutoChat();
    let sceneIdx = 0;
    this._ytInterval = setInterval(() => {
      sceneIdx++;
      if (sceneIdx >= s.scenes.length) {
        clearInterval(this._ytInterval); this._ytPlaying = false;
        this._ytStopParticles();
        const sub = document.getElementById('yt-subtitle');
        if(sub) { sub.textContent = '–ü–æ–¥–ø–∏—à–∏—Å—å! –°–ª–µ–¥—É—é—â–∏–π —à–æ—Ä—Ç—Å —á–µ—Ä–µ–∑ 3...'; }
        return;
      }
      this._ytShowScene(s.scenes[sceneIdx]);
    }, 1500);
  },

  playYTVideo(idx) {
    const v = this._ytVideos[idx]; if(!v) return;
    const page = document.getElementById('yt-page');
    if(!page) return;
    SFX.play('yt_whoosh');
    const dur = v.scenes.length * 1.8;
    const cmts = [];
    const used = new Set();
    for(let i=0;i<3;i++){ let ci; do{ci=Math.floor(Math.random()*this._ytComments.length);}while(used.has(ci)); used.add(ci); cmts.push(this._ytComments[ci]); }
    page.innerHTML = `
      <div style="display:flex;align-items:center;gap:6px;margin-bottom:6px;">
        <button class="win-btn" onclick="game.ytBack()" style="font-size:10px;min-width:auto;padding:2px 8px;">&#x2190; –ù–∞–∑–∞–¥</button>
        <span style="font-size:11px;font-weight:bold;">${v.title}</span>
      </div>
      <div class="yt-player" style="background:${v.bg};" id="yt-player">
        <canvas id="yt-canvas" width="420" height="220" style="border-radius:8px;"></canvas>
        <div class="yt-player-overlay">
          <div class="yt-player-emoji yt-pop" id="yt-scene">${v.scenes[0].e}</div>
          <div class="yt-player-title">${v.title}</div>
        </div>
        <div class="yt-subtitle" id="yt-subtitle">${v.scenes[0].sub || ''}</div>
        <div class="yt-player-bar" style="animation-duration:${dur}s;"></div>
      </div>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-top:4px;">
        <span style="font-size:10px;color:#666;">&#x2764; ${Math.floor(Math.random()*90+10)}K &nbsp; &#x1F4AC; ${(Math.random()*5+0.5).toFixed(1)}K &nbsp; &#x1F440; ${(Math.random()*8+1).toFixed(1)}M</span>
        <button class="win-btn" onclick="game.ytLike()" style="font-size:10px;min-width:auto;padding:2px 8px;">&#x1F44D; –õ–∞–π–∫ +$1</button><button class="win-btn" onclick="game.ytDislike()" style="font-size:10px;min-width:auto;padding:2px 8px;margin-left:2px;">&#x1F44E;</button>
      </div>
      <div style="margin-top:6px;padding:6px;background:#f8f8f8;border-radius:4px;" id="yt-comments-section">
        <div style="font-size:10px;color:#333;font-weight:bold;">&#x1F4DD; –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:</div>
        <div id="yt-comments-list">
        ${cmts.map(c => `<div style="font-size:9px;color:#555;margin-top:2px;">&#x1F464; ${c[0]}: "${c[1]}"</div>`).join('')}
        </div>
        <div style="margin-top:4px;position:relative;">
          <div class="chat-emoji-picker" id="yt-cmt-emoji-picker">${this._ytCmtEmojiPickerHTML()}</div>
          <div style="display:flex;gap:4px;">
            <button class="chat-emoji-btn" onclick="game.ytCmtToggleEmoji()">&#x1F600;</button>
            <input id="yt-comment-input" style="flex:1;border:1px solid #ccc;border-radius:12px;padding:2px 8px;font-size:10px;" placeholder="–ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..." onkeydown="if(event.key==='Enter')game.ytAddComment()" maxlength="100"/>
            <button class="win-btn" onclick="game.ytAddComment()" style="font-size:9px;min-width:auto;padding:2px 6px;">&#x27A4;</button>
          </div>
        </div>
      </div>`;
    this._ytCurrentEmoji = v.scenes[0].e;
    this._ytCurrentBG = v.bg;
    if (v.scenes[0].sfx) SFX.play(v.scenes[0].sfx);
    setTimeout(() => { const c = document.getElementById('yt-canvas'); if(c) this._ytStartParticles(c, v.scenes[0].particles || 'none'); }, 50);
    this._ytPlaying = true;
    this._ytStartAutoChat();
    let sceneIdx = 0;
    this._ytInterval = setInterval(() => {
      sceneIdx++;
      if (sceneIdx >= v.scenes.length) {
        clearInterval(this._ytInterval); this._ytPlaying = false;
        this._ytStopParticles();
        const sub = document.getElementById('yt-subtitle');
        if(sub) { sub.textContent = '–ü–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å? –õ–∞–π–∫ –∏ –ø–æ–¥–ø–∏—Å–∫–∞!'; }
        SFX.play('yt_victory');
        return;
      }
      this._ytShowScene(v.scenes[sceneIdx]);
    }, 1800);
  },

  // === MINI GAMES ===
  _ytGames: [
    { name:'–¢–∞—Ä–∞–∫–∞–Ω –†–∞–Ω–Ω–µ—Ä', emoji:'ü™≥', desc:'–£–≤–æ—Ä–∞—á–∏–≤–∞–π—Å—è –æ—Ç –º–æ–ª–æ—Ç–∫–æ–≤!' },
    { name:'–ú–æ–ª–æ—Ç–æ–∫ –ö–ª–∏–∫–µ—Ä', emoji:'üî®', desc:'–ö–ª–∏–∫–∞–π —á—Ç–æ–±—ã –±–∏—Ç—å!' },
    { name:'–ö–ª–∏–ø–ø–∏ –ö–≤–µ—Å—Ç', emoji:'üìé', desc:'–ü–æ–º–æ–≥–∏ –ö–ª–∏–ø–ø–∏ –Ω–∞–π—Ç–∏ –ø—É—Ç—å!' },
    { name:'–ü–∏–∫—Å–µ–ª—å –ü–∞–∑–ª', emoji:'üß©', desc:'–°–æ–±–µ—Ä–∏ —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª!' },
    { name:'–ó–º–µ–π–∫–∞ XP', emoji:'üêç', desc:'–°–æ–±–∏—Ä–∞–π —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤!' },
    { name:'–í–∏—Ä—É—Å –®—É—Ç–µ—Ä', emoji:'üöÄ', desc:'–°—Ç—Ä–µ–ª—è–π –ø–æ –≤–∏—Ä—É—Å–∞–º!' },
  ],
  _ytGameScore: 0,
  _ytGameTimer: null,
  _ytGameActive: false,

  ytPlayGame(id) {
    const g = this._ytGames[id]; if(!g) return;
    const page = document.getElementById('yt-page');
    if(!page) return;
    SFX.play('yt_whoosh');
    this._ytGameScore = 0;
    this._ytGameActive = true;
    const canvasH = 220;
    page.innerHTML = `
      <div style="display:flex;align-items:center;gap:6px;margin-bottom:4px;">
        <button class="win-btn" onclick="game.ytGameQuit()" style="font-size:10px;min-width:auto;padding:2px 8px;">&#x2190; –í—ã–π—Ç–∏</button>
        <span style="font-size:11px;font-weight:bold;">${g.emoji} ${g.name}</span>
        <span id="yt-game-score" style="margin-left:auto;font-size:10px;font-weight:bold;color:#c00;">&#x1F3C6; 0</span>
      </div>
      <div style="font-size:9px;color:#666;margin-bottom:4px;">${g.desc}</div>
      <canvas id="yt-game-canvas" width="420" height="${canvasH}" style="background:#111;border-radius:8px;display:block;width:100%;cursor:crosshair;"></canvas>
      <div id="yt-game-msg" style="text-align:center;font-size:10px;color:#888;margin-top:4px;"></div>`;
    const canvas = document.getElementById('yt-game-canvas');
    if (!canvas) return;
    switch(id) {
      case 0: this._ytGameRunner(canvas); break;
      case 1: this._ytGameClicker(canvas); break;
      case 2: this._ytGameQuest(canvas); break;
      case 3: this._ytGamePuzzle(canvas); break;
      case 4: this._ytGameSnake(canvas); break;
      case 5: this._ytGameShooter(canvas); break;
    }
  },

  ytGameQuit() {
    this._ytGameActive = false;
    if (this._ytGameTimer) { clearInterval(this._ytGameTimer); this._ytGameTimer = null; }
    if (this._ytGameAnimFrame) { cancelAnimationFrame(this._ytGameAnimFrame); this._ytGameAnimFrame = null; }
    const earned = Math.floor(this._ytGameScore / 10);
    if (earned > 0) { this.money += earned; this.updateMoney(); }
    this.showPopup(200,150, earned > 0 ? `–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞! +$${earned}` : '–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!');
    this.ytBack();
  },

  _ytGameUpdateScore(pts) {
    this._ytGameScore += pts;
    const el = document.getElementById('yt-game-score');
    if (el) el.innerHTML = `&#x1F3C6; ${this._ytGameScore}`;
  },

  // Game 0: Cockroach Runner - dodge falling hammers
  _ytGameRunner(canvas) {
    const ctx = canvas.getContext('2d');
    const W = canvas.width, H = canvas.height;
    let px = W/2, hammers = [], frame = 0;
    canvas.onmousemove = (e) => { const r = canvas.getBoundingClientRect(); px = (e.clientX - r.left) / r.width * W; };
    canvas.ontouchmove = (e) => { e.preventDefault(); const r = canvas.getBoundingClientRect(); px = (e.touches[0].clientX - r.left) / r.width * W; };
    const loop = () => {
      if (!this._ytGameActive) return;
      ctx.fillStyle = '#111'; ctx.fillRect(0,0,W,H);
      frame++;
      if (frame % 20 === 0) hammers.push({ x: Math.random()*W, y: -20, s: 2+frame*0.005 });
      // Player
      ctx.font = '24px serif'; ctx.textAlign = 'center'; ctx.fillText('ü™≥', px, H-20);
      // Hammers
      for (let i = hammers.length-1; i >= 0; i--) {
        hammers[i].y += hammers[i].s;
        ctx.fillText('üî®', hammers[i].x, hammers[i].y);
        if (Math.abs(hammers[i].x - px) < 20 && Math.abs(hammers[i].y - (H-20)) < 20) {
          this._ytGameActive = false;
          const msg = document.getElementById('yt-game-msg');
          if(msg) msg.textContent = `–ü–æ–ø–∞–ª—Å—è! –û—á–∫–∏: ${this._ytGameScore}. –ö–ª–∏–∫–Ω–∏ "–í—ã–π—Ç–∏"`;
          SFX.play('yt_boom'); return;
        }
        if (hammers[i].y > H + 20) { hammers.splice(i,1); this._ytGameUpdateScore(1); }
      }
      ctx.fillStyle = '#fff'; ctx.font = '10px sans-serif'; ctx.textAlign = 'left';
      ctx.fillText(`–£–≤–æ—Ä–∞—á–∏–≤–∞–π—Å—è! –ö–∞–¥—Ä: ${frame}`, 5, 15);
      this._ytGameAnimFrame = requestAnimationFrame(loop);
    };
    loop();
  },

  // Game 1: Hammer Clicker
  _ytGameClicker(canvas) {
    const ctx = canvas.getContext('2d');
    const W = canvas.width, H = canvas.height;
    let targets = [], clicks = 0, missed = 0;
    const spawnTarget = () => { targets.push({ x: 30+Math.random()*(W-60), y: 30+Math.random()*(H-60), life: 60+Math.random()*40, r: 18 }); };
    for(let i=0;i<3;i++) spawnTarget();
    canvas.onclick = (e) => {
      if (!this._ytGameActive) return;
      const r = canvas.getBoundingClientRect();
      const mx = (e.clientX - r.left)/r.width*W, my = (e.clientY - r.top)/r.height*H;
      let hit = false;
      for (let i = targets.length-1; i >= 0; i--) {
        if (Math.abs(targets[i].x-mx)<targets[i].r && Math.abs(targets[i].y-my)<targets[i].r) {
          targets.splice(i,1); this._ytGameUpdateScore(5); spawnTarget(); hit = true; clicks++; SFX.play('hit'); break;
        }
      }
      if (!hit) { missed++; SFX.play('popup'); }
    };
    const loop = () => {
      if (!this._ytGameActive) return;
      ctx.fillStyle = '#111'; ctx.fillRect(0,0,W,H);
      for (let i = targets.length-1; i >= 0; i--) {
        targets[i].life--;
        ctx.font = '28px serif'; ctx.textAlign = 'center';
        ctx.fillText('ü™≥', targets[i].x, targets[i].y+8);
        ctx.strokeStyle = targets[i].life < 20 ? '#f00' : '#444'; ctx.lineWidth = 2;
        ctx.strokeRect(targets[i].x-targets[i].r, targets[i].y-targets[i].r, targets[i].r*2, targets[i].r*2);
        if (targets[i].life <= 0) { targets.splice(i,1); missed++; spawnTarget(); }
      }
      if (missed >= 10) {
        this._ytGameActive = false;
        const msg = document.getElementById('yt-game-msg');
        if(msg) msg.textContent = `–ü—Ä–æ–º–∞—Ö–æ–≤ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ! –û—á–∫–∏: ${this._ytGameScore}`;
        SFX.play('yt_drama'); return;
      }
      ctx.fillStyle = '#fff'; ctx.font = '10px sans-serif'; ctx.textAlign = 'left';
      ctx.fillText(`–ë–µ–π —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤! –ü—Ä–æ–º–∞—Ö–∏: ${missed}/10`, 5, 15);
      this._ytGameAnimFrame = requestAnimationFrame(loop);
    };
    loop();
  },

  // Game 2: Clippy Quest - collect stars, avoid viruses
  _ytGameQuest(canvas) {
    const ctx = canvas.getContext('2d');
    const W = canvas.width, H = canvas.height;
    let px = W/2, py = H/2, stars = [], viruses = [], frame = 0;
    for(let i=0;i<5;i++) stars.push({x:Math.random()*W,y:Math.random()*H});
    canvas.onmousemove = (e) => { const r = canvas.getBoundingClientRect(); px = (e.clientX-r.left)/r.width*W; py = (e.clientY-r.top)/r.height*H; };
    const loop = () => {
      if (!this._ytGameActive) return;
      ctx.fillStyle = '#1a2a1a'; ctx.fillRect(0,0,W,H);
      frame++;
      if (frame % 60 === 0) viruses.push({x:Math.random()*W,y:-20,vy:1+Math.random()*2});
      ctx.font = '22px serif'; ctx.textAlign = 'center';
      ctx.fillText('üìé', px, py);
      for (let i = stars.length-1; i >= 0; i--) {
        ctx.fillText('‚≠ê', stars[i].x, stars[i].y);
        if (Math.abs(stars[i].x-px)<18 && Math.abs(stars[i].y-py)<18) {
          stars.splice(i,1); this._ytGameUpdateScore(3); SFX.play('coin');
          stars.push({x:Math.random()*W,y:Math.random()*H});
        }
      }
      for (let i = viruses.length-1; i >= 0; i--) {
        viruses[i].y += viruses[i].vy;
        ctx.fillText('üëæ', viruses[i].x, viruses[i].y);
        if (Math.abs(viruses[i].x-px)<18 && Math.abs(viruses[i].y-py)<18) {
          this._ytGameActive = false;
          const msg = document.getElementById('yt-game-msg');
          if(msg) msg.textContent = `–í–∏—Ä—É—Å –ø–æ–π–º–∞–ª –ö–ª–∏–ø–ø–∏! –û—á–∫–∏: ${this._ytGameScore}`;
          SFX.play('yt_scary'); return;
        }
        if (viruses[i].y > H+20) viruses.splice(i,1);
      }
      ctx.fillStyle = '#fff'; ctx.font = '10px sans-serif'; ctx.textAlign = 'left';
      ctx.fillText('–°–æ–±–∏—Ä–∞–π –∑–≤—ë–∑–¥—ã, –∏–∑–±–µ–≥–∞–π –≤–∏—Ä—É—Å–æ–≤!', 5, 15);
      this._ytGameAnimFrame = requestAnimationFrame(loop);
    };
    loop();
  },

  // Game 3: Pixel Puzzle - click tiles to flip them
  _ytGamePuzzle(canvas) {
    const ctx = canvas.getContext('2d');
    const W = canvas.width, H = canvas.height;
    const cols = 6, rows = 4;
    const tw = W/cols, th = H/rows;
    const icons = ['üñ•Ô∏è','üìÅ','üóëÔ∏è','üìé','üî®','ü™≥','üí∞','üï∑Ô∏è','üõ°Ô∏è','‚öôÔ∏è','üìÑ','üåê'];
    const grid = []; const revealed = [];
    const pairs = icons.slice(0, (cols*rows)/2);
    const deck = [...pairs,...pairs].sort(()=>Math.random()-0.5);
    for(let i=0;i<deck.length;i++){ grid.push(deck[i]); revealed.push(false); }
    let first = -1, locked = false, matches = 0;
    canvas.onclick = (e) => {
      if (!this._ytGameActive || locked) return;
      const r = canvas.getBoundingClientRect();
      const mx = (e.clientX-r.left)/r.width*W, my = (e.clientY-r.top)/r.height*H;
      const ci = Math.floor(mx/tw), ri = Math.floor(my/th);
      const idx = ri*cols+ci;
      if (idx<0||idx>=grid.length||revealed[idx]) return;
      revealed[idx] = true; SFX.play('yt_ding');
      if (first === -1) { first = idx; }
      else {
        locked = true;
        if (grid[first] === grid[idx]) {
          matches++; this._ytGameUpdateScore(10); SFX.play('coin');
          first = -1; locked = false;
          if (matches === pairs.length) {
            const msg = document.getElementById('yt-game-msg');
            if(msg) msg.textContent = `–°–æ–±—Ä–∞–Ω–æ! –û—á–∫–∏: ${this._ytGameScore}`;
            SFX.play('yt_victory'); this._ytGameActive = false;
          }
        } else {
          const f = first; first = -1;
          setTimeout(()=>{ revealed[f]=false; revealed[idx]=false; locked=false; }, 600);
        }
      }
    };
    const draw = () => {
      if (!this._ytGameActive && matches === pairs.length) { /* final draw */ }
      ctx.fillStyle = '#1a1a2e'; ctx.fillRect(0,0,W,H);
      for(let i=0;i<grid.length;i++){
        const c = i%cols, r = Math.floor(i/cols);
        ctx.fillStyle = revealed[i] ? '#2a3a5a' : '#333';
        ctx.fillRect(c*tw+2, r*th+2, tw-4, th-4);
        ctx.strokeStyle = '#555'; ctx.strokeRect(c*tw+2, r*th+2, tw-4, th-4);
        if(revealed[i]){ ctx.font = '24px serif'; ctx.textAlign='center'; ctx.fillText(grid[i], c*tw+tw/2, r*th+th/2+8); }
        else { ctx.fillStyle='#666'; ctx.font='16px serif'; ctx.textAlign='center'; ctx.fillText('?', c*tw+tw/2, r*th+th/2+5); }
      }
      if (this._ytGameActive) this._ytGameAnimFrame = requestAnimationFrame(draw);
    };
    draw();
  },

  // Game 4: Snake XP
  _ytGameSnake(canvas) {
    const ctx = canvas.getContext('2d');
    const W = canvas.width, H = canvas.height;
    const sz = 20, cols = Math.floor(W/sz), rows = Math.floor(H/sz);
    let snake = [{x:Math.floor(cols/2),y:Math.floor(rows/2)}];
    let dir = {x:1,y:0}, food = {x:5,y:5}, nextDir = {x:1,y:0};
    const placeFood = () => { food = {x:Math.floor(Math.random()*cols),y:Math.floor(Math.random()*rows)}; };
    placeFood();
    document.addEventListener('keydown', this._ytSnakeKeyHandler = (e) => {
      if(e.key==='ArrowUp'&&dir.y!==1) nextDir={x:0,y:-1};
      if(e.key==='ArrowDown'&&dir.y!==-1) nextDir={x:0,y:1};
      if(e.key==='ArrowLeft'&&dir.x!==1) nextDir={x:-1,y:0};
      if(e.key==='ArrowRight'&&dir.x!==-1) nextDir={x:1,y:0};
    });
    this._ytGameTimer = setInterval(() => {
      if (!this._ytGameActive) return;
      dir = nextDir;
      const head = {x:snake[0].x+dir.x, y:snake[0].y+dir.y};
      if(head.x<0||head.x>=cols||head.y<0||head.y>=rows||snake.some(s=>s.x===head.x&&s.y===head.y)){
        this._ytGameActive = false; clearInterval(this._ytGameTimer);
        document.removeEventListener('keydown', this._ytSnakeKeyHandler);
        const msg = document.getElementById('yt-game-msg');
        if(msg) msg.textContent = `–í—Ä–µ–∑–∞–ª—Å—è! –û—á–∫–∏: ${this._ytGameScore}`;
        SFX.play('yt_boom'); return;
      }
      snake.unshift(head);
      if(head.x===food.x&&head.y===food.y){ this._ytGameUpdateScore(5); SFX.play('coin'); placeFood(); }
      else snake.pop();
      // Draw
      ctx.fillStyle = '#0a1a0a'; ctx.fillRect(0,0,W,H);
      ctx.font = `${sz-2}px serif`; ctx.textAlign = 'center';
      ctx.fillText('ü™≥', food.x*sz+sz/2, food.y*sz+sz/2+5);
      for(let i=0;i<snake.length;i++){
        ctx.fillStyle = i===0 ? '#4CAF50' : '#2E7D32';
        ctx.fillRect(snake[i].x*sz+1, snake[i].y*sz+1, sz-2, sz-2);
      }
      ctx.fillStyle = '#fff'; ctx.font = '10px sans-serif'; ctx.textAlign = 'left';
      ctx.fillText(`–°—Ç—Ä–µ–ª–∫–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è | –î–ª–∏–Ω–∞: ${snake.length}`, 5, H-5);
    }, 120);
  },

  // Game 5: Virus Shooter
  _ytGameShooter(canvas) {
    const ctx = canvas.getContext('2d');
    const W = canvas.width, H = canvas.height;
    let bullets = [], viruses = [], frame = 0, lives = 3;
    let mx = W/2;
    canvas.onmousemove = (e) => { const r = canvas.getBoundingClientRect(); mx = (e.clientX-r.left)/r.width*W; };
    canvas.onclick = () => { if(this._ytGameActive) { bullets.push({x:mx,y:H-30,vy:-5}); SFX.play('yt_whoosh'); } };
    const loop = () => {
      if (!this._ytGameActive) return;
      ctx.fillStyle = '#0a0a1a'; ctx.fillRect(0,0,W,H);
      frame++;
      if(frame%30===0) viruses.push({x:20+Math.random()*(W-40),y:-20,vy:1+frame*0.003});
      // Player
      ctx.font = '20px serif'; ctx.textAlign = 'center'; ctx.fillText('üõ°Ô∏è', mx, H-15);
      // Bullets
      for(let i=bullets.length-1;i>=0;i--){
        bullets[i].y += bullets[i].vy;
        ctx.fillStyle='#ff0'; ctx.fillRect(bullets[i].x-2, bullets[i].y, 4, 8);
        if(bullets[i].y<-10) bullets.splice(i,1);
      }
      // Viruses
      for(let i=viruses.length-1;i>=0;i--){
        viruses[i].y += viruses[i].vy;
        ctx.font='18px serif'; ctx.fillText('üëæ', viruses[i].x, viruses[i].y);
        // Hit by bullet?
        for(let j=bullets.length-1;j>=0;j--){
          if(Math.abs(bullets[j].x-viruses[i].x)<16 && Math.abs(bullets[j].y-viruses[i].y)<16){
            viruses.splice(i,1); bullets.splice(j,1); this._ytGameUpdateScore(3); SFX.play('yt_boom'); break;
          }
        }
        if(i<viruses.length && viruses[i] && viruses[i].y > H) { viruses.splice(i,1); lives--; SFX.play('error'); }
      }
      // Lives
      ctx.fillStyle='#fff'; ctx.font='10px sans-serif'; ctx.textAlign='left';
      ctx.fillText(`–ñ–∏–∑–Ω–∏: ${'‚ù§Ô∏è'.repeat(lives)} | –ö–ª–∏–∫–∞–π —á—Ç–æ–±—ã —Å—Ç—Ä–µ–ª—è—Ç—å!`, 5, 15);
      if(lives<=0){
        this._ytGameActive = false;
        const msg = document.getElementById('yt-game-msg');
        if(msg) msg.textContent = `–í–∏—Ä—É—Å—ã –ø–æ–±–µ–¥–∏–ª–∏! –û—á–∫–∏: ${this._ytGameScore}`;
        SFX.play('yt_drama'); return;
      }
      this._ytGameAnimFrame = requestAnimationFrame(loop);
    };
    loop();
  },

  ytBack() {
    if (this._ytInterval) clearInterval(this._ytInterval);
    this._ytStopParticles();
    this._ytStopAutoChat();
    this._ytGameActive = false;
    if (this._ytGameTimer) { clearInterval(this._ytGameTimer); this._ytGameTimer = null; }
    if (this._ytGameAnimFrame) { cancelAnimationFrame(this._ytGameAnimFrame); this._ytGameAnimFrame = null; }
    if (this._ytSnakeKeyHandler) { document.removeEventListener('keydown', this._ytSnakeKeyHandler); this._ytSnakeKeyHandler = null; }
    this._ytPlaying = false;
    const icon = this.icons.find(i => i.id === 'internet');
    if (icon) {
      const body = document.getElementById('app-body');
      body.innerHTML = this.getAppContent(icon);
    }
  },

  // === SMART COMMENT SYSTEM ===
  _ytBots: [
    // --- –¢–û–ö–°–ò–ö (–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π, –æ—Å–∫–æ—Ä–±–ª—è–µ—Ç, –ø—Ä–æ–≤–æ—Ü–∏—Ä—É–µ—Ç) ---
    { name:'–¢–æ–∫—Å–∏–∫–ë–∞—Ä–æ–Ω', color:'#c00', type:'hater',
      patterns:[
        {kw:['–∫—Ä—É—Ç–æ','–∫–ª–∞—Å—Å','—Å—É–ø–µ—Ä','—Ç–æ–ø'], r:['–∏ —á—Ç–æ —Ç—É—Ç –∫—Ä—É—Ç–æ–≥–æ? –æ–±—ä—è—Å–Ω–∏—Ç–µ –º–Ω–µ üôÑ','–≤–∞—É, –∫–ª–∏–∫–±–µ–π—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç, –∫–∞–∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ','—Ç–µ–±–µ —Å–∫–æ–ª—å–∫–æ –ª–µ—Ç? 12? –ø–æ –∫–æ–º–º–µ–Ω—Ç—É –≤–∏–¥–Ω–æ']},
        {kw:['—Å–ª–æ–∂–Ω–æ','—Ç—Ä—É–¥–Ω–æ','–Ω–µ –º–æ–≥—É'], r:['git gud, —Ç—É—Ç –Ω–µ—á–µ–≥–æ –¥–µ–ª–∞—Ç—å, –ø—Ä–æ—Å—Ç–æ —Ç—ã –ø–ª–æ—Ö–æ–π','–º–æ–∂–µ—Ç —Ç–µ–±–µ –≤ —Ç–µ—Ç—Ä–∏—Å –µ—Å–ª–∏ —Ç—É—Ç —Å–ª–æ–∂–Ω–æ? ü§°','—è —ç—Ç–æ –ø—Ä–æ—à—ë–ª –ª–µ–≤–æ–π –Ω–æ–≥–æ–π —Å –∑–∞–∫—Ä—ã—Ç—ã–º–∏ –≥–ª–∞–∑–∞–º–∏']},
        {kw:['–ø–æ–º–æ–≥–∏','–ø–æ–º–æ—â','–ø–æ–¥—Å–∫–∞–∂'], r:['–≥—É–≥–ª –≤ –ø–æ–º–æ—â—å, —è –Ω–µ —Ç–≤–æ—è –º–∞–º–æ—á–∫–∞','–∞ —Å–∞–º–æ–º—É –ø–æ–¥—É–º–∞—Ç—å –Ω–µ –≤–∞—Ä–∏–∞–Ω—Ç?','–Ω—É —Ä–∞–∑ —Ç—ã –Ω–µ –º–æ–∂–µ—à—å –¥–∞–∂–µ —ç—Ç–æ ‚Äî –±—Ä–æ—Å–∞–π']},
      ],
      fallback:['–æ—á–µ—Ä–µ–¥–Ω–æ–π –º—É—Å–æ—Ä –≤ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö','—Å—Ç–∞–≤–ª—é –¥–∏–∑–ª–∞–π–∫ –∏ —É—Ö–æ–∂—É üëé','–∫—Ç–æ –≤–æ–æ–±—â–µ —ç—Ç–æ —Å–º–æ—Ç—Ä–∏—Ç –Ω–µ–∏—Ä–æ–Ω–∏—á–Ω–æ','–∞–≤—Ç–æ—Ä, –∑–∞–π–º–∏—Å—å —á–µ–º-—Ç–æ –ø–æ–ª–µ–∑–Ω—ã–º','—è –≤ —à–æ–∫–µ —á—Ç–æ —É —ç—Ç–æ–≥–æ –µ—Å—Ç—å –ª–∞–π–∫–∏','—É–¥–∞–ª–∏—Ç–µ —ç—Ç–æ—Ç –∫–∞–Ω–∞–ª –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ üíÄ','–º–æ—è –±–∞–±—É—à–∫–∞ –∏ —Ç–æ –ª—É—á—à–µ –∏–≥—Ä–∞–µ—Ç']
    },
    { name:'dark_lord_666', color:'#880000', type:'hater',
      patterns:[
        {kw:['–º–æ–ª–æ—Ç–æ–∫','–±–∏—Ç—å','—É–¥–∞—Ä','üî®'], r:['–º–æ–ª–æ—Ç–æ–∫ –¥–ª—è –Ω—É–±–æ–≤, —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≥–µ–π–º–µ—Ä—ã –∏–≥—Ä–∞—é—Ç –±–µ–∑','$12 –∑–∞ –º–æ–ª–æ—Ç–æ–∫ —ç—Ç–æ –≥—Ä–∞–±—ë–∂ —á–∏—Å—Ç—ã–π, –∞–≤—Ç–æ—Ä –∂–∞–¥–∏–Ω–∞','—è –ø—Ä–æ—à—ë–ª —Ö–∞—Ä–¥–∫–æ—Ä –±–µ–∑ –µ–¥–∏–Ω–æ–π –ø–æ–∫—É–ø–∫–∏']},
        {kw:['–¥–µ–Ω—å–≥–∏','$','–∫—É–ø–∏—Ç—å','–º–∞–≥–∞–∑–∏–Ω'], r:['pay2win –º—É—Å–æ—Ä, —Ç–∏–ø–∏—á–Ω–∞—è –≥—Ä–∏–Ω–¥-–ø–æ–º–æ–π–∫–∞','–≤—Å—ë –∑–∞ –¥–µ–Ω—å–≥–∏, –Ω–∏—á–µ–≥–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –∂–∞–¥–Ω–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ–≤','–∫—Ç–æ –ø–ª–∞—Ç–∏—Ç –∑–∞ —ç—Ç–æ ‚Äî —É —Ç–æ–≥–æ –¥–µ–Ω–µ–≥ –±–æ–ª—å—à–µ —á–µ–º –º–æ–∑–≥–æ–≤']},
      ],
      fallback:['üíÄüíÄüíÄ','—Å–ª–∞–±—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è —Å–ª–∞–±—ã—Ö –ª—é–¥–µ–π','–º–æ—è —Å–æ–±–∞–∫–∞ –ª—É—á—à–µ –∫–æ–Ω—Ç–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç','–∑–∞—á–µ–º —è –≤–æ–æ–±—â–µ —Å—é–¥–∞ –∑–∞—à—ë–ª','—ç—Ç–æ –≤–∏–¥–µ–æ —É–∫—Ä–∞–ª–æ 3 –º–∏–Ω—É—Ç—ã –º–æ–µ–π –∂–∏–∑–Ω–∏','ctrl+w —Å–∞–º–∞—è –ø–æ–ª–µ–∑–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —Ç—É—Ç']
    },

    // --- –ì–†–£–ë–ò–Ø–ù (—Ö–∞–º–∏—Ç, –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–æ–≤) ---
    { name:'–ñ–µ–∫–∞_–±–µ–∑_—Ç–æ—Ä–º–æ–∑–æ–≤', color:'#d84315', type:'hater',
      patterns:[
        {kw:['–∫—Ä—É—Ç–æ','—Ç–æ–ø','–ª—É—á—à','–æ–≥–æ–Ω—å'], r:['—á—ë –∑–∞ –±—Ä–µ–¥ –≤—ã –ø–∏—à–µ—Ç–µ, —ç—Ç–æ –æ—Ç—Å—Ç–æ–π –ø–æ–ª–Ω—ã–π','–≤–∞–º –ª–∏—à—å –±—ã —Ö–≤–∞–ª–∏—Ç—å, –≤–æ–æ–±—â–µ –≤–∫—É—Å–∞ –Ω–µ—Ç','–∑–∞—à—ë–ª ‚Äî —É–≤–∏–¥–µ–ª ‚Äî –ø–æ–∂–∞–ª–µ–ª']},
        {kw:['–ª–∞–π–∫','–ø–æ–¥–ø–∏—Å–∫–∞','like'], r:['–∑–∞ —á—Ç–æ —Ç—É—Ç –ª–∞–π–∫–∞—Ç—å —Ç–æ? –∑–∞ —á—Ç–æ??','–Ω–∞–∫—Ä—É—á–µ–Ω–Ω—ã–µ –ª–∞–π–∫–∏ 100%, –±–æ–º–∂–∏ –∑–∞ –∫–æ–ø–µ–π–∫—É –∫–ª–∏–∫–∞–ª–∏','–ª–∞–π–∫–æ–±–æ—Ç—ã –∞—Ç–∞–∫—É—é—Ç, —Å–º–µ—à–Ω–æ']},
      ],
      fallback:['–¥–∞ –Ω—É –Ω–∞—Ñ–∏–≥ —ç—Ç–æ','–±—Ä–µ–¥ –ø–æ–ª–Ω—ã–π','—É –∞–≤—Ç–æ—Ä–∞ —Ä—É–∫–∏ –∏–∑ –æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞','–∫—Ç–æ —ç—Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç? —É–≤–æ–ª—å—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º','—è –≤–∏–¥–µ–ª –ª—É—á—à–µ –Ω–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–µ','—ç—Ç–æ—Ç –∫–∞–Ω–∞–ª –ø–æ–º–æ–π–∫–∞, –ø—Ä–æ—Å—Ç–∏','—Ö—É–∂–µ —ç—Ç–æ–≥–æ —Ç–æ–ª—å–∫–æ —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥']
    },

    // --- –¢–†–û–õ–õ–¨ (–ø—Ä–æ–≤–æ—Ü–∏—Ä—É–µ—Ç —Ä–∞–¥–∏ —Ä–µ–∞–∫—Ü–∏–∏, —Ö–∏—Ç—Ä—ã–π) ---
    { name:'–¢—Ä–æ–ª–ª—å–ú–∞—Å—Ç–µ—Ä', color:'#FF6F00', type:'hater',
      patterns:[
        {kw:['—Ç–∞—Ä–∞–∫–∞–Ω','–∂—É–∫','ü™≥'], r:['—Ç–∞—Ä–∞–∫–∞–Ω—ã –Ω–∏—á–µ–≥–æ –Ω–µ —Å–¥–µ–ª–∞–ª–∏ –ø–ª–æ—Ö–æ–≥–æ, –æ—Ç–ø—É—Å—Ç–∏—Ç–µ –∏—Ö –Ω–∞ –≤–æ–ª—é','–∞ —è –∑–∞ —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤, –æ–Ω–∏ –º–∏–ª—ã–µ –∏ –ø—É—à–∏—Å—Ç—ã–µ','—Ç–∞—Ä–∞–∫–∞–Ω—ã –ª—É—á—à–µ –ª—é–¥–µ–π, —Ñ–∞–∫—Ç']},
        {kw:['–∫—Ä—É—Ç–æ','–∫–ª–∞—Å—Å'], r:['–∞ –º–Ω–µ –æ–¥–Ω–æ–º—É –∫–∞–∂–µ—Ç—Å—è —á—Ç–æ —ç—Ç–æ —É–∫—Ä–∞–¥–µ–Ω–æ —Å –¥—Ä—É–≥–æ–π –∏–≥—Ä—ã?','–∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –∞ –∞–≤—Ç–æ—Ä —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ –ø–æ–ª—É—á–∏–ª?','–∞ —Å–∫–æ–ª—å–∫–æ –≤–∞–º –∑–∞–ø–ª–∞—Ç–∏–ª–∏ –∑–∞ —ç—Ç–æ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π?']},
      ],
      fallback:['–∞ –µ—Å–ª–∏ –ø–æ–¥—É–º–∞—Ç—å, —Ç–∞—Ä–∞–∫–∞–Ω—ã —Ç—É—Ç –∂–µ—Ä—Ç–≤—ã...','–∫—Ç–æ –ø–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç–∏—Ç —Ç–æ–º—É –¥–∞–º $100 (–Ω–µ—Ç)','–æ–±—ä—è–≤–ª–µ–Ω–∏–µ: –∏—â—É –¥—Ä—É–∑–µ–π... —à—É—á—É, —è —Ç—Ä–æ–ª–ª—å','–∫–∞–∫ —Å–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π? —Ö–æ—á—É –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è –Ω–∞ –≤—Å–µ—Ö','–∞ –¥–∞–≤–∞–π—Ç–µ –≤—Å–µ –Ω–∞–ø–∏—à–µ–º "—Ö—Ä—é" –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫','ü§î –∞ –≤—ã –∑–∞–¥—É–º—ã–≤–∞–ª–∏—Å—å —á—Ç–æ —Ç–∞—Ä–∞–∫–∞–Ω—ã ‚Äî —ç—Ç–æ –º–µ—Ç–∞—Ñ–æ—Ä–∞?']
    },

    // --- –£–ú–ù–´–ô/–ê–ù–ê–õ–ò–¢–ò–ö (–ø–∏—à–µ—Ç —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–æ, –æ–±—ä—è—Å–Ω—è–µ—Ç, –Ω–µ–º–Ω–æ–≥–æ –∑–∞–Ω—É–¥–∞) ---
    { name:'–ê–Ω–∞–ª–∏—Ç–∏–∫_–ü–∞–≤–µ–ª', color:'#1565C0', type:'fan',
      patterns:[
        {kw:['—Ç–∞—Ä–∞–∫–∞–Ω','–∂—É–∫','ü™≥'], r:['–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç: –Ω–∞—Å—Ç–æ—è—â–∏–µ —Ç–∞—Ä–∞–∫–∞–Ω—ã –≤—ã–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≤ 10 —Ä–∞–∑ –±–æ–ª—å—à–µ —Ä–∞–¥–∏–∞—Ü–∏–∏ —á–µ–º –ª—é–¥–∏. –í –∏–≥—Ä–µ —ç—Ç–æ –Ω–µ–ø–ª–æ—Ö–æ –æ—Ç—Ä–∞–∂–µ–Ω–æ.','–° —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –≥–µ–π–º–¥–∏–∑–∞–π–Ω–∞, —Ç–∞—Ä–∞–∫–∞–Ω—ã ‚Äî –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä –Ω–∞—Ä–∞—Å—Ç–∞—é—â–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏. –ì—Ä–∞–º–æ—Ç–Ω–æ —Å–¥–µ–ª–∞–Ω–æ.']},
        {kw:['—Å–ª–æ–∂–Ω–æ','—Ç—Ä—É–¥–Ω–æ','–±–∞–ª–∞–Ω—Å'], r:['–¢—É—Ç –≤–æ–ø—Ä–æ—Å –≤ –±–∞–ª–∞–Ω—Å–µ. –ï—Å–ª–∏ –∫—É–ø–∏—Ç—å –º–æ–ª–æ—Ç–æ–∫ + –ª–æ–≤—É—à–∫–∏ ‚Äî —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø–∞–¥–∞–µ—Ç –Ω–∞ ~40%. –†–µ–∫–æ–º–µ–Ω–¥—É—é.','–ö—Ä–∏–≤–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Ç—É—Ç —Ö–æ—Ä–æ—à–æ –≤—ã—Å—Ç—Ä–æ–µ–Ω–∞. –£—Ä–æ–≤–Ω–∏ 1-3 –æ–±—É—á–∞—é—â–∏–µ, 4-6 —á–µ–ª–ª–µ–Ω–¥–∂, 7-8 —Ö–∞—Ä–¥–∫–æ—Ä.']},
        {kw:['–¥–µ–Ω—å–≥–∏','$','—ç–∫–æ–Ω–æ–º–∏–∫–∞'], r:['–≠–∫–æ–Ω–æ–º–∏–∫–∞ –≤ –∏–≥—Ä–µ: –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø—É—Ç—å ‚Äî —Å–Ω–∞—á–∞–ª–∞ —Ñ–∞—Ä–º $20 –Ω–∞ –º–æ–ª–æ—Ç–æ–∫, –ø–æ—Ç–æ–º –ª–æ–≤—É—à–∫–∏. ROI –æ—Ç–ª–∏—á–Ω—ã–π.','–Ø –ø–æ—Å—á–∏—Ç–∞–ª: –ª–∞–π–∫–∏ –≤ CockTube –¥–∞—é—Ç ~$3/–º–∏–Ω, –∞ –∫–Ω–æ–ø–∫–∏ ~$5/–º–∏–Ω. –ù–æ –∫–Ω–æ–ø–∫–∏ —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω–µ–µ.']},
      ],
      fallback:['–° –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ–π —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è, –∫–æ–Ω—Ç–µ–Ω—Ç –≤—ã—à–µ —Å—Ä–µ–¥–Ω–µ–≥–æ. 7/10.','–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –≥–µ–π–º–¥–∏–∑–∞–π–Ω—É, –µ—Å—Ç—å —á—Ç–æ –æ–±—Å—É–¥–∏—Ç—å','–•–æ—Ä–æ—à–æ —á—Ç–æ —è –∑–∞—à—ë–ª, —Ç—É—Ç –µ—Å—Ç—å –ø–∏—â–∞ –¥–ª—è —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏–π','–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª –≤–∏–¥–µ–æ: –ø–ª—é—Å—ã ‚Äî –¥–∏–Ω–∞–º–∏–∫–∞, –º–∏–Ω—É—Å—ã ‚Äî —Ö—Ä–æ–Ω–æ–º–µ—Ç—Ä–∞–∂','–ö—Å—Ç–∞—Ç–∏, –µ—Å–ª–∏ –≤–¥—É–º–∞—Ç—å—Å—è, –º–µ—Ö–∞–Ω–∏–∫–∞ –¥–æ–≤–æ–ª—å–Ω–æ –≥–ª—É–±–æ–∫–∞—è','–° —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ, –±–∞–≥–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã']
    },
    { name:'IT_–ì—É—Ä—É', color:'#00838F', type:'fan',
      patterns:[
        {kw:['–≤–∏—Ä—É—Å','–∞–Ω—Ç–∏–≤–∏—Ä—É—Å','–±–µ–∑–æ–ø–∞—Å–Ω','üõ°Ô∏è'], r:['–ö–∞–∫ –∞–π—Ç–∏—à–Ω–∏–∫ —Å–∫–∞–∂—É: –∞–Ω—Ç–∏–≤–∏—Ä—É—Å –∑–∞ $20 ‚Äî —ç—Ç–æ steal deal. –í —Ä–µ–∞–ª–µ —Å—Ç–æ–ª—å–∫–æ –∑–∞ –º–µ—Å—è—á–Ω—É—é –ø–æ–¥–ø–∏—Å–∫—É –±–µ—Ä—É—Ç.','–ó–∞—â–∏—Ç–∞ —Å–∏—Å—Ç–µ–º—ã ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–æ–º–µ—Ä 1. –°–Ω–∞—á–∞–ª–∞ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å, –ø–æ—Ç–æ–º –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ.']},
        {kw:['windows','–≤–∏–Ω–¥–æ–≤—Å','–≤–∏–Ω–¥–∞','xp','95'], r:['Win95 –≤ 1995 –±—ã–ª–∞ —Ä–µ–≤–æ–ª—é—Ü–∏–µ–π, –∞ —Ç—É—Ç –æ–Ω–∞ –æ–∂–∏–≤–∞–µ—Ç. –ù–æ—Å—Ç–∞–ª—å–≥–∏—è –∫–∞–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.','–ó–∞–±–∞–≤–Ω–æ: –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ WinXP —Ç–æ–∂–µ –±—ã–ª–∞ –ø–æ–ª–Ω–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π. –¢—É—Ç —ç—Ç–æ —Ö–æ—Ä–æ—à–æ –æ–±—ã–≥—Ä–∞–Ω–æ.']},
        {kw:['–±–∞–≥','–≥–ª—é–∫','–æ—à–∏–±–∫','–∫—Ä–∞—à–∏—Ç'], r:['–≠—Ç–æ –Ω–µ –±–∞–≥, —ç—Ç–æ —Ñ–∏—á–∞. –ö–ª–∞—Å—Å–∏–∫–∞ –∂–∞–Ω—Ä–∞.','–ü–æ–ø—Ä–æ–±—É–π –æ—á–∏—Å—Ç–∏—Ç—å –∫—ç—à... –∞, –ø–æ–¥–æ–∂–¥–∏, —ç—Ç–æ –∂–µ –∏–≥—Ä–∞. –ü—Ä–∏–≤—ã—á–∫–∞.']},
      ],
      fallback:['–ö–∞–∫ —á–µ–ª–æ–≤–µ–∫ –∏–∑ IT –æ–¥–æ–±—Ä—è—é üëç','–ü–æ –ø–∞–º—è—Ç–∏ –Ω–µ —Ç–µ—á—ë—Ç, —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π –∏–≥—Ä—ã','–î–≤–∏–∂–æ–∫ –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ –≤–∞–Ω–∏–ª—å–Ω–æ–º JS, —É–≤–∞–∂–∞—é','–° —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã ‚Äî –æ—á–µ–Ω—å –≥—Ä–∞–º–æ—Ç–Ω–æ','–°–æ–≤–µ—Ç: –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ, –µ—Å–ª–∏ —á—Ç–æ. –†–∞–±–æ—Ç–∞–µ—Ç –≤ 90% —Å–ª—É—á–∞–µ–≤ –∂–∏–∑–Ω–∏']
    },

    // --- –ù–û–†–ú–ê–õ–¨–ù–´–ï –õ–Æ–î–ò (–∞–¥–µ–∫–≤–∞—Ç–Ω—ã–µ, –ø–∏—à—É—Ç –ø–æ –¥–µ–ª—É) ---
    { name:'–ê–ª–µ–∫—Å–µ–π_27', color:'#2E7D32', type:'fan',
      patterns:[
        {kw:['–∫—Ä—É—Ç–æ','–∫–ª–∞—Å—Å','—Ç–æ–ø','–Ω—Ä–∞–≤–∏—Ç'], r:['–Ω–æ—Ä–º –≤–∏–¥–æ—Å, –∑–∞–ª–∏–ø –Ω–∞ –ø–æ–ª—á–∞—Å–∞','–º–Ω–µ –∑–∞—à–ª–æ, –Ω–µ –æ–∂–∏–¥–∞–ª —á—Ç–æ —Ç–∞–∫ –∑–∞—Ç—è–Ω–µ—Ç','–¥–æ—Å—Ç–æ–π–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç, –∞–≤—Ç–æ—Ä—É —Ä–µ—Å–ø–µ–∫—Ç']},
        {kw:['—Ç–∞—Ä–∞–∫–∞–Ω','–∂—É–∫'], r:['—Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ –±–∏—Ç—å –ø—Ä–∏–∫–æ–ª—å–Ω–æ, –Ω–æ –∏—Ö —Ä–µ–∞–ª—å–Ω–æ –º–Ω–æ–≥–æ –Ω–∞ –ø–æ–∑–¥–Ω–∏—Ö —É—Ä–æ–≤–Ω—è—Ö','–Ω–∞ 5 —É—Ä–æ–≤–Ω–µ —Ç–∞—Ä–∞–∫–∞–Ω—ã –ø—Ä–æ—Å—Ç–æ –Ω–µ –¥–∞—é—Ç –∂–∏—Ç—å, –ª–æ–≤—É—à–∫–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã']},
        {kw:['—Å–ª–æ–∂–Ω–æ','—Ç—Ä—É–¥–Ω–æ','–Ω–µ –º–æ–≥—É'], r:['–Ω–∞ 4 —É—Ä–æ–≤–Ω–µ —Ç–æ–∂–µ –∑–∞—Å—Ç—Ä—è–ª, –Ω–æ –ø–æ—Ç–æ–º –∫—É–ø–∏–ª –º–∞–≥–Ω–∏—Ç –∏ —Å—Ç–∞–ª–æ –ª–µ–≥—á–µ','–Ω–µ —Å–¥–∞–≤–∞–π—Å—è, —è —Ç–æ–∂–µ –Ω–µ —Å –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞ –ø—Ä–æ—à—ë–ª']},
      ],
      fallback:['–Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –≤–∏–¥–µ–æ, —Å–º–æ—Ç—Ä–∏–±–µ–ª—å–Ω–æ','–∫–∞–∫-—Ç–æ –∑–∞–ª–∏–ø –Ω–∞ —ç—Ç–æ, –Ω–µ –ø–æ–Ω–∏–º–∞—é –ø–æ—á–µ–º—É)','–∞–≤—Ç–æ—Ä –∂–≥–∏, –∫–æ–Ω—Ç–µ–Ω—Ç –≥–æ–¥–Ω—ã–π','–ø—Ä–∏—à—ë–ª –∏–∑ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π, –Ω–µ –∂–∞–ª–µ—é','—É—é—Ç–Ω—ã–π –∫–∞–Ω–∞–ª, –ø–æ–¥–ø–∏—à—É—Å—å –ø–æ–∂–∞–ª—É–π','–∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞, –Ω–∞–¥–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–∞–º–æ–º—É']
    },
    { name:'–ú–∞—Ä–∏–Ω–∞_–ö', color:'#7B1FA2', type:'fan',
      patterns:[
        {kw:['–º–∏–ª–æ','–º–∏–ª—ã–π','–º–∏–ª–∞—è','–∫—Ä–∞—Å–∏–≤'], r:['–æ–π –ø—Ä–∞–≤–¥–∞ –º–∏–ª–æ ü•∞ –∫–ª–∏–ø–ø–∏ —Ç–∞–∫–æ–π –∑–∞–±–∞–≤–Ω—ã–π','–∫–∞–∫–æ–π –º–∏–ª—ã–π —Å—Ç–∏–ª—å! –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ –≤—Ä–µ–º–µ–Ω–∞']},
        {kw:['—Å—Ç—Ä–∞—à–Ω–æ','–∂—É—Ç–∫–æ','—É–∂–∞—Å','üò±'], r:['–Ω–µ–º–Ω–æ–≥–æ –∂—É—Ç–∫–æ–≤–∞—Ç–æ –∫–æ–≥–¥–∞ —Ç–∞—Ä–∞–∫–∞–Ω—ã –ª–µ–∑—É—Ç, –Ω–æ —Ç–µ—Ä–ø–∏–º–æ üòÖ','—è –∞–∂ –≤–∑–¥—Ä–æ–≥–Ω—É–ª–∞ –∫–æ–≥–¥–∞ –±–æ—Å—Å –ø–æ—è–≤–∏–ª—Å—è üò∞']},
        {kw:['—Å–º–µ—à–Ω–æ','–∞—Ö–∞—Ö','–ª–æ–ª'], r:['–∞—Ö–∞—Ö —Ä–æ—Ñ–ª—é —Å —ç—Ç–∏—Ö —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ üòÇ','—Ä–µ–∫–ª–∞–º–Ω—ã–µ –ø–æ–ø–∞–ø—ã ‚Äî —ç—Ç–æ –≥–µ–Ω–∏–∞–ª—å–Ω–æ, –æ—Ä—É ü§£']},
      ],
      fallback:['–∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ! üôÇ','–∞ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç?','–ø–æ–¥–ø–∏—Å–∞–ª–∞—Å—å, –∂–¥—É –Ω–æ–≤—ã–µ –≤–∏–¥–µ–æ','–∑–≤—É–∫ –º–æ–ª–æ—Ç–∫–∞ –æ—Ä—É üòÇ','–∫—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω —É –∏–≥—Ä—ã','–æ–≥–æ, –¥–∞–∂–µ –Ω–µ –∑–Ω–∞–ª–∞ —á—Ç–æ —Ç–∞–∫–æ–µ –±—ã–≤–∞–µ—Ç']
    },
    { name:'–°–µ—Ä—ë–≥–∞_–≥–µ–π–º–µ—Ä', color:'#1B5E20', type:'fan',
      patterns:[
        {kw:['—É—Ä–æ–≤–µ–Ω—å','–ª–µ–≤–µ–ª','–ø—Ä–æ–π—Ç–∏','–ø—Ä–æ—Ö–æ–∂–¥'], r:['–ø—Ä–æ—à—ë–ª 6 —É—Ä–æ–≤–Ω–µ–π, –ø–æ–∫–∞ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. 7 —É—Ä–æ–≤–µ–Ω—å –∑–≤–µ—Ä—Å–∫–∏–π','–Ω–∞ –∫–∞–∫–æ–º —É—Ä–æ–≤–Ω–µ –±–æ—Å—Å? –∞ —Ç–æ —è –∂–¥—É –∏ –Ω–µ –¥–æ–∂–¥—É—Å—å']},
        {kw:['–º–æ–ª–æ—Ç–æ–∫','üî®','–æ—Ä—É–∂–∏–µ'], r:['–º–æ–ª–æ—Ç–æ–∫ –∏–º–±–∞, –±–µ–∑ –Ω–µ–≥–æ –≤–æ–æ–±—â–µ –Ω–∏–∫–∞–∫ –ø–æ—Å–ª–µ 3 —É—Ä–æ–≤–Ω—è','–º–æ–ª–æ—Ç–æ–∫ + –ª–æ–≤—É—à–∫–∏ = easy mode']},
      ],
      fallback:['–Ω–æ—Ä–º','–∑–∞—à–ª–æ üëç','–∏–≥—Ä–∞–ª –≤—á–µ—Ä–∞ 2 —á–∞—Å–∞, –Ω–µ –∑–∞–º–µ—Ç–∏–ª –∫–∞–∫ –≤—Ä–µ–º—è –ø—Ä–æ—à–ª–æ','–∫–∞–π—Ñ','–∞ –æ–Ω–ª–∞–π–Ω –±—É–¥–µ—Ç? —Ö–æ—á—É —Å –¥—Ä—É–≥–æ–º –∏–≥—Ä–∞—Ç—å','–≥–æ–¥–Ω–æ—Ç–∞, –ø–æ–±–æ–ª—å—à–µ –±—ã —Ç–∞–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞']
    },

    // --- –§–ò–õ–û–°–û–§ (–≥–ª—É–±–æ–∫–æ–º—ã—Å–ª–µ–Ω–Ω—ã–π, —Ä–∞—Å—Å—É–∂–¥–∞–µ—Ç –æ –∂–∏–∑–Ω–∏) ---
    { name:'–§–∏–ª–æ—Å–æ—Ñ_–≤_—Å–µ—Ç–∏', color:'#5D4037', type:'neutral',
      patterns:[
        {kw:['—Ç–∞—Ä–∞–∫–∞–Ω','–∂—É–∫','ü™≥'], r:['–ê –µ—Å–ª–∏ –∑–∞–¥—É–º–∞—Ç—å—Å—è... —Ç–∞—Ä–∞–∫–∞–Ω—ã –ø—Ä–æ—Å—Ç–æ —Ö–æ—Ç—è—Ç –∂–∏—Ç—å. –ö—Ç–æ –º—ã —á—Ç–æ–±—ã –∏–º –º–µ—à–∞—Ç—å?','–¢–∞—Ä–∞–∫–∞–Ω—ã –∫–∞–∫ –º–µ—Ç–∞—Ñ–æ—Ä–∞ –ø—Ä–æ–±–ª–µ–º ‚Äî –±—å—ë—à—å –æ–¥–Ω–æ–≥–æ, –ø–æ—è–≤–ª—è–µ—Ç—Å—è –¥–µ—Å—è—Ç—å...']},
        {kw:['—Ö–∞–æ—Å','chaos','–ø—Ä–æ–±–ª–µ–º'], r:['–•–∞–æ—Å ‚Äî –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ–ª–µ–Ω–Ω–æ–π. –ú—ã –ª–∏—à—å –ø—ã—Ç–∞–µ–º—Å—è —Å–æ–∑–¥–∞—Ç—å –ø–æ—Ä—è–¥–æ–∫ –≤ –æ–∫–µ–∞–Ω–µ —ç–Ω—Ç—Ä–æ–ø–∏–∏.','100% —Ö–∞–æ—Å–∞ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –Ω–µ–ø—Ä–∏–Ω—è—Ç–∞—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å. –ú–æ–∂–µ—Ç, –Ω–µ —Å—Ç–æ–∏—Ç –±–æ—Ä–æ—Ç—å—Å—è?']},
        {kw:['—Å–º—ã—Å–ª','–∑–∞—á–µ–º','–ø–æ—á–µ–º—É'], r:['–ó–∞—á–µ–º –º—ã –∏–≥—Ä–∞–µ–º? –ú–æ–∂–µ—Ç, —ç—Ç–æ –∏–≥—Ä–∞ –∏–≥—Ä–∞–µ—Ç –≤ –Ω–∞—Å...','–•–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å. –û—Ç–≤–µ—Ç, –∫–∞–∫ –∏ —Ç–∞—Ä–∞–∫–∞–Ω—ã, –≥–¥–µ-—Ç–æ –∑–∞ –æ–±–æ—è–º–∏...']},
      ],
      fallback:['–ö–∞–∂–¥—ã–π —Ç–∞—Ä–∞–∫–∞–Ω ‚Äî —ç—Ç–æ –Ω–µ—Ä–µ—à—ë–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∂–∏–∑–Ω–∏...','–ò–Ω—Ç–µ—Ä–Ω–µ—Ç ‚Äî —ç—Ç–æ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–µ –±–µ—Å—Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ–µ –Ω–∞—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏','–ê –≤–µ–¥—å –º—ã –≤—Å–µ –Ω–µ–º–Ω–æ–≥–æ –æ–∂–∏–≤—à–∏–µ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã...','–ì–ª—É–±–æ–∫–æ... –ó–∞—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–¥—É–º–∞—Ç—å—Å—è...','–ú–æ–Ω–∏—Ç–æ—Ä –∫–∞–∫ –æ–∫–Ω–æ –≤ –¥—É—à—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞','–ú—ã –Ω–µ –±—å—ë–º —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤. –ú—ã –±—å—ë–º —Å–≤–æ–∏ —Å—Ç—Ä–∞—Ö–∏.']
    },

    // --- –ó–£–ú–ï–† (–º–µ–º—ã, —Å–ª–µ–Ω–≥, –∏—Ä–æ–Ω–∏—è) ---
    { name:'skibidi_fan_228', color:'#FF5722', type:'kid',
      patterns:[
        {kw:['–∫—Ä—É—Ç–æ','—Ç–æ–ø','–æ–≥–æ–Ω—å','–ª—É—á—à'], r:['—à–µ–µ–µ–µ—à —ç—Ç–æ –±—É—Å—Ç—å —Ñ—Ä —Ñ—Ä ü•∂','–Ω–æ—É –∫—ç–ø —ç—Ç–æ —Å–ª—ç–π üíÖ','–±–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ –∏ —Ç–∞—Ä–∞–∫–∞–Ω–æ-–ø–∏–ª–ª–µ–¥ üóø']},
        {kw:['–ø–ª–æ—Ö–æ','–∫—Ä–∏–Ω–∂','—Ñ—É','–æ—Ç—Å—Ç–æ–π'], r:['L + ratio + –Ω–µ —Å–ø—Ä–∞—à–∏–≤–∞–ª–∏ üóø','–º–∏–¥ + –∫–∞–ø–∏–±–∞—Ä–∞ –Ω–µ –æ–¥–æ–±—Ä—è–µ—Ç','skill issue fr fr üíÄ']},
        {kw:['—Ç–∞—Ä–∞–∫–∞–Ω','–∂—É–∫'], r:['cockroach sigma grindset üí™üóø','—Ç–∞—Ä–∞–∫–∞–Ω—ã lowkey are valid','—Ç–∞—Ä–∞–∫–∞–Ω—ã —ç—Ç–æ –ª–æ—Ä, –≤—ã –Ω–µ –ø–æ–Ω—è–ª–∏ üß†']},
      ],
      fallback:['üóøüóøüóø','—à–µ–µ–µ—à ü•∂','—ç—Ç–æ –±–∞–∑–∞','—Å–∫–∏–±–∏–¥–∏ üíÄ','–∫–æ–≥–¥–∞ —Å–∞–º–æ–∑–≤–∞–Ω–µ—Ü –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π üò≥','fr fr no cap','—Å–∏–≥–º–∞ –≥—Ä–∞–π–Ω–¥—Å–µ—Ç üê∫','–≤–∞–π–± —á–µ–∫: –ø—Ä–æ—à—ë–ª ‚úÖ','–∞ –µ—Å–ª–∏ –ø–æ–¥—É–º–∞—Ç—å —Ç–æ —ç—Ç–æ lowkey fire']
    },
    { name:'–ú–µ–º–æ–õ–æ—Ä–¥420', color:'#E65100', type:'kid',
      patterns:[
        {kw:['—Å–º–µ—à–Ω–æ','–∞—Ö–∞—Ö','–ª–æ–ª','üòÇ'], r:['–æ—Ç–ø—Ä–∞–≤–∏–ª –¥—Ä—É–≥—É, –æ–Ω —Ç–æ–∂–µ —Ä–∂—ë—Ç üíÄ','–º–µ–º –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ç—É—Ç –æ–≥—Ä–æ–º–Ω—ã–π','—ç—Ç–æ –Ω–æ–≤—ã–π –º–µ–º —Ñ–æ—Ä–º–∞—Ç??? ü§î']},
        {kw:['—Ä–µ–∫–ª–∞–º–∞','–ø–æ–ø–∞–ø','—Å–∫–∞—á–∞—Ç—å'], r:['—Ä–µ–∫–ª–∞–º–∞ —Ç—É—Ç —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–µ–µ —á–µ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ üíÄ','—è –Ω–∞–∂–∞–ª —Å–∫–∞—á–∞—Ç—å –∏ –Ω–µ –∂–∞–ª–µ—é... –æ–π –ø–æ–¥–æ–∂–¥–∏—Ç–µ','—Ä–µ–∫–ª–∞–º–Ω—ã–π –±–ª–æ–∫: –∫—É–ø–∏—Ç–µ —Ç–∞—Ä–∞–∫–∞–Ω–∞–º –µ–¥—É ü™≥üçï']},
      ],
      fallback:['amogus','üíÄüíÄ —è –º—ë—Ä—Ç–≤','–≤–∞–π–±: ‚úÖ –∫—Ä–∏–Ω–∂: ‚ùå','when —Ç–∞—Ä–∞–∫–∞–Ω is sus üò≥','–ª–∞–¥–Ω–æ —è —Å–¥–µ–ª–∞—é –∏–∑ —ç—Ç–æ–≥–æ –º–µ–º','POV: —Ç—ã —Å–º–æ—Ç—Ä–∏—à—å —ç—Ç–æ –≤ 3 –Ω–æ—á–∏','—è –æ—Ç–ø—Ä–∞–≤–ª—é —ç—Ç–æ –º–∞–º–µ –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞']
    },

    // --- –†–ï–ë–Å–ù–û–ö (—Å –æ—à–∏–±–∫–∞–º–∏, –Ω–∞–∏–≤–Ω—ã–π) ---
    { name:'xX–î–∏–Ω–æ–∑–∞–≤—Ä–∏–∫Xx', color:'#E91E63', type:'kid',
      patterns:[
        {kw:['–∫—Ä—É—Ç–æ','–∫–ª–∞—Å—Å','—Ç–æ–ø','–æ–≥–æ–Ω—å'], r:['—ç—Ç–∞ –∫—Ä—É—Ç–∞–∞–∞–∞–∞!!!!1!1','–º–∞–º–∞ —Å–º–æ—Ç—Ä–∏ —Ç—É—Ç –∫—Ä—É—Ç–æ!!!!','—Ç–æ–ø —Ç–æ–ø —Ç–æ–ø!!!!! ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è']},
        {kw:['—Ç–∞—Ä–∞–∫–∞–Ω','–∂—É–∫','ü™≥'], r:['—Ñ—É—É—É—É —Ç–∞—Ä–∞–∫–∞–Ω—ã –±–µ–µ–µ–µ ü§¢ü§¢','–∞ —Ç–∞—Ä–∞–∫–∞–Ω—ã –∫—É—Å–∞—é—Ç—å—Å—è?? üò∞','—è –∞–¥–∏–Ω —Ä–∞–∑ –≤–∏–¥–µ–ª —Ç–∞—Ä–∞–∫–∞–Ω–∞ –∏ –∑–∞–ø–ª–∞–∫–∞–ª üò≠']},
        {kw:['–∏–≥—Ä–∞','–∏–≥—Ä–∞—Ç—å','–∏–≥—Ä–∞—é'], r:['—è —Ç–æ–∂–µ —Ö–∞—á—É –∏–≥—Ä–∞—Ç—å!!! –∫–∞–∫ —Å–∫–∞—á—è—Ç—å?????','–∞ —ç—Ç–∞ –∏–≥—Ä–∞ –±–∏—Å–ø–ª–∞—Ç–Ω–∞—è???','–º–Ω–µ –º–∞–º–∞ –Ω–µ —Ä–∞–∑—Ä–∏—à–∞–µ—Ç –∏–≥—Ä–∞—Ç—å üò≠üò≠']},
      ],
      fallback:['–ø–µ—Ä–≤—ã–π!!1!','–∫—Ç–æ —Ç—É—Ç??? –ø—Ä–∏–≤–µ—Ç—Ç!!! üëãüëã','–∞ –º–Ω–µ 8 –ª–µ—Ç –∏ —è —Ç—É—Ç!!! üòé','–ø–æ–¥–ø–∏—à–∏—Ç–µ—Å –Ω–∞ –º–æ–π –∫–∞–Ω–∞–ª –ø–∂ üôèüôèüôè','—Å—Ç–∞–≤—Ç–µ –ª–∞–π–∫ –∫—Ç–æ —á–∏—Ç–∞–µ—Ç –≤ 2026!!!! ‚ù§Ô∏è','–∫—Ç–æ –∏–∑ —Ä–æ—Å–∏–∏ –ª–∞–π–∫!!! üá∑üá∫','–∞ —É –º–∏–Ω—è —Ç–æ–∂–µ –µ—Å—Ç—å —é—Ç—É–± –∫–∞–Ω–∞–ª!!!']
    },
    { name:'–ü—É–ø—Å–∏–∫_2018', color:'#9C27B0', type:'kid',
      patterns:[
        {kw:['—Å—Ç—Ä–∞—à–Ω–æ','–∂—É—Ç–∫–æ','—É–∂–∞—Å','üò±'], r:['–ê–ê–ê–ê –ú–ê–ú–ê–ê–ê–ê–ê üò≠üò≠üò≠üò≠','—è –∏—Å–ø—É–≥–∞–ª–∞—Å—å –∏ —É—Ä–∞–Ω–∏–ª–∞ —Ç–µ–ª–∏—Ñ–æ–Ω','—Å—Ç–æ–æ–æ–ø —è –±–∞—é—Å—å!!! üò∞üò∞']},
        {kw:['—Å–º–µ—à–Ω–æ','–∞—Ö–∞—Ö','–ª–æ–ª'], r:['–∞—Ö–∞—Ö–∞—Ö–∞—Ö —è —Ä–∂—É –Ω–µ–º–∞–≥—É üòÇüòÇüòÇüòÇ','–ª–æ–æ–æ–æ–æ–ª —ç—Ç–æ —Å–∞–º–æ–µ —Å–º–∏—à–Ω–æ–µ –≤–∏–¥–∏–æ','—è –ø–∞–∫–∞–∑–∞–ª–∞ –º–∞–º–µ –æ–Ω–∞ —Ç–æ–∂–µ —Å–º–∏—è–ª–∞—Å—å ü§£']},
      ],
      fallback:['–ø—Ä–∏–≤–µ–µ–µ–µ—Ç –≤—Å–µ–º–º–º!!! üå∏üå∏','–∫—Ç–æ —Ö–æ—á–µ—Ç –¥—Ä—É–∂–∏—Ç—å?? –ø–∏—à—ã—Ç–µ!! üíñ','–∞ —è —Å–º–∞—Ä—é —ç—Ç–æ –≤–∏–¥–∏–æ –ø–µ—Ä–µ–¥ —Å–Ω–æ–º','–ª–∞–π–∫ –µ—Å–ª–∏ —Ç—ã –¥–æ–±—Ä—ã–π —á–µ–ª–æ–≤–∏–∫ ‚ù§Ô∏è','–∫—Ç–æ –∏–∑ 2026 –≥–æ–¥–∞???','—è —Ç—É—Ç –Ω–æ–≤–∏–Ω—å–∫–∞—è –ø—Ä–∏–≤–µ—Ç! üëã']
    },

    // --- –ë–û–¢ / –°–ü–ê–ú–ï–† (—Ä–µ–∫–ª–∞–º–∞, —à–∞–±–ª–æ–Ω—ã, –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏) ---
    { name:'FREE_MONEY_BOT', color:'#888', type:'neutral',
      patterns:[
        {kw:['–¥–µ–Ω—å–≥–∏','$','—Ñ–∞—Ä–º','–∑–∞—Ä–∞–±–æ—Ç'], r:['üî• –ë–ï–°–ü–õ–ê–¢–ù–´–ï $999! –ñ–º–∏ –Ω–∞ –º–æ–π –∞–≤–∞—Ç–∞—Ä! üî•','–Ø –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—é $5000 –≤ –¥–µ–Ω—å! –°–ø—Ä–æ—Å–∏ –∫–∞–∫!','–ü–†–û–ú–û–ö–û–î "COCKROACH" = –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º–æ–ª–æ—Ç–æ–∫ (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)']},
      ],
      fallback:['üî• –ü–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ –º–æ–π –∫–∞–Ω–∞–ª! –†–æ–∑—ã–≥—Ä—ã—à iPhone!!! üî•','–ö—Ç–æ —Ö–æ—á–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –¥–µ–Ω—å–≥–∏ –ø–∏—à–∏—Ç–µ –º–Ω–µ!!!','üí∞ –ó–ê–†–ê–ë–û–¢–û–ö –ë–ï–ó –í–õ–û–ñ–ï–ù–ò–ô –∂–º–∏ —Å—Å—ã–ª–∫—É –≤ –ø—Ä–æ—Ñ–∏–ª–µ üí∞','–ß–∏—Ç –Ω–∞ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –¥–µ–Ω—å–≥–∏: Alt+F4','–†–∞–∑–¥–∞—é –ø—Ä–æ–º–æ–∫–æ–¥—ã, –ø–µ—Ä–≤—ã–º 100 –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º!!!','‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ –ø—Ä–∏–∑! –ù–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ!']
    },

    // --- –°–ö–ï–ü–¢–ò–ö (–≤—Å—ë –ø–æ–¥–≤–µ—Ä–≥–∞–µ—Ç —Å–æ–º–Ω–µ–Ω–∏—é, –Ω–æ –Ω–µ –≥—Ä—É–±–∏—Ç) ---
    { name:'–ù–µ–í–µ—Ä—é–ù–∏–í–æ–ß—Ç–æ', color:'#666', type:'neutral',
      patterns:[
        {kw:['—Ä–µ–∫–æ—Ä–¥','–ª—É—á—à–∏–π','–ø–µ—Ä–≤—ã–π','—á–µ–º–ø–∏–æ–Ω'], r:['–ø—Ä—É—Ñ—ã –≥–¥–µ? –Ω–∞ —Å–ª–æ–≤–∞—Ö –≤—Å–µ —á–µ–º–ø–∏–æ–Ω—ã','100% –º–æ–Ω—Ç–∞–∂, –≤ —Ä–µ–∞–ª–µ —Ç–∞–∫ –Ω–µ –±—ã–≤–∞–µ—Ç','–∞ –ø–æ—Ç–æ–º –≤—Å–µ –∑–∞—Ö–ª–æ–ø–∞–ª–∏, –∞–≥–∞...']},
        {kw:['–∫—Ä—É—Ç–æ','–∫–ª–∞—Å—Å','—Å—É–ø–µ—Ä'], r:['–Ω—É —Ç–∞–∫–æ–µ... –≤–∏–¥–∞–ª –∏ –ø–æ–ª—É—á—à–µ','–Ω–∞ 6 –∏–∑ 10, –Ω–µ –±–æ–ª–µ–µ','–Ω–æ—Ä–º, –Ω–æ –Ω–∏—á–µ–≥–æ –Ω–æ–≤–æ–≥–æ']},
      ],
      fallback:['—Å–æ–º–Ω–∏—Ç–µ–ª—å–Ω–æ... ü§®','–Ω–µ –≤–µ—Ä—é üßê','–ø—Ä—É—Ñ—ã? –Ω–µ—Ç—É? —Ç–∞–∫ –∏ –¥—É–º–∞–ª','–º–¥–∞, –æ–∂–∏–¥–∞–ª –±–æ–ª—å—à–µ–≥–æ –µ—Å–ª–∏ —á–µ—Å—Ç–Ω–æ','–∞ –∫–æ–º—É-—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –Ω—Ä–∞–≤–∏—Ç—Å—è?','–ø–æ—Å–º–æ—Ç—Ä–∏–º, –ø–æ–∫–∞ –Ω–µ –≤–ø–µ—á–∞—Ç–ª—ë–Ω']
    },

    // --- –ù–û–°–¢–ê–õ–¨–ì–ò–ö (—Å—Ç–∞—Ä—ã–π —é–∑–µ—Ä, –≤—Å—ë —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å –ø—Ä–æ—à–ª—ã–º) ---
    { name:'–î—è–¥—è_–°–ª–∞–≤–∞_56', color:'#3E2723', type:'neutral',
      patterns:[
        {kw:['windows','–≤–∏–Ω–¥–æ–≤—Å','–≤–∏–Ω–¥–∞','xp','95','98'], r:['–≠—Ö, –≤–æ—Ç –ø—Ä–∏ WinXP —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ –Ω–µ –±—ã–ª–æ... –≤—Å—ë —Ä–∞–±–æ—Ç–∞–ª–æ!','–ü–æ–º–Ω—é –µ—â—ë Win95 ‚Äî –∑–æ–ª–æ—Ç—ã–µ –≤—Ä–µ–º–µ–Ω–∞! –ê –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –±—ã–ª –ø–æ –º–æ–¥–µ–º—É!','Win98 SE ‚Äî –ª—É—á—à–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤ –∏—Å—Ç–æ—Ä–∏–∏. –ù–µ —Å–ø–æ—Ä—å—Ç–µ.']},
        {kw:['—Å—Ç–∞—Ä—ã–π','—Ä–∞–Ω—å—à–µ','–ø–æ–º–Ω—é','–Ω–æ—Å—Ç–∞–ª—å–≥'], r:['–ù–æ—Å—Ç–∞–ª—å–≥–∏—è... —Ä–∞–Ω—å—à–µ –∫–Ω–æ–ø–∫–∏ –Ω–µ –±–µ–≥–∞–ª–∏, –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä —É–≤–∞–∂–∞–ª–∏!','–†–∞–Ω—å—à–µ —Ç—Ä–∞–≤–∞ –∑–µ–ª–µ–Ω–µ–µ –±—ã–ª–∞, –∞ —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ –º–µ–Ω—å—à–µ!','–í –Ω–∞—à–µ –≤—Ä–µ–º—è –∏–≥—Ä—ã –Ω–∞ –¥–∏—Å–∫–µ—Ç–∞—Ö –±—ã–ª–∏, –∏ –Ω–∏—á–µ–≥–æ ‚Äî –∏–≥—Ä–∞–ª–∏!']},
      ],
      fallback:['–í –Ω–∞—à–µ –≤—Ä–µ–º—è —Ç–∞–∫–æ–≥–æ –Ω–µ –±—ã–ª–æ...','–ú–Ω–µ —ç—Ç–æ—Ç –∑–≤—É–∫ –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç Win95 üñ•Ô∏è','–ú–æ–ª–æ–¥—ë–∂—å, –≤—ã –Ω–µ –∑–Ω–∞–µ—Ç–µ –Ω–∞—Å—Ç–æ—è—â–∏—Ö –∫–æ–º–ø–æ–≤!','–ü–æ–º–Ω—é –ø–µ—Ä–≤—ã–π —Ä–∞–∑ —É–≤–∏–¥–µ–ª –º—ã—à–∫—É, –¥—É–º–∞–ª —ç—Ç–æ —É—Ç—é–≥','–†–∞–Ω—å—à–µ –∏ —Ç—Ä–∞–≤–∞ –∑–µ–ª–µ–Ω–µ–µ, –∏ –ø–∏–∫—Å–µ–ª–∏ –∫—Ä—É–ø–Ω–µ–µ','–≠—Ö—Ö... –∞ –≤–µ–¥—å –º–Ω–µ –±—ã–ª–æ 20 –∫–æ–≥–¥–∞ XP –≤—ã—à–ª–∞']
    },

    // --- –ü–û–ó–ò–¢–ò–í–ù–ê–Ø –î–ï–í–£–®–ö–ê ---
    { name:'–ù–∞—Å—Ç—è‚ú®', color:'#EC407A', type:'fan',
      patterns:[
        {kw:['–º–∏–ª–æ','–∫—Ä–∞—Å–∏–≤','–º–∏–ª—ã–π','–∫–ª–∏–ø–ø–∏'], r:['–æ–π –∫–∞–∫–æ–π –º–∏–ª—ã–π –∫–ª–∏–ø–ø–∏! ü•∞ —Ö–æ—á—É –µ–≥–æ –æ–±–Ω—è—Ç—å','—ç—Ç–æ —Å–∞–º–∞—è –º–∏–ª–∞—è –∏–≥—Ä–∞ –∫–æ—Ç–æ—Ä—É—é —è –≤–∏–¥–µ–ª–∞ üíñ','–∞ –∫–ª–∏–ø–ø–∏ –º–æ–∂–Ω–æ –ø–æ–≥–ª–∞–¥–∏—Ç—å? üòÇüìé']},
        {kw:['—Å—Ç—Ä–∞—à–Ω–æ','–∂—É—Ç–∫–æ','—É–∂–∞—Å'], r:['–æ–π–æ–π, –Ω–µ–º–Ω–æ–≥–æ —Å—Ç—Ä–∞—à–Ω–æ–≤–∞—Ç–æ, –Ω–æ —Ç–µ—Ä–ø–∏–º–æ üòÖ','–ø–∞—É–∫–∏ ‚Äî –Ω–µ—Ç, —Å–ø–∞—Å–∏–±–æ, —è –ø–∞—Å üï∑Ô∏èüò±','—Ç–∞—Ä–∞–∫–∞–Ω—ã –µ—â—ë –ª–∞–¥–Ω–æ, –Ω–æ –±–æ—Å—Å... üíÄ']},
      ],
      fallback:['–∫–∞–∫–æ–µ –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω–æ–µ –≤–∏–¥–µ–æ! üí´','–º–Ω–µ —Ç–∞–∫ –Ω—Ä–∞–≤–∏—Ç—Å—è —ç—Ç–æ—Ç —Å—Ç–∏–ª—å! üå∏','–∫—Ç–æ –µ—â—ë –∑–∞–ª–∏–ø –Ω–∞ —ç—Ç–æ? —Ç–æ–ª—å–∫–æ —è? üòÖ','–æ–±–æ–∂–∞—é —Ç–∞–∫–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç! ‚ù§Ô∏è','–ø–æ–¥–ø–∏—Å–∞–ª–∞—Å—å, –∂–¥—É –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ! ‚ú®','—ç—Ç–æ —Ç–∞–∫ —É—é—Ç–Ω–æ –ø–æ—á–µ–º—É-—Ç–æ ü•∞']
    },

    // ===== –ù–û–í–´–ï –¢–û–ö–°–ò–ö–ò =====
    { name:'–≥–∞–¥—ë–Ω—ã—à_777', color:'#b71c1c', type:'hater',
      patterns:[
        {kw:['–∫—Ä—É—Ç–æ','–∫–ª–∞—Å—Å','—Ç–æ–ø','–Ω—Ä–∞–≤–∏—Ç'], r:['–∫–æ–º—É —ç—Ç–æ –Ω—Ä–∞–≤–∏—Ç—Å—è, –≤—ã —Å–µ—Ä—å—ë–∑–Ω–æ?? –≤–∞—Å –º–∞–ª–æ –±–∏–ª–∏ –≤ —à–∫–æ–ª–µ','—É –∞–≤—Ç–æ—Ä–∞ IQ –∫–∞–∫ —É —Ç–∞—Ä–∞–∫–∞–Ω–∞, –∏ —ç—Ç–æ –Ω–µ –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç','—è –≤ —à–æ–∫–µ —á—Ç–æ —ç—Ç–æ –Ω–∞–±–∏—Ä–∞–µ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä—ã']},
        {kw:['–ª–∞–π–∫','–ø–æ–¥–ø–∏—Å–∫–∞','–ø–æ–¥–ø–∏—à'], r:['–Ω–∞ —á—Ç–æ —Ç—É—Ç –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è? –Ω–∞ –º—É—Å–æ—Ä–∫—É?','–Ω–∞–∫—Ä—É—Ç–∫–∞ 100%, –±–æ—Ç–æ—Ñ–µ—Ä–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç','–ª–∞–π–∫–∞—é—Ç –≤–∏–¥–∏–º–æ —Ç–æ–ª—å–∫–æ –∑–Ω–∞–∫–æ–º—ã–µ –∞–≤—Ç–æ—Ä–∞']},
      ],
      fallback:['—è –±—ã –¥–∏–∑–ª–∞–π–∫–Ω—É–ª –¥–≤–∞–∂–¥—ã –µ—Å–ª–∏ –±—ã –º–æ–≥','—ç—Ç–æ—Ç –∫–∞–Ω–∞–ª ‚Äî –æ—à–∏–±–∫–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞','–∑–∞—á–µ–º —è —Ç—Ä–∞—á—É —Å–≤–æ—é –∂–∏–∑–Ω—å –Ω–∞ —ç—Ç–æ','–∞–≤—Ç–æ—Ä, –∏–¥–∏ –∑–∞–π–º–∏—Å—å —á–µ–º-—Ç–æ –ø–æ–ª–µ–∑–Ω—ã–º','—Ö—É–∂–µ —ç—Ç–æ–≥–æ —Ç–æ–ª—å–∫–æ –∑—É–±–Ω–∞—è –±–æ–ª—å','–ø–æ–º–æ–≥–∏—Ç–µ, –º–µ–Ω—è –∑–∞—Å—Ç–∞–≤–∏–ª–∏ —ç—Ç–æ —Å–º–æ—Ç—Ä–µ—Ç—å']
    },
    { name:'–ö–∏–±–µ—Ä–í–æ–∏–Ω_RU', color:'#c62828', type:'hater',
      patterns:[
        {kw:['–∏–≥—Ä–∞','–∏–≥—Ä–∞—Ç—å','–≥–µ–π–º–ø–ª–µ–π'], r:['—ç—Ç–æ –Ω–µ –∏–≥—Ä–∞, –∞ –ø–æ–¥–µ–ª–∫–∞ —à–∫–æ–ª—å–Ω–∏–∫–∞ –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ','—è –≤–∏–¥–µ–ª –ª—É—á—à–∏–µ –∏–≥—Ä—ã –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö 2008 –≥–æ–¥–∞','–≥–µ–π–º–ø–ª–µ–π —É—Ä–æ–≤–Ω—è "–º–æ–π –ø–µ—Ä–≤—ã–π –ø—Ä–æ–µ–∫—Ç"']},
        {kw:['–ø–æ–º–æ–≥–∏','–ø–æ–º–æ—â','–∫–∞–∫','—Å–ª–æ–∂–Ω–æ'], r:['–º–æ–∂–µ—Ç —Ç–µ–±–µ –∫–Ω–∏–∂–∫—É-—Ä–∞—Å–∫—Ä–∞—Å–∫—É? —ç—Ç–æ –ø—Ä–æ—â–µ –±—É–¥–µ—Ç','–≥—É–≥–ª –∑–∞–±–∞–Ω–∏–ª–∏? –∏–ª–∏ —á–∏—Ç–∞—Ç—å –Ω–µ —É–º–µ–µ—à—å?','–µ—Å–ª–∏ —ç—Ç–æ —Å–ª–æ–∂–Ω–æ ‚Äî –±—Ä–æ—Å–∞–π –∏–≥—Ä—ã, –Ω–µ —Ç–≤–æ—ë']},
      ],
      fallback:['–º–¥–∞, –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è','—è –ø–ª–∞–∫–∞–ª. –æ—Ç —Ç–æ–≥–æ –∫–∞–∫–æ–µ —ç—Ç–æ —É–±–æ–∂–µ—Å—Ç–≤–æ','—Ä–∞–Ω—å—à–µ —Ö–æ—Ç—å —Å—Ç—ã–¥–∏–ª–∏—Å—å —Ç–∞–∫–æ–µ –≤—ã–∫–ª–∞–¥—ã–≤–∞—Ç—å','–∏–Ω—Ç–µ—Ä–Ω–µ—Ç –±—ã–ª –æ—à–∏–±–∫–æ–π','–∞ –∞–≤—Ç–æ—Ä—É —Å–∫–æ–ª—å–∫–æ? 9?','—Å—Ç–∞–≤–ª—é 0 –∏–∑ 10, –∏ —ç—Ç–æ —â–µ–¥—Ä–æ']
    },
    { name:'–ù–ï–ù–ê–í–ò–ñ–£_–í–°–ï–•', color:'#d50000', type:'hater',
      patterns:[
        {kw:['—Å–º–µ—à–Ω–æ','–∞—Ö–∞—Ö','–ª–æ–ª','üòÇ'], r:['–ù–ò–ß–ï–ì–û –°–ú–ï–®–ù–û–ì–û –¢–£–¢ –ù–ï–¢','–≤–∞—à —é–º–æ—Ä = –º–æ–π –∫—Ä–∏–Ω–∂','—Å–º–µ—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ —É –∫–æ–≥–æ –º–æ–∑–≥ –Ω–∞ –ø–∞—É–∑–µ']},
        {kw:['–∫—Ä—É—Ç–æ','–º–æ–ª–æ–¥–µ—Ü','—Ä–µ—Å–ø–µ–∫—Ç'], r:['–ú–û–õ–û–î–ï–¶?? –ó–ê –ß–¢–û?? –∑–∞ –ø–æ—Ç–µ—Ä—é –º–æ–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏??','—Ä–µ—Å–ø–µ–∫—Ç –∑–∞ —á—Ç–æ? –∑–∞ —É–º–µ–Ω–∏–µ –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É –∑–∞–ø–∏—Å–∏?','—Ä–∞—Å—Å–∫–∞–∂–∏—Ç–µ –º–Ω–µ –∑–∞ —á—Ç–æ —Ç—É—Ç —Ö–≤–∞–ª–∏—Ç—å. —è –∂–¥—É.']},
      ],
      fallback:['–î–ò–ó–õ–ê–ô–ö','–≤—Å—ë, —Å –º–µ–Ω—è —Ö–≤–∞—Ç–∏—Ç','–£–î–ê–õ–ò–¢–ï –≠–¢–û –ò–ó –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ô','—è —Ç—Ä–µ–±—É—é –≤–µ—Ä–Ω—É—Ç—å –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è','–Ω–æ–ª—å. –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –Ω–æ–ª—å.','–º–Ω–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –ø–ª–æ—Ö–æ –æ—Ç —ç—Ç–æ–≥–æ –≤–∏–¥–µ–æ','–ú–û–î–ï–†–ê–¢–û–†–´!!!']
    },
    { name:'—Ö–µ–π—Ç–µ—Ä_—Å_–¥–∏–≤–∞–Ω–∞', color:'#bf360c', type:'hater',
      patterns:[
        {kw:['—É—Ä–æ–≤–µ–Ω—å','–ª–µ–≤–µ–ª','–ø—Ä–æ–π—Ç–∏'], r:['–ø—Ä–æ—à—ë–ª –∑–∞ 5 –º–∏–Ω—É—Ç, –Ω–µ—á–µ–º —Ö–≤–∞—Å—Ç–∞—Ç—å—Å—è','—É—Ä–æ–≤–Ω–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ, —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–∞ —Ä–∞–∑–Ω—ã–µ, –ª–µ–Ω—å','–ª—é–±–æ–π –¥—É—Ä–∞–∫ –ø—Ä–æ–π–¥—ë—Ç –µ—Å–ª–∏ –µ—Å—Ç—å –≤—Ä–µ–º—è']},
        {kw:['–¥–µ–Ω—å–≥–∏','$','–∫—É–ø–∏—Ç—å','–º–∞–≥–∞–∑'], r:['$12 –∑–∞ –ø–∏–∫—Å–µ–ª—å–Ω—ã–π –º–æ–ª–æ—Ç–æ–∫, –∞–≤—Ç–æ—Ä –æ–±–Ω–∞–≥–ª–µ–ª','–∞ –º–æ–∂–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–æ? –∞, –Ω–µ, –∂–∞–¥–Ω–æ—Å—Ç—å –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç','–≤ –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö –∏–≥—Ä–∞—Ö –¥–æ–Ω–∞—Ç –Ω–µ –Ω—É–∂–µ–Ω']},
      ],
      fallback:['–º–æ–≥ –±—ã –∏ —Å–∞–º —Å–Ω—è—Ç—å –ª—É—á—à–µ, –Ω–æ –ª–µ–Ω—å','–æ—á–µ—Ä–µ–¥–Ω–æ–π –º—É—Å–æ—Ä –≤ –ª–µ–Ω—Ç–µ','–∑–µ–≤–æ—Ç–∞','–±–µ—Å–ø–æ–ª–µ–∑–Ω–∞—è —Ç—Ä–∞—Ç–∞ –±–∞–π—Ç–æ–≤','–∫—Ç–æ —Å–º–æ—Ç—Ä–∏—Ç —ç—Ç–æ ‚Äî —É —Ç–æ–≥–æ –Ω–µ—Ç –¥—Ä—É–∑–µ–π','–º–æ–≥—É –¥–∞—Ç—å 100 —Å–æ–≤–µ—Ç–æ–≤ –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å –ª—É—á—à–µ, –Ω–æ –Ω–µ –±—É–¥—É']
    },
    { name:'–°–æ—Å–µ–¥–ü–æ–ü–æ–¥—ä–µ–∑–¥—É', color:'#e65100', type:'hater',
      patterns:[
        {kw:['–∑–≤—É–∫','–º—É–∑—ã–∫–∞','—à—É–º'], r:['–í–´–ö–õ–Æ–ß–ò–¢–ï –≠–¢–û–¢ –®–£–ú!!! –õ–Æ–î–ò –°–ü–Ø–¢!!!','–æ–ø—è—Ç—å –≥—Ä–æ—Ö–æ—Ç, —è –≤ –ø–æ–ª–∏—Ü–∏—é –ø–æ–∑–≤–æ–Ω—é','–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–ø–æ–∫–æ–π–Ω–æ –∂–∏—Ç—å –≤ —ç—Ç–æ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ']},
        {kw:['—Ç–∞—Ä–∞–∫–∞–Ω','–∂—É–∫','ü™≥'], r:['—É –º–µ–Ω—è –æ—Ç —ç—Ç–æ–≥–æ –≤–∏–¥–µ–æ —Ç–∞—Ä–∞–∫–∞–Ω—ã –ø–æ—è–≤–∏–ª–∏—Å—å','—Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ —Ä–µ–∫–ª–∞–º–∏—Ä—É–µ—Ç–µ?? —è –≤ —Ä–æ—Å–ø–æ—Ç—Ä–µ–±–Ω–∞–¥–∑–æ—Ä','–∞ —Ç—Ä–∞–≤–∏—Ç—å –∫—Ç–æ –±—É–¥–µ—Ç? –∞–≤—Ç–æ—Ä?']},
      ],
      fallback:['–≤–µ—á–Ω–æ —à—É–º–∏—Ç–µ —Å–≤–æ–∏–º–∏ –≤–∏–¥–µ–æ!!','–¢–ò–®–ï!!!','—è –ø–æ–∂–∞–ª—É—é—Å—å –Ω–∞ —ç—Ç–æ—Ç –∫–∞–Ω–∞–ª','–≤ –Ω–∞—à–µ –≤—Ä–µ–º—è —Ç–∞–∫–æ–≥–æ –±–µ–∑–æ–±—Ä–∞–∑–∏—è –Ω–µ –±—ã–ª–æ','–≥–¥–µ –∫–Ω–æ–ø–∫–∞ "–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è"??','—É–ø—Ä–∞–≤–ª—è—é—â–∞—è –∫–æ–º–ø–∞–Ω–∏—è —é—Ç—É–±–∞!!! –ø—Ä–∏–º–∏—Ç–µ –º–µ—Ä—ã!!!']
    },
    { name:'–í—Å—ë–ó–Ω–∞–π–∫–∞', color:'#ad1457', type:'hater',
      patterns:[
        {kw:['—Ñ–∞–∫—Ç','–ø—Ä–∞–≤–¥–∞','—Ä–µ–∞–ª—å–Ω','–Ω–∞—Å—Ç–æ—è—â'], r:['–≤–æ–æ–±—â–µ-—Ç–æ —ç—Ç–æ –Ω–µ–ø—Ä–∞–≤–¥–∞, –Ω–æ –≤–∞–º –∂–µ –ø–ª–µ–≤–∞—Ç—å –Ω–∞ —Ñ–∞–∫—Ç—ã','–Ω—É –∫–æ–Ω–µ—á–Ω–æ, –æ—á–µ—Ä–µ–¥–Ω–∞—è –ª–æ–∂—å –¥–ª—è –¥–æ–≤–µ—Ä—á–∏–≤—ã—Ö','—è –ø—Ä–æ–≤–µ—Ä–∏–ª ‚Äî –≤—Å—ë –≤—Ä–∞–Ω—å—ë']},
        {kw:['—Å–æ–≤–µ—Ç','–≥–∞–π–¥','–∫–∞–∫'], r:['—É–∂–∞—Å–Ω—ã–π —Å–æ–≤–µ—Ç, –¥–µ–ª–∞–π—Ç–µ –Ω–∞–æ–±–æ—Ä–æ—Ç','—ç—Ç–æ—Ç –≥–∞–π–¥ –Ω–∞–ø–∏—Å–∞–ª —á–µ–ª–æ–≤–µ–∫ –∫–æ—Ç–æ—Ä—ã–π —Å–∞–º –Ω–µ –ø—Ä–æ—à—ë–ª','—Å–ª–µ–¥–æ–≤–∞—Ç—å —ç—Ç–æ–º—É = –ø—Ä–æ–∏–≥—Ä–∞—Ç—å']},
      ],
      fallback:['–≤–æ–æ–±—â–µ-—Ç–æ –≤—ã –≤—Å–µ –Ω–µ–ø—Ä–∞–≤—ã','—è —Ä–∞–∑–±–∏—Ä–∞—é—Å—å –≤ —ç—Ç–æ–º –ª—É—á—à–µ –≤—Å–µ—Ö —Ç—É—Ç','—Ç–∏–ø–∏—á–Ω–æ–µ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ –Ω–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã—Ö –ª—é–¥–µ–π','–Ω—É –Ω–µ—Ç, –≤—Å—ë –Ω–µ —Ç–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç','–ø–æ–∑–≤–æ–ª—å—Ç–µ –º–Ω–µ, —ç–∫—Å–ø–µ—Ä—Ç—É, –æ–±—ä—è—Å–Ω–∏—Ç—å...','—Ñ–µ–π—Å–ø–∞–ª–º –æ—Ç –≤–∞—à–µ–π –±–µ–∑–≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏']
    },

    // ===== –ù–û–í–´–ï –ù–û–†–ú–ê–õ–¨–ù–´–ï =====
    { name:'–î–∏–º–∞_–∏–∑_–ü–∏—Ç–µ—Ä–∞', color:'#1565C0', type:'fan',
      patterns:[
        {kw:['–∫—Ä—É—Ç–æ','–∫–ª–∞—Å—Å','–Ω—Ä–∞–≤–∏—Ç','–≥–æ–¥–Ω–æ'], r:['–Ω—É –¥–∞, –≥–æ–¥–Ω–æ, –Ω–µ –æ–∂–∏–¥–∞–ª','–Ω–æ—Ä–º –∫–æ–Ω—Ç–µ–Ω—Ç, –¥–ª—è –≤–µ—á–µ—Ä–∞ —Å–∞–º–æ–µ —Ç–æ','–º–Ω–µ –∑–∞—à–ª–æ, —á—ë']},
        {kw:['—Å–ª–æ–∂–Ω–æ','—Ç—Ä—É–¥–Ω–æ','–∑–∞—Å—Ç—Ä—è–ª'], r:['—è –Ω–∞ 4 —É—Ä–æ–≤–Ω–µ –ø–æ–¥–∑–∞—Å—Ç—Ä—è–ª, –Ω–æ –ø–æ—Ç–æ–º –ø–æ–Ω—è–ª —Ñ–∏—à–∫—É','–Ω–µ, –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ø—Ä–æ—Å—Ç–æ –Ω–∞–¥–æ –ø—Ä–∏–≤—ã–∫–Ω—É—Ç—å','–∫—É–ø–∏ –ª–æ–≤—É—à–∫–∏ –∏ –≤—Å—ë —Å—Ç–∞–Ω–µ—Ç –ª–µ–≥—á–µ, —Å–µ—Ä—å—ë–∑–Ω–æ']},
      ],
      fallback:['–∑–∞—à–ª–æ','–≤–µ—á–µ—Ä–æ–º –µ—â—ë –≥–ª—è–Ω—É','–∞ –Ω–∏—á–æ —Ç–∞–∫','–∑–∞–Ω—è—Ç–Ω–∞—è —à—Ç—É–∫–∞','–ø–∏—Ç–µ—Ä –æ–¥–æ–±—Ä—è–µ—Ç üëç','–Ω–æ—Ä–º –≤–∏–¥–æ—Å, –≤ –∑–∞–∫–ª–∞–¥–∫–∏']
    },
    { name:'–û–ª–µ–≥_–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç', color:'#0277BD', type:'fan',
      patterns:[
        {kw:['–±–∞–≥','–≥–ª—é–∫','–æ—à–∏–±–∫','–∫—Ä–∞—à–∏—Ç','–ª–∞–≥'], r:['—ç—Ç–æ –Ω–µ –±–∞–≥, —ç—Ç–æ —Ñ–∏—á–∞, —è –∫–∞–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –≥–æ–≤–æ—Ä—é','–ø–æ–ø—Ä–æ–±—É–π F5, –ø–æ–º–æ–≥–∞–µ—Ç –≤ 90% —Å–ª—É—á–∞–µ–≤','–ª–∞–≥–∏? —É –º–µ–Ω—è –≤—Å—ë –ø–ª–∞–≤–Ω–æ, –ø—Ä–æ–≤–µ—Ä—å —Å–≤–æ–π –±—Ä–∞—É–∑–µ—Ä']},
        {kw:['–∫–æ–¥','–ø—Ä–æ–≥—Ä–∞–º–º','—Ä–∞–∑—Ä–∞–±','javascript','js'], r:['–∫–∞–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å–∫–∞–∂—É ‚Äî –∫–æ–¥ —á–∏—Å—Ç—ã–π, —É–≤–∞–∂–∞—é','–≤–∞–Ω–∏–ª—å–Ω—ã–π JS –±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤? —ç—Ç–æ –æ–ª–¥—Å–∫—É–ª!','–∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, —è –±—ã –Ω–∞ —Ä–µ–≤—å—é –æ–¥–æ–±—Ä–∏–ª']},
      ],
      fallback:['—Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ ‚Äî —Å–æ–ª–∏–¥–Ω–æ','—Ä–∞–±–æ—Ç–∞–µ—Ç? –∑–Ω–∞—á–∏—Ç –Ω–µ —Ç—Ä–æ–≥–∞–π!','–∞ –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ –æ—Ç–∫—Ä—ã—Ç—ã–µ?','–∫–∞–∫ –¥–µ–≤–µ–ª–æ–ø–µ—Ä —Å—Ç–∞–≤–ª—é 8/10','–Ω–µ–ø–ª–æ—Ö–æ–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ','–¥–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥!']
    },
    { name:'–ö–∞—Ç—è_–¥–∏–∑–∞–π–Ω–µ—Ä', color:'#6A1B9A', type:'fan',
      patterns:[
        {kw:['–∫—Ä–∞—Å–∏–≤','–¥–∏–∑–∞–π–Ω','—Å—Ç–∏–ª—å','—Ü–≤–µ—Ç','–æ—Ñ–æ—Ä–º'], r:['–¥–∏–∑–∞–π–Ω –ø—Ä—è–º —Ä–µ—Ç—Ä–æ, –æ–±–æ–∂–∞—é —ç—Ç–æ—Ç —Å—Ç–∏–ª—å! üé®','—Ü–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ –æ–≥–æ–Ω—å, –∫—Ç–æ –¥–µ–ª–∞–ª?','–≤–∏–∑—É–∞–ª—å–Ω–æ –æ—á–µ–Ω—å –ø—Ä–∏—è—Ç–Ω–æ, –Ω–æ—Å—Ç–∞–ª—å–≥–∏—è –ø–æ Win95']},
        {kw:['–∏–∫–æ–Ω–∫','–∫–Ω–æ–ø–∫','–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å','ui'], r:['–∏–∫–æ–Ω–∫–∏ —Ç–∞–∫–∏–µ –º–∏–ª–µ–Ω—å–∫–∏–µ, –ø—Ä—è–º pixel art –≤–∞–π–±','–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–ª–¥—Å–∫—É–ª—å–Ω—ã–π, —è –±—ã –Ω–∞ Behance –≤—ã–ª–æ–∂–∏–ª–∞','UX –∫–æ–Ω–µ—á–Ω–æ —Å–ø–æ—Ä–Ω—ã–π, –Ω–æ —Å—Ç–∏–ª—å –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å—ë']},
      ],
      fallback:['–≤–∏–∑—É–∞–ª—å–Ω–æ ‚Äî —Ç–æ–ø üé®','—ç—Å—Ç–µ—Ç–∏–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ','–∫–∞–∫ –¥–∏–∑–∞–π–Ω–µ—Ä –æ–¥–æ–±—Ä—è—é','—Ö–æ—á—É –æ–±–æ–∏ —Å —ç—Ç–∏–º–∏ –∏–∫–æ–Ω–∫–∞–º–∏','–∞ –º–µ—Ä—á –±—É–¥–µ—Ç? —Ö–æ—á—É —Å—Ç–∏–∫–µ—Ä—ã! üåü','palette: approved ‚úÖ']
    },
    { name:'–ê–Ω–¥—Ä–µ–π_28', color:'#2E7D32', type:'fan',
      patterns:[
        {kw:['–≤–µ—á–µ—Ä','–Ω–æ—á—å','—Å–ø–∞—Ç—å','–ø–æ–∑–¥–Ω–æ'], r:['—Å–º–æ—Ç—Ä—é –≤ 3 –Ω–æ—á–∏, –∑–∞–≤—Ç—Ä–∞ –Ω–∞ —Ä–∞–±–æ—Ç—É... –Ω—É –∏ –ª–∞–¥–Ω–æ','–Ω–µ –º–æ–≥—É –æ—Ç–æ—Ä–≤–∞—Ç—å—Å—è, —É–∂–µ 2 —á–∞—Å–∞ —Å–∏–∂—É','–µ—â—ë –æ–¥–Ω–æ –≤–∏–¥–µ–æ –∏ —Å–ø–∞—Ç—å... –ª–∞–¥–Ω–æ, –µ—â—ë –¥–≤–∞']},
        {kw:['—Ä–∞–±–æ—Ç–∞','–æ—Ñ–∏—Å','–Ω–∞—á–∞–ª—å–Ω'], r:['—Å–º–æ—Ç—Ä—é –Ω–∞ —Ä–∞–±–æ—Ç–µ, –Ω–∞—á–∞–ª—å–Ω–∏–∫ –Ω–µ –≤–∏–¥–∏—Ç üòÇ','—ç—Ç–æ –ª—É—á—à–µ –ª—é–±–æ–≥–æ —Ç–∏–º–±–∏–ª–¥–∏–Ω–≥–∞','–∞ –∫—Ç–æ –µ—â—ë —Å —Ä–∞–±–æ—Ç—ã —Å–º–æ—Ç—Ä–∏—Ç? –Ω–µ —è –æ–¥–∏–Ω –Ω–∞–¥–µ—é—Å—å']},
      ],
      fallback:['–Ω–æ—Ä–º–∞–ª—å–Ω–æ, –æ–¥–æ–±—Ä—è—é','—Å–º–æ—Ç—Ä–∏–±–µ–ª—å–Ω–æ –Ω–∞ –≤—Å–µ 100','–∑–∞—Ç—è–≥–∏–≤–∞–µ—Ç, –Ω–µ –æ–∂–∏–¥–∞–ª','–ª–∞–¥–Ω–æ, –µ—â—ë —Å–µ—Ä–∏—é','–∫—Ç–æ –±—ã –º–æ–≥ –ø–æ–¥—É–º–∞—Ç—å —á—Ç–æ –∑–∞–ª–∏–ø–Ω—É –Ω–∞ —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤','–∞ –Ω–µ–ø–ª–æ—Ö–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ']
    },
    { name:'–õ–µ–Ω–∞_–º–∞–º–∞', color:'#C2185B', type:'fan',
      patterns:[
        {kw:['—Ä–µ–±—ë–Ω–æ–∫','–¥–µ—Ç–∏','–º–∞–ª—ã—à','—Ä–µ–±–µ–Ω–æ–∫','—Å—ã–Ω','–¥–æ—á—å'], r:['–º–æ–π —Å—ã–Ω –æ–±–æ–∂–∞–µ—Ç —ç—Ç—É –∏–≥—Ä—É, –µ–º—É 10','–ø–æ–∫–∞–∑–∞–ª–∞ –¥–æ—á–∫–µ, —Ç–µ–ø–µ—Ä—å –Ω–µ –æ—Ç–æ—Ä–≤–∞—Ç—å –æ—Ç –∫–æ–º–ø–∞ üòÖ','–∞ –¥–ª—è –¥–µ—Ç–µ–π —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ? —Å–ø—Ä–∞—à–∏–≤–∞—é –∫–∞–∫ –º–∞–º–∞']},
        {kw:['—Å—Ç—Ä–∞—à–Ω–æ','–∂—É—Ç–∫–æ','—É–∂–∞—Å','–ø–∞—É–∫'], r:['–Ω–µ —Å–ª–∏—à–∫–æ–º –ª–∏ —Å—Ç—Ä–∞—à–Ω–æ –¥–ª—è –¥–µ—Ç–µ–π? ü§î','–º–æ–π –∏—Å–ø—É–≥–∞–ª—Å—è –ø–∞—É–∫–æ–≤, –ø—Ä–∏—à–ª–æ—Å—å –≤—ã–∫–ª—é—á–∏—Ç—å','–∞ –º–æ–∂–Ω–æ –±–µ–∑ –ø–∞—É–∫–æ–≤? —Ä–µ–±—ë–Ω–æ–∫ –±–æ–∏—Ç—Å—è']},
      ],
      fallback:['–∞ –¥–ª—è –∫–∞–∫–æ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞ —ç—Ç–æ?','–º—ã —Å —Å—ã–Ω–æ–º —Å–º–æ—Ç—Ä–∏–º –≤–º–µ—Å—Ç–µ ü•∞','–∫–∞–∫ –º–∞–º–∞ –æ–¥–æ–±—Ä—è—é, –Ω–∞—Å–∏–ª–∏—è –Ω–µ—Ç','—Ö–æ—Ä–æ—à–æ —á—Ç–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ','–∑–∞–ø–æ–º–Ω—é, –ø–æ–∫–∞–∂—É —Ä–µ–±—ë–Ω–∫—É','–∞ –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?']
    },
    { name:'–í–∞–Ω—è_15–ª–µ—Ç', color:'#388E3C', type:'fan',
      patterns:[
        {kw:['—É—Ä–æ–≤–µ–Ω—å','–ª–µ–≤–µ–ª','–ø—Ä–æ–π—Ç–∏','–ø—Ä–æ—Ö–æ–∂–¥'], r:['—è —É–∂–µ –Ω–∞ 7 —É—Ä–æ–≤–Ω–µ, –∫—Ç–æ —Å–æ –º–Ω–æ–π?','–ø—Ä–æ—à—ë–ª 5 —É—Ä–æ–≤–µ–Ω—å —Å –ø–µ—Ä–≤–æ–π –ø–æ–ø—ã—Ç–∫–∏, easy','–Ω–∞ 6 —É—Ä–æ–≤–Ω–µ –±–æ—Å—Å ‚Äî –∂–µ—Å—Ç—å, –Ω–æ —Ä–µ–∞–ª—å–Ω–æ']},
        {kw:['–º–æ–ª–æ—Ç–æ–∫','üî®','–æ—Ä—É–∂–∏–µ','–ª–æ–≤—É—à–∫'], r:['–º–æ–ª–æ—Ç–æ–∫ –∏–º–±–∞, —Å–æ–≤–µ—Ç—É—é –≤—Å–µ–º –±—Ä–∞—Ç—å –ø–µ—Ä–≤—ã–º','–ª–æ–≤—É—à–∫–∏ + –º–æ–ª–æ—Ç–æ–∫ = –≤–∏–Ω –∫–æ–º–±–æ','–±–µ–∑ –º–æ–ª–æ—Ç–∫–∞ –ø–æ—Å–ª–µ 3 —É—Ä–æ–≤–Ω—è –Ω–µ—Ä–µ–∞–ª—å–Ω–æ']},
      ],
      fallback:['–∫–∞–π—Ñ üî•','–≥–æ –∏–≥—Ä–∞—Ç—å –≤–º–µ—Å—Ç–µ?','—Ç–æ–ø –∫–æ–Ω—Ç–µ–Ω—Ç','–ø–æ–¥–ø–∏—Å–∞–ª—Å—è','–∞ —Å—Ç—Ä–∏–º –∫–æ–≥–¥–∞?','–¥–µ–ª–∞—é –≤–∏–¥–µ–æ –ø–æ —ç—Ç–æ–π –∏–≥—Ä–µ —Å–∫–æ—Ä–æ']
    },

    // ===== –ù–û–í–´–ï –ó–£–ú–ï–†–´ / –ú–ï–ú–ï–†–´ =====
    { name:'based_sigma_01', color:'#E64A19', type:'kid',
      patterns:[
        {kw:['–∫—Ä—É—Ç–æ','—Ç–æ–ø','–±–∞–∑–∞','based'], r:['real and based üóø','—ç—Ç–æ literally –º–æ–π –≤–∞–π–±','W take, –ø—Ä–∏–Ω—è—Ç–æ']},
        {kw:['–ø–ª–æ—Ö–æ','–∫—Ä–∏–Ω–∂','–º–∏–¥'], r:['massive L','cringe detected üíÄ','–º–∏–¥ take, rejected']},
      ],
      fallback:['üóø','sigma energy','literally me','based','–º–∏–¥ –∏–ª–∏ –±–∞–∑–∞? –±–∞–∑–∞.','ong fr fr','no cap detected','this is giving']
    },
    { name:'—Ç–∏–∫—Ç–æ–∫_–∑–≤–µ–∑–¥–∞', color:'#FF1744', type:'kid',
      patterns:[
        {kw:['—Ç–∞–Ω–µ—Ü','—Ç–∞–Ω—Ü—É','–¥–≤–∏–∂'], r:['–∞ –¥–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º —Ç–∏–∫—Ç–æ–∫ —Ç–∞–Ω–µ—Ü —Å —Ç–∞—Ä–∞–∫–∞–Ω–æ–º üíÉ','—è –±—ã —Å–Ω—è–ª–∞ —Ç–∏–∫—Ç–æ–∫ –Ω–∞ —ç—Ç–æ','trending sound –∫–æ–≥–¥–∞?']},
        {kw:['–≤–∏—Ä—É—Å','—Ç—Ä–µ–Ω–¥','–ø–æ–ø—É–ª—è—Ä–Ω'], r:['—ç—Ç–æ –≤–∏—Ä—É—Å–∏—Ç—Å—è!!! —Å–∫–æ—Ä–æ –≤ —Ç—Ä–µ–Ω–¥–∞—Ö!','OMG —ç—Ç–æ –±—É–¥–µ—Ç –Ω–æ–≤—ã–π —Ç—Ä–µ–Ω–¥','—É–∂–µ –≤–∏–∂—É 100500 —Ç–∏–∫—Ç–æ–∫–æ–≤ –Ω–∞ —ç—Ç–æ']},
      ],
      fallback:['—ç—Ç–æ –Ω–∞–¥–æ –≤ —Ç–∏–∫—Ç–æ–∫ –≤—ã–ª–æ–∂–∏—Ç—å üì±','—Å–Ω–∏–º–∞—é —Ä–µ–∞–∫—Ü–∏—é –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å','–ø–æ–≤: —Ç—ã –Ω–∞—à—ë–ª –ª—É—á—à–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç','–∫—Ç–æ –∏–∑ —Ç–∏–∫—Ç–æ–∫–∞? —Å—Ç–∞–≤—å—Ç–µ ü§ç','–∞ –±—É–¥–µ—Ç —á–∞—Å—Ç—å 2??','viral material!!! üî•']
    },
    { name:'–∏—Ä–æ–Ω–∏—è_2026', color:'#FF6D00', type:'kid',
      patterns:[
        {kw:['–∫—Ä—É—Ç–æ','—Ç–æ–ø','–ª—É—á—à','—à–µ–¥–µ–≤—Ä'], r:['–¥–∞, –∫–æ–Ω–µ—á–Ω–æ, "—à–µ–¥–µ–≤—Ä" (–∏—Ä–æ–Ω–∏—è)','—Ç–æ–ø –∫–æ–Ω—Ç–µ–Ω—Ç, –∫–∞–∫ –∏ –≤—Å—ë –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ (–Ω–µ—Ç)','–ª—É—á—à–µ–µ —á—Ç–æ —è –≤–∏–¥–µ–ª (—Å–µ–≥–æ–¥–Ω—è) (–±–æ–ª—å—à–µ –Ω–∏—á–µ–≥–æ –Ω–µ –≤–∏–¥–µ–ª)']},
        {kw:['–ø–ª–æ—Ö–æ','—É–∂–∞—Å','–∫—Ä–∏–Ω–∂'], r:['–Ω—É —ç—Ç–æ –∂–µ –∏—Ä–æ–Ω–∏—è... –ø—Ä–∞–≤–¥–∞?','—è –Ω–∞–¥–µ—é—Å—å —ç—Ç–æ —Å–∞—Ä–∫–∞–∑–º...','–∞ –º–æ–∂–µ—Ç —ç—Ç–æ –≥–µ–Ω–∏–∞–ª—å–Ω–æ –∏ –º—ã –ø—Ä–æ—Å—Ç–æ –Ω–µ –ø–æ–Ω–∏–º–∞–µ–º? (–Ω–µ—Ç)']},
      ],
      fallback:['(—ç—Ç–æ –∏—Ä–æ–Ω–∏—è)','–ª–∞–¥–Ω–æ, –¥–æ–ø—É—Å—Ç–∏–º','–∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤—ã–±–æ—Ä —Å–ª–æ–≤','–æ—Ü–µ–Ω–∏–ª. –∏–ª–∏ –Ω–µ—Ç. –∫—Ç–æ –∑–Ω–∞–µ—Ç.','üôÉ','–Ω—É –æ–∫','—Ç–∞–∫ –∏ –∑–∞–ø–∏—à–µ–º...','—è –Ω–µ –∑–Ω–∞—é –∫–∞–∫ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —ç—Ç–æ']
    },
    { name:'PoZiTiV_4iK', color:'#F57C00', type:'kid',
      patterns:[
        {kw:['–≥—Ä—É—Å—Ç–Ω–æ','–ø–ª–æ—Ö–æ','–ø–µ—á–∞–ª—å','–ø–ª–∞—á—É'], r:['–Ω–µ –≥—Ä—É—Å—Ç–∏ –±—Ä–æ–æ–æ!!! –≤—Å—ë –±—É–¥–µ—Ç –æ–∫!!! üí™üòé','—É–ª—ã–±–Ω–∏—Å—å! –∂–∏–∑–Ω—å –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞!! üåàüåà','–ü–û–ó–ò–¢–ò–í –í–°–ï–ú!!!']},
        {kw:['–∫—Ä—É—Ç–æ','–∫–ª–∞—Å—Å','—Ç–æ–ø'], r:['–î–ê–ê–ê–ê –ö–†–£–¢–û–û–û!!! üî•üî•üî•üî•','–û–ì–û!!! –ú–ï–ì–ê –ö–û–ù–¢–ï–ù–¢!!!','–Ø –í –í–û–°–¢–û–†–ì–ï!!!!! ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è']},
      ],
      fallback:['–í–°–ï–ú –•–û–†–û–®–ï–ì–û –î–ù–Ø!!! ‚òÄÔ∏è','–ü–û–ó–ò–¢–ò–í!!! üåà','–≠–¢–û –õ–£–ß–®–ò–ô –î–ï–ù–¨!!! üí™','–û–ë–ù–ò–ú–ê–Æ –í–°–ï–•!!! ü§ó','–ñ–ò–ó–ù–¨ –ü–†–ï–ö–†–ê–°–ù–ê!!! ‚òÄÔ∏è‚ù§Ô∏è','–≠–ù–ï–†–ì–ò–Ø 100%!!! ‚ö°‚ö°']
    },

    // ===== –ù–û–í–´–ï –ù–ï–ô–¢–†–ê–õ–¨–ù–´–ï =====
    { name:'–ü—Ä–æ—Å—Ç–æ_–ß–∏—Ç–∞—é', color:'#757575', type:'neutral',
      patterns:[
        {kw:['–∫–æ–º–º–µ–Ω—Ç','–ø–∏—à—É—Ç','–æ–±—Å—É–∂–¥'], r:['—è –æ–±—ã—á–Ω–æ –Ω–µ –ø–∏—à—É –∫–æ–º–º–µ–Ω—Ç—ã, –Ω–æ —Ç—É—Ç –Ω–µ —É–¥–µ—Ä–∂–∞–ª—Å—è','–ø–µ—Ä–≤—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∑–∞ 3 –≥–æ–¥–∞...','–æ–±—ã—á–Ω–æ —è –º–æ–ª—á–∞ —á–∏—Ç–∞—é, –Ω–æ —Ç—É—Ç –Ω–∞–¥–æ —Å–∫–∞–∑–∞—Ç—å']},
      ],
      fallback:['...','–æ–∫','–Ω—É —Ç–∞–∫–æ–µ','üëÄ','—á–∏—Ç–∞—é –∫–æ–º–º–µ–Ω—Ç—ã, –æ–Ω–∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ –≤–∏–¥–µ–æ','–º–æ–ª—á–∞ –Ω–∞–±–ª—é–¥–∞—é','–±–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤... —Ö–æ—Ç—è —ç—Ç–æ —É–∂–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π']
    },
    { name:'–ú–∞–º–∫–∏–Ω–ö—Ä–∏—Ç–∏–∫', color:'#546E7A', type:'neutral',
      patterns:[
        {kw:['–∫–∞—á–µ—Å—Ç–≤','–º–æ–Ω—Ç–∞–∂','–ø—Ä–æ–¥–∞–∫—à'], r:['–º–æ–Ω—Ç–∞–∂ 3/10, –∑–≤—É–∫ 5/10, –∏–¥–µ—è 7/10','–∫–∞—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –º–æ–≥–ª–æ –±—ã—Ç—å –ª—É—á—à–µ','–ø—Ä–æ–¥–∞–∫—à–µ–Ω –Ω–∏–∂–µ —Å—Ä–µ–¥–Ω–µ–≥–æ, –Ω–æ –∏–¥–µ—è —Å–ø–∞—Å–∞–µ—Ç']},
        {kw:['—Å—é–∂–µ—Ç','–∏—Å—Ç–æ—Ä–∏','—Å—Ü–µ–Ω–∞—Ä'], r:['—Å—Ü–µ–Ω–∞—Ä–∏–π –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π, –Ω–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–ø–∞—Å–∞–µ—Ç','–Ω–∞—Ä—Ä–∞—Ç–∏–≤ —Å–ª–∞–±–æ–≤–∞—Ç, –Ω–æ –¥–ª—è —é—Ç—É–±–∞ —Å–æ–π–¥—ë—Ç','–∏—Å—Ç–æ—Ä–∏—è –ø–ª–æ—Å–∫–∞—è, –Ω–æ —Ç–∞—Ä–∞–∫–∞–Ω—ã –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É—é—Ç']},
      ],
      fallback:['6.5/10, –º–æ–≥–ª–æ –±—ã—Ç—å –ª—É—á—à–µ','—Å—Ä–µ–¥–Ω–µ, –Ω–æ –Ω–µ —É–∂–∞—Å–Ω–æ','–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –µ—Å—Ç—å, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ö—Ä–æ–º–∞–µ—Ç','–¥–ª—è —é—Ç—É–±–∞ ‚Äî –≤—ã—à–µ —Å—Ä–µ–¥–Ω–µ–≥–æ','—Å—Ç–∞–≤–ª—é 7/10 –∞–≤–∞–Ω—Å–æ–º','–Ω–µ —à–µ–¥–µ–≤—Ä, –Ω–æ —Å–º–æ—Ç—Ä–∏–±–µ–ª—å–Ω–æ']
    },
    { name:'–±–æ—Ç_–ø–µ—Ä–µ–≤–æ–¥—á–∏–∫', color:'#78909C', type:'neutral',
      patterns:[
        {kw:['english','–∞–Ω–≥–ª','–ø–µ—Ä–µ–≤–æ–¥','translate'], r:['Translation: this video is about living computer with cockroaches ü™≥','English summary: man fights cockroaches, chaos ensues','For English speakers: just click things and have fun']},
      ],
      fallback:['[EN] Nice video! [RU] –ö–ª–∞—Å—Å! [ES] Genial!','Translating comments... please wait...','üåê This comment available in 47 languages','–ü–µ—Ä–µ–≤–æ–∂—É: "–∫—Ä–∏–Ω–∂" = "cringe", –ø–æ–∂–∞–ª—É–π—Å—Ç–∞','Bot v3.2: multilingual support enabled','[Auto-translate] –¢–∞—Ä–∞–∫–∞–Ω = Cockroach ü™≥']
    },
    { name:'–ü–µ–Ω—Å–∏–æ–Ω–µ—Ä_–ò–≤–∞–Ω—ã—á', color:'#4E342E', type:'neutral',
      patterns:[
        {kw:['–º–æ–ª–æ–¥','–¥–µ—Ç–∏','—Ä–µ–±—ë–Ω','–ø–æ–∫–æ–ª–µ–Ω'], r:['–º–æ–ª–æ–¥—ë–∂—å —Å–æ–≤—Å–µ–º –¥—Ä—É–≥–∞—è —Å—Ç–∞–ª–∞... –º—ã –≤ –≤–∞—à–∏ –≥–æ–¥—ã –Ω–∞ —É–ª–∏—Ü–µ –≥—É–ª—è–ª–∏','–¥–µ—Ç–∏! –∏–¥–∏—Ç–µ —É—Ä–æ–∫–∏ –¥–µ–ª–∞—Ç—å! –∞ –Ω–µ –≤ –∫–æ–º–ø—å—é—Ç–µ—Ä –ø—è–ª–∏—Ç—å—Å—è!','–≤ –Ω–∞—à–µ –≤—Ä–µ–º—è —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è –±—ã–ª–∏ –¥—Ä—É–≥–∏–µ ‚Äî –∫–Ω–∏–≥–∏, —à–∞—Ö–º–∞—Ç—ã...']},
        {kw:['–∏–≥—Ä–∞','–∏–≥—Ä–∞—Ç—å','–∫–æ–º–ø—å—é—Ç'], r:['–æ–ø—è—Ç—å —ç—Ç–∏ –∏–≥—Ä—ã... –ª—É—á—à–µ –±—ã –∫–Ω–∏–∂–∫—É –ø–æ—á–∏—Ç–∞–ª–∏','–∫–æ–º–ø—å—é—Ç–µ—Ä –ø–æ—Ä—Ç–∏—Ç –∑—Ä–µ–Ω–∏–µ! —è –≤—Ä–∞—á –∑–Ω–∞—é!','40 –ª–µ—Ç –±–µ–∑ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –∂–∏–ª –∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!']},
      ],
      fallback:['–Ω–µ –ø–æ–Ω–∏–º–∞—é –∑–∞—á–µ–º —ç—Ç–æ, –Ω–æ –≤–Ω—É–∫—É –Ω—Ä–∞–≤–∏—Ç—Å—è','–≤–Ω—É–∫ –ø–æ–∫–∞–∑–∞–ª, —è –≤ —à–æ–∫–µ –æ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞','–∞ –∫–∞–∫ —Ç—É—Ç –≤—ã–∫–ª—é—á–∏—Ç—å?','–∫—Ç–æ-–Ω–∏–±—É–¥—å, –ø–æ–∑–æ–≤–∏—Ç–µ –≤–Ω—É–∫–∞, —è –∑–∞—Å—Ç—Ä—è–ª','—Ä–∞–Ω—å—à–µ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä 3 –∫–∞–Ω–∞–ª–∞ –ø–æ–∫–∞–∑—ã–≤–∞–ª –∏ —Ö–≤–∞—Ç–∞–ª–æ','–≥–¥–µ –∫–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥??']
    },
    { name:'–ü—Å–∏—Ö–æ–ª–æ–≥_–û–Ω–ª–∞–π–Ω', color:'#00695C', type:'neutral',
      patterns:[
        {kw:['–∑–ª–æ—Å—Ç—å','–∑–ª–æ–π','–±–µ—Å–∏—Ç','–Ω–µ–Ω–∞–≤–∏–∂'], r:['–í–∏–∂—É –∞–≥—Ä–µ—Å—Å–∏—é. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≥–ª—É–±–æ–∫–∏–π –≤–¥–æ—Ö. –í–∞–º —Å—Ç–∞–Ω–µ—Ç –ª–µ–≥—á–µ.','–ó–ª–æ—Å—Ç—å ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –ù–æ –¥–∞–≤–∞–π—Ç–µ –≤—ã—Ä–∞–∂–∞—Ç—å –µ—ë –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ.','–•–æ—Ç–∏—Ç–µ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å –æ–± —ç—Ç–æ–º? –ü–µ—Ä–≤–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ.']},
        {kw:['–≥—Ä—É—Å—Ç–Ω–æ','–ø–ª–∞—á—É','–ø–µ—á–∞–ª—å','–æ–¥–∏–Ω–æ–∫'], r:['–í–∞—à–∏ —á—É–≤—Å—Ç–≤–∞ –≤–∞–∂–Ω—ã. –ü–æ–º–Ω–∏—Ç–µ: –≤—ã –Ω–µ –æ–¥–∏–Ω–æ–∫–∏.','–ò–Ω–æ–≥–¥–∞ –≥—Ä—É—Å—Ç–∏—Ç—å ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –û–±–Ω–∏–º–∏—Ç–µ —Å–µ–±—è ü§ó','–ï—Å–ª–∏ –≤–∞–º —Ç—è–∂–µ–ª–æ ‚Äî –ø–æ–≥–æ–≤–æ—Ä–∏—Ç–µ —Å –±–ª–∏–∑–∫–∏–º–∏. –ò–ª–∏ —Å —Ç–∞—Ä–∞–∫–∞–Ω–æ–º ü™≥']},
      ],
      fallback:['–ò–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –≥—Ä—É–ø–ø–æ–≤–∞—è –¥–∏–Ω–∞–º–∏–∫–∞ –≤ —ç—Ç–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö...','–†–µ–∫–æ–º–µ–Ω–¥—É—é –≤—Å–µ–º digital detox','–ó–∞–º–µ—Ç—å—Ç–µ, –∫–∞–∫ –≤–∏–¥–µ–æ –≤—ã–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —ç–º–æ—Ü–∏–∏ —É —Ä–∞–∑–Ω—ã—Ö –ª—é–¥–µ–π','–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö ‚Äî –ø—Ä–æ–µ–∫—Ü–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤','–î–∞–≤–∞–π—Ç–µ —É–≤–∞–∂–∞—Ç—å —á—É–≤—Å—Ç–≤–∞ –¥—Ä—É–≥ –¥—Ä—É–≥–∞','–•–º–º, –ª—é–±–æ–ø—ã—Ç–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø–æ–≤–µ–¥–µ–Ω–∏—è...']
    },
    { name:'–ö–∞–ø–∏—Ç–∞–Ω–û—á–µ–≤–∏–¥–Ω–æ—Å—Ç—å', color:'#37474F', type:'neutral',
      patterns:[
        {kw:['—Ç–∞—Ä–∞–∫–∞–Ω','–∂—É–∫','ü™≥'], r:['—Ç–∞—Ä–∞–∫–∞–Ω—ã ‚Äî —ç—Ç–æ –Ω–∞—Å–µ–∫–æ–º—ã–µ –∫–æ—Ç–æ—Ä—ã–µ –∂–∏–≤—É—Ç –≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –≤ —ç—Ç–æ–π –∏–≥—Ä–µ','–∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç: –Ω–∞ —ç–∫—Ä–∞–Ω–µ —Ç–∞—Ä–∞–∫–∞–Ω—ã. –≤–æ—Ç —Ç–∞–∫–∏–µ –¥–µ–ª–∞','—ç—Ç–æ –≤–∏–¥–µ–æ –ø—Ä–æ —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤. –Ω–∞ —Å–ª—É—á–∞–π –µ—Å–ª–∏ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ']},
        {kw:['–º–æ–ª–æ—Ç–æ–∫','üî®','–±–∏—Ç—å'], r:['–º–æ–ª–æ—Ç–∫–æ–º –º–æ–∂–Ω–æ –±–∏—Ç—å. —ç—Ç–æ –µ–≥–æ –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è.','–º–æ–ª–æ—Ç–æ–∫ —Å—Ç–æ–∏—Ç $12. —ç—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ –º–∞–≥–∞–∑–∏–Ω–µ.','—É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ: –º–æ–ª–æ—Ç–æ–∫ –±—å—ë—Ç. –∫—Ç–æ –±—ã –º–æ–≥ –ø–æ–¥—É–º–∞—Ç—å']},
      ],
      fallback:['—ç—Ç–æ –≤–∏–¥–µ–æ. –≤—ã –µ–≥–æ —Å–µ–π—á–∞—Å —Å–º–æ—Ç—Ä–∏—Ç–µ.','–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ‚Äî —ç—Ç–æ —Ç–æ —á—Ç–æ –≤—ã —á–∏—Ç–∞–µ—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å','–∫–Ω–æ–ø–∫–∞ –ª–∞–π–∫ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ–¥ –≤–∏–¥–µ–æ','—ç—Ç–æ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–∞–ø–∏—Å–∞–Ω –º–Ω–æ–π','–∞–≤—Ç–æ—Ä —ç—Ç–æ–≥–æ –≤–∏–¥–µ–æ ‚Äî –∞–≤—Ç–æ—Ä —ç—Ç–æ–≥–æ –≤–∏–¥–µ–æ','–≤—Ä–µ–º—è –∏–¥—ë—Ç. –∞ –º—ã —Ç—É—Ç —Å–∏–¥–∏–º.']
    },
  ],

  _ytLikes: 0,
  _ytDislikes: 0,

  ytLike() {
    this._ytLikes++;
    this.money++;
    this.updateMoney();
    SFX.play('coin');
    this.showPopup(300, 150, '+$1 –∑–∞ –ª–∞–π–∫!');
    // Fans and kids react to like
    const list = document.getElementById('yt-comments-list');
    if (list && Math.random() < 0.5) {
      const t = Math.random() < 0.4 ? 'kid' : 'fan';
      setTimeout(() => { this._ytSpawnBotComment(list, t, null); }, 800);
    }
  },

  ytDislike() {
    this._ytDislikes++;
    SFX.play('error');
    this.showPopup(300, 150, '–î–∏–∑–ª–∞–π–∫! –•–µ–π—Ç–µ—Ä—ã –Ω–∞–±–µ–≥—É—Ç!');
    const list = document.getElementById('yt-comments-list');
    if (list) {
      setTimeout(() => { this._ytSpawnBotComment(list, 'hater', null); }, 500);
      setTimeout(() => { this._ytSpawnBotComment(list, 'hater', null); }, 1800);
      if (Math.random() < 0.4) setTimeout(() => { this._ytSpawnBotComment(list, 'fan', null); }, 2500); // someone defends
    }
  },

  _ytSpawnHater(list) {
    this._ytSpawnBotComment(list, 'hater', null);
  },

  // === AUTONOMOUS NPC AUTO-CHAT ===
  _ytAutoChatTimer: null,
  _ytChatHistory: [], // tracks recent bot comments for reply chains

  _ytAutoConvos: [
    // --- –¢–æ–∫—Å–∏–∫ vs –ù–æ—Ä–º–∞–ª—å–Ω—ã–π ---
    ['–¢–æ–∫—Å–∏–∫–ë–∞—Ä–æ–Ω','–∫–æ–Ω—Ç–µ–Ω—Ç —É—Ä–æ–≤–Ω—è –ø–æ–º–æ–π–∫–∏, –∫–æ–º—É —ç—Ç–æ –Ω—Ä–∞–≤–∏—Ç—Å—è?','–ê–ª–µ–∫—Å–µ–π_27','@–¢–æ–∫—Å–∏–∫–ë–∞—Ä–æ–Ω –º–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è, –∞ —Ç–µ–±—è –Ω–∏–∫—Ç–æ –Ω–µ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç —Å–º–æ—Ç—Ä–µ—Ç—å','–¢–æ–∫—Å–∏–∫–ë–∞—Ä–æ–Ω','@–ê–ª–µ–∫—Å–µ–π_27 –Ω—É-–Ω—É, —É —Ç–µ–±—è –ø—Ä–æ—Å—Ç–æ –≤–∫—É—Å–∞ –Ω–µ—Ç...','–°–µ—Ä—ë–≥–∞_–≥–µ–π–º–µ—Ä','@–¢–æ–∫—Å–∏–∫–ë–∞—Ä–æ–Ω –∑–∞—á–µ–º —Ç–æ–≥–¥–∞ —Ç—ã —Ç—É—Ç —Å–∏–¥–∏—à—å –∏ –∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–µ—à—å? ü§î'],
    ['dark_lord_666','–æ—á–µ—Ä–µ–¥–Ω–æ–µ –≤–∏–¥–µ–æ –Ω–∏ –æ —á—ë–º, –¥–∏–∑–ª–∞–π–∫','–ú–∞—Ä–∏–Ω–∞_–ö','@dark_lord_666 –∞ –º–Ω–µ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å) –∫–∞–∂–¥–æ–º—É —Å–≤–æ—ë','dark_lord_666','@–ú–∞—Ä–∏–Ω–∞_–ö –≤–∫—É—Å—ã —É –≤–∞—Å –∫–æ–Ω–µ—á–Ω–æ...','–ù–∞—Å—Ç—è‚ú®','@–ú–∞—Ä–∏–Ω–∞_–ö –Ω–µ —Å–ª—É—à–∞–π –µ–≥–æ! –≤–∏–¥–µ–æ –∫–ª–∞—Å—Å–Ω–æ–µ! üíñ'],

    // --- –ì—Ä—É–±–∏—è–Ω –∞—Ç–∞–∫—É–µ—Ç, –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –∑–∞—â–∏—â–∞—é—Ç ---
    ['–ñ–µ–∫–∞_–±–µ–∑_—Ç–æ—Ä–º–æ–∑–æ–≤','–¥–∞ –Ω—É –Ω–∞—Ñ–∏–≥ —ç—Ç–æ –≤–∏–¥–µ–æ, –±—Ä–µ–¥ –ø–æ–ª–Ω—ã–π','–ê–Ω–∞–ª–∏—Ç–∏–∫_–ü–∞–≤–µ–ª','@–ñ–µ–∫–∞_–±–µ–∑_—Ç–æ—Ä–º–æ–∑–æ–≤ –ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –∞ —á—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –Ω–µ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å? –ê—Ä–≥—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ.','–ñ–µ–∫–∞_–±–µ–∑_—Ç–æ—Ä–º–æ–∑–æ–≤','@–ê–Ω–∞–ª–∏—Ç–∏–∫_–ü–∞–≤–µ–ª —Ç—ã —Å–ª–∏—à–∫–æ–º —É–º–Ω—ã–π –¥–ª—è —é—Ç—É–±–∞, –ø—Ä–æ—Ö–æ–¥–∏ –º–∏–º–æ'],
    ['–ñ–µ–∫–∞_–±–µ–∑_—Ç–æ—Ä–º–æ–∑–æ–≤','–∞–≤—Ç–æ—Ä, –∑–∞–≤—è–∑—ã–≤–∞–π, —ç—Ç–æ –Ω–µ —Ç–≤–æ—ë','–ù–∞—Å—Ç—è‚ú®','@–ñ–µ–∫–∞_–±–µ–∑_—Ç–æ—Ä–º–æ–∑–æ–≤ –∑–∞—á–µ–º —Ç—ã —Ç–∞–∫–æ–π –∑–ª–æ–π? üòî','–ê–ª–µ–∫—Å–µ–π_27','@–ù–∞—Å—Ç—è‚ú® –Ω–µ –æ–±—Ä–∞—â–∞–π –≤–Ω–∏–º–∞–Ω–∏—è, —Ç—Ä–æ–ª–ª—å –æ–±—ã–∫–Ω–æ–≤–µ–Ω–Ω—ã–π'],

    // --- –£–º–Ω—ã–π vs –¢—Ä–æ–ª–ª—å ---
    ['–¢—Ä–æ–ª–ª—å–ú–∞—Å—Ç–µ—Ä','–∞ –µ—Å–ª–∏ –ø–æ–¥—É–º–∞—Ç—å, —Ç–∞—Ä–∞–∫–∞–Ω—ã —Ç—É—Ç –∂–µ—Ä—Ç–≤—ã... –º—ã –∑–ª–æ–¥–µ–∏...','–ê–Ω–∞–ª–∏—Ç–∏–∫_–ü–∞–≤–µ–ª','@–¢—Ä–æ–ª–ª—å–ú–∞—Å—Ç–µ—Ä –° —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –Ω–∞—Ä—Ä–∞—Ç–∏–≤–∞, –≤—ã –ø—Ä–∞–≤—ã. –≠—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –¥–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è.','–¢—Ä–æ–ª–ª—å–ú–∞—Å—Ç–µ—Ä','@–ê–Ω–∞–ª–∏—Ç–∏–∫_–ü–∞–≤–µ–ª —è –ø–æ—à—É—Ç–∏–ª –Ω–æ —Ç—ã —Å–¥–µ–ª–∞–ª –∏–∑ —ç—Ç–æ–≥–æ –¥–∏—Å—Å–µ—Ä—Ç–∞—Ü–∏—é üòÇ','IT_–ì—É—Ä—É','@–¢—Ä–æ–ª–ª—å–ú–∞—Å—Ç–µ—Ä @–ê–Ω–∞–ª–∏—Ç–∏–∫_–ü–∞–≤–µ–ª –∞ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –∫–æ–¥–∞ —Ç–∞—Ä–∞–∫–∞–Ω—ã ‚Äî –ø—Ä–æ—Å—Ç–æ –æ–±—ä–µ–∫—Ç—ã –≤ –º–∞—Å—Å–∏–≤–µ ü§∑'],

    // --- –§–∏–ª–æ—Å–æ—Ñ –∑–∞–≥–æ–Ω—è–µ—Ç –≤—Å–µ—Ö ---
    ['–§–∏–ª–æ—Å–æ—Ñ_–≤_—Å–µ—Ç–∏','–ê –≤–µ–¥—å –º—ã –≤—Å–µ –Ω–µ–º–Ω–æ–≥–æ —Ç–∞—Ä–∞–∫–∞–Ω—ã... –±–µ–≥–∞–µ–º, –ø—Ä—è—á–µ–º—Å—è, –±–æ–∏–º—Å—è –º–æ–ª–æ—Ç–∫–∞...','skibidi_fan_228','@–§–∏–ª–æ—Å–æ—Ñ_–≤_—Å–µ—Ç–∏ –±—Ä–æ —Ç—ã –≤ –ø–æ—Ä—è–¥–∫–µ? üíÄ','–§–∏–ª–æ—Å–æ—Ñ_–≤_—Å–µ—Ç–∏','@skibidi_fan_228 –Ø –≤ –ø–æ—Ä—è–¥–∫–µ. –ü—Ä–æ—Å—Ç–æ –∑–∞–¥—É–º–∞–ª—Å—è –æ –±—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –±—ã—Ç–∏—è...','–ú–∞—Ä–∏–Ω–∞_–ö','@–§–∏–ª–æ—Å–æ—Ñ_–≤_—Å–µ—Ç–∏ –≥–ª—É–±–æ–∫–æ! –Ω–æ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –∏–≥—Ä–∞ üòÇ'],

    // --- –ó—É–º–µ—Ä vs –ù–æ—Å—Ç–∞–ª—å–≥–∏–∫ ---
    ['skibidi_fan_228','—à–µ–µ–µ–µ—à —ç—Ç–æ –±—É—Å—Ç—å —Ñ—Ä —Ñ—Ä ü•∂üóø','–î—è–¥—è_–°–ª–∞–≤–∞_56','@skibidi_fan_228 –¢—ã –Ω–∞ –∫–∞–∫–æ–º —è–∑—ã–∫–µ –ø–∏—à–µ—à—å? –Ø –Ω–∏ —Å–ª–æ–≤–∞ –Ω–µ –ø–æ–Ω—è–ª','skibidi_fan_228','@–î—è–¥—è_–°–ª–∞–≤–∞_56 –æ–∫ –±—É–º–µ—Ä üóø','–î—è–¥—è_–°–ª–∞–≤–∞_56','@skibidi_fan_228 –í –Ω–∞—à–µ –≤—Ä–µ–º—è —É–≤–∞–∂–∞–ª–∏ —Å—Ç–∞—Ä—à–∏—Ö! –≠—Ö, –º–æ–ª–æ–¥—ë–∂—å...'],

    // --- –î–µ—Ç–∏ –∑–Ω–∞–∫–æ–º—è—Ç—Å—è ---
    ['xX–î–∏–Ω–æ–∑–∞–≤—Ä–∏–∫Xx','–ø—Ä–∏–≤–µ–µ–µ—Ç –∫—Ç–æ —Ç—É—Ç!!!! üëãüëã','–ü—É–ø—Å–∏–∫_2018','@xX–î–∏–Ω–æ–∑–∞–≤—Ä–∏–∫Xx –ø—Ä–∏–≤–µ–µ–µ–µ—Ç!!!! –¥–∞–≤–∞–π –¥—Ä—É–∂–∏—Ç—å!!! üíñ','xX–î–∏–Ω–æ–∑–∞–≤—Ä–∏–∫Xx','@–ü—É–ø—Å–∏–∫_2018 –¥–∞–≤–∞–∞–∞–π!!!! –≥–æ –∑–≤–æ–Ω–æ–∫?? üìû','–ü—É–ø—Å–∏–∫_2018','@xX–î–∏–Ω–æ–∑–∞–≤—Ä–∏–∫Xx –¥–∞!! –ø–∏—à–∏ –≤ —Ç–∏–ª–∏–≥—Ä–∞–º–º!! üíñüíñ'],
    ['–ü—É–ø—Å–∏–∫_2018','–∞ –º–Ω–µ –º–∞–º–∞ –Ω–µ —Ä–∞–∑—Ä–∏—à–∞–µ—Ç —Å–∏–¥–µ—Ç—å –¥–æ–ø–æ–∑–¥–Ω–∞ üò≠','xX–î–∏–Ω–æ–∑–∞–≤—Ä–∏–∫Xx','@–ü—É–ø—Å–∏–∫_2018 –∞ —è –ø–æ–¥ –∞–¥–∏—è–ª–æ–º —Å–∏–∂—É –º–∞–º–∞ –Ω–µ –≤–∏–¥–∏—Ç üòé','–ù–∞—Å—Ç—è‚ú®','@–ü—É–ø—Å–∏–∫_2018 @xX–î–∏–Ω–æ–∑–∞–≤—Ä–∏–∫Xx —Ä–µ–±—è—Ç, —Å–ª—É—à–∞–π—Ç–µ –º–∞–º—É! üòä','xX–î–∏–Ω–æ–∑–∞–≤—Ä–∏–∫Xx','@–ù–∞—Å—Ç—è‚ú® –ª–∞–¥–Ω–∞–∞–∞... üòî'],

    // --- –°–ø–∞–º–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –ø–æ —à–∞–ø–∫–µ ---
    ['FREE_MONEY_BOT','üî• –ë–ï–°–ü–õ–ê–¢–ù–´–ï $999! –ü–ï–†–ï–•–û–î–ò –ü–û –°–°–´–õ–ö–ï –í –ü–†–û–§–ò–õ–ï üî•','–ê–ª–µ–∫—Å–µ–π_27','@FREE_MONEY_BOT –æ–ø—è—Ç—å —ç—Ç–∏ –±–æ—Ç—ã, –º–æ–¥–µ—Ä–∞—Ç–æ—Ä—ã –≥–¥–µ?','IT_–ì—É—Ä—É','@FREE_MONEY_BOT –í–ù–ò–ú–ê–ù–ò–ï: —ç—Ç–æ —Ñ–∏—à–∏–Ω–≥. –ù–µ –∫–ª–∏–∫–∞–π—Ç–µ. –Ø –ø—Ä–æ–≤–µ—Ä–∏–ª.','–¢–æ–∫—Å–∏–∫–ë–∞—Ä–æ–Ω','@FREE_MONEY_BOT –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∫—Ç–æ —Ç—É—Ç —Ö—É–∂–µ –∞–≤—Ç–æ—Ä–∞ üíÄ'],

    // --- –ù–æ—Ä–º–∞–ª—å–Ω—ã–µ –æ–±—â–∞—é—Ç—Å—è ---
    ['–°–µ—Ä—ë–≥–∞_–≥–µ–π–º–µ—Ä','–∫—Ç–æ –Ω–∞ –∫–∞–∫–æ–º —É—Ä–æ–≤–Ω–µ? —è –Ω–∞ 5–º –∑–∞—Å—Ç—Ä—è–ª','–ê–ª–µ–∫—Å–µ–π_27','@–°–µ—Ä—ë–≥–∞_–≥–µ–π–º–µ—Ä —è –Ω–∞ 6–º, —Å–æ–≤–µ—Ç: –∫—É–ø–∏ –º–∞–≥–Ω–∏—Ç, –æ–Ω —Å–ø–∞—Å–∞–µ—Ç','–°–µ—Ä—ë–≥–∞_–≥–µ–π–º–µ—Ä','@–ê–ª–µ–∫—Å–µ–π_27 –æ —Å–ø–∞—Å–∏–±–æ, –≥–æ –≤–º–µ—Å—Ç–µ –∏–≥—Ä–∞—Ç—å? —Å–∫–∏–Ω—å –¥–∏—Å–∫–æ—Ä–¥','–ê–ª–µ–∫—Å–µ–π_27','@–°–µ—Ä—ë–≥–∞_–≥–µ–π–º–µ—Ä –¥–∞–≤–∞–π! –Ω–∞–ø–∏—à—É –≤ –ª—Å'],
    ['–ú–∞—Ä–∏–Ω–∞_–ö','–∑–≤—É–∫ –º–æ–ª–æ—Ç–∫–∞ ‚Äî —ç—Ç–æ –ª—É—á—à–µ–µ —á—Ç–æ —è —Å–ª—ã—à–∞–ª–∞ üòÇ','–ù–∞—Å—Ç—è‚ú®','@–ú–∞—Ä–∏–Ω–∞_–ö –ø—Ä–∞–≤–¥–∞! –∞ –µ—â—ë –Ω–æ–∫–∏—è –∏–≥—Ä–∞–µ—Ç –º–µ–ª–æ–¥–∏—é, –æ–±–æ–∂–∞—é! ü•∞','–ú–∞—Ä–∏–Ω–∞_–ö','@–ù–∞—Å—Ç—è‚ú® –ø–æ–¥—Ä—É–∂–∏–º—Å—è? –≥–æ –≤ —Ç–≥! üí´','–ù–∞—Å—Ç—è‚ú®','@–ú–∞—Ä–∏–Ω–∞_–ö –¥–∞–≤–∞–π! üíñ'],

    // --- –ú–µ–º—ã ---
    ['–ú–µ–º–æ–õ–æ—Ä–¥420','POV: —Ç—ã —Ç–∞—Ä–∞–∫–∞–Ω –∏ –≤–∏–¥–∏—à—å –º–æ–ª–æ—Ç–æ–∫ üî®üíÄ','skibidi_fan_228','@–ú–µ–º–æ–õ–æ—Ä–¥420 –ê–•–ê–•–ê–• —Ñ—Ä —Ñ—Ä üíÄüíÄ','–°–µ—Ä—ë–≥–∞_–≥–µ–π–º–µ—Ä','@–ú–µ–º–æ–õ–æ—Ä–¥420 –æ—Ä—É üòÇüòÇ'],
    ['skibidi_fan_228','when –∞–≤—Ç–æ—Ä –≤—ã–∫–ª–∞–¥—ã–≤–∞–µ—Ç –Ω–æ–≤–æ–µ –≤–∏–¥–µ–æ: üóø','–ú–µ–º–æ–õ–æ—Ä–¥420','@skibidi_fan_228 real','–¢—Ä–æ–ª–ª—å–ú–∞—Å—Ç–µ—Ä','@skibidi_fan_228 –≤–∞—à —é–º–æ—Ä ‚Äî —ç—Ç–æ –∫–∞–∫ —Ç–∞—Ä–∞–∫–∞–Ω: –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ –æ—Ç–∫—É–¥–∞ –≤–∑—è–ª—Å—è'],

    // --- –°–∫–µ–ø—Ç–∏–∫ vs –§–∞–Ω–∞—Ç—ã ---
    ['–ù–µ–í–µ—Ä—é–ù–∏–í–æ–ß—Ç–æ','–∞ –∫–æ–º—É-—Ç–æ —ç—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –Ω—Ä–∞–≤–∏—Ç—Å—è?','–°–µ—Ä—ë–≥–∞_–≥–µ–π–º–µ—Ä','@–ù–µ–í–µ—Ä—é–ù–∏–í–æ–ß—Ç–æ –¥–∞, –º–Ω–µ. –≤ —á—ë–º –ø—Ä–æ–±–ª–µ–º–∞?','–ù–µ–í–µ—Ä—é–ù–∏–í–æ–ß—Ç–æ','@–°–µ—Ä—ë–≥–∞_–≥–µ–π–º–µ—Ä –¥–∞ –Ω–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã, –ø—Ä–æ—Å—Ç–æ —É–¥–∏–≤–ª—è—é—Å—å','–ê–Ω–∞–ª–∏—Ç–∏–∫_–ü–∞–≤–µ–ª','@–ù–µ–í–µ—Ä—é–ù–∏–í–æ–ß—Ç–æ –£ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ 5M –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥–æ–≤–æ—Ä–∏—Ç —Å–∞–º–∞ –∑–∞ —Å–µ–±—è.'],

    // --- –ù–æ–≤—ã–µ —Ç–æ–∫—Å–∏–∫–∏ –∞—Ç–∞–∫—É—é—Ç ---
    ['–ù–ï–ù–ê–í–ò–ñ–£_–í–°–ï–•','–ó–ê–ß–ï–ú –Ø –≠–¢–û –û–¢–ö–†–´–õ??? –í–ï–†–ù–ò–¢–ï –ú–ù–ï 5 –ú–ò–ù–£–¢ –ñ–ò–ó–ù–ò','–õ–µ–Ω–∞_–º–∞–º–∞','@–ù–ï–ù–ê–í–ò–ñ–£_–í–°–ï–• —É—Å–ø–æ–∫–æ–π—Ç–µ—Å—å, —ç—Ç–æ –∂–µ –ø—Ä–æ—Å—Ç–æ –≤–∏–¥–µ–æ üòÖ','–ù–ï–ù–ê–í–ò–ñ–£_–í–°–ï–•','@–õ–µ–Ω–∞_–º–∞–º–∞ –ù–ï –£–ö–ê–ó–´–í–ê–ô–¢–ï –ú–ù–ï','–ü—Å–∏—Ö–æ–ª–æ–≥_–û–Ω–ª–∞–π–Ω','@–ù–ï–ù–ê–í–ò–ñ–£_–í–°–ï–• –ó–∞–º–µ—Ç–Ω–∞ –≤—ã—Å–æ–∫–∞—è —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—ã—Ö–∞—Ç–µ–ª—å–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è üßò'],
    ['—Ö–µ–π—Ç–µ—Ä_—Å_–¥–∏–≤–∞–Ω–∞','–∞–≤—Ç–æ—Ä, —Ç—ã —Å–∞–º-—Ç–æ –≤ —ç—Ç–æ –∏–≥—Ä–∞–µ—à—å? —Å–æ–º–Ω–µ–≤–∞—é—Å—å','–ê–Ω–¥—Ä–µ–π_28','@—Ö–µ–π—Ç–µ—Ä_—Å_–¥–∏–≤–∞–Ω–∞ –∞ —Ç—ã —Å –¥–∏–≤–∞–Ω–∞ –∫—Ä–∏—Ç–∏–∫—É–µ—à—å, –∏—Ä–æ–Ω–∏—è','—Ö–µ–π—Ç–µ—Ä_—Å_–¥–∏–≤–∞–Ω–∞','@–ê–Ω–¥—Ä–µ–π_28 —è —Ö–æ—Ç—è –±—ã —á–µ—Å—Ç–Ω—ã–π','–ö–∞–ø–∏—Ç–∞–Ω–û—á–µ–≤–∏–¥–Ω–æ—Å—Ç—å','@—Ö–µ–π—Ç–µ—Ä_—Å_–¥–∏–≤–∞–Ω–∞ –ù–∏–∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è.'],
    ['–≥–∞–¥—ë–Ω—ã—à_777','—ç—Ç–æ –≤–∏–¥–µ–æ ‚Äî –ø—Ä–∏—á–∏–Ω–∞ –ø–æ—á–µ–º—É –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –±—ã–ª –æ—à–∏–±–∫–æ–π','–ö–∞—Ç—è_–¥–∏–∑–∞–π–Ω–µ—Ä','@–≥–∞–¥—ë–Ω—ã—à_777 –Ω—É —Ö–æ—Ç—å –≤–∏–∑—É–∞–ª—å–Ω–æ –∫—Ä–∞—Å–∏–≤–æ, –ø—Ä–∏–∑–Ω–∞–π üé®','–≥–∞–¥—ë–Ω—ã—à_777','@–ö–∞—Ç—è_–¥–∏–∑–∞–π–Ω–µ—Ä –Ω–µ—Ç, –¥–∞–∂–µ –≤–∏–∑—É–∞–ª—å–Ω–æ —É–±–æ–≥–æ','–û–ª–µ–≥_–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç','@–≥–∞–¥—ë–Ω—ã—à_777 –ø–æ–ø—Ä–æ–±—É–π —Å–∞–º –Ω–∞–ø–∏—Å–∞—Ç—å 6000 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞, –ø–æ—Ç–æ–º –ø–æ–≥–æ–≤–æ—Ä–∏–º'],
    ['–ö–∏–±–µ—Ä–í–æ–∏–Ω_RU','–∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è iq –Ω–∏–∂–µ –∫–æ–º–Ω–∞—Ç–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã','–ê–Ω–∞–ª–∏—Ç–∏–∫_–ü–∞–≤–µ–ª','@–ö–∏–±–µ—Ä–í–æ–∏–Ω_RU –ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ. –ê –≤–∞—à IQ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ü–µ–Ω–∏—Ç—å –∏—Ä–æ–Ω–∏—é –∂–∞–Ω—Ä–∞?','–ö–∏–±–µ—Ä–í–æ–∏–Ω_RU','@–ê–Ω–∞–ª–∏—Ç–∏–∫_–ü–∞–≤–µ–ª –æ–≥–æ, —É–º–Ω–∏–∫ –ø–æ–¥—ä–µ—Ö–∞–ª ü§°','–î–∏–º–∞_–∏–∑_–ü–∏—Ç–µ—Ä–∞','@–ê–Ω–∞–ª–∏—Ç–∏–∫_–ü–∞–≤–µ–ª –Ω–µ –∫–æ—Ä–º–∏ —Ç—Ä–æ–ª–ª—è, –±—Ä–æ'],
    ['–°–æ—Å–µ–¥–ü–æ–ü–æ–¥—ä–µ–∑–¥—É','—è –± –∑–∞ —Ç–∞–∫–æ–µ –≤–∏–¥–µ–æ –ø–æ–¥—ä–µ–∑–¥–Ω—É—é –¥–≤–µ—Ä—å –∑–∞–∫—Ä—ã–ª –±—ã','–ú–∞—Ä–∏–Ω–∞_–ö','@–°–æ—Å–µ–¥–ü–æ–ü–æ–¥—ä–µ–∑–¥—É —á—Ç–æ? üòÇ –∫–∞–∫–∞—è —Å–≤—è–∑—å –≤–æ–æ–±—â–µ','–°–æ—Å–µ–¥–ü–æ–ü–æ–¥—ä–µ–∑–¥—É','@–ú–∞—Ä–∏–Ω–∞_–ö –Ω–µ —Ç–≤–æ—ë –¥–µ–ª–æ, —è —Ç—É—Ç —Å–≤–æ–∏ –∞–Ω–∞–ª–æ–≥–∏–∏ –ø—Ä–æ–≤–æ–∂—É','–í–∞–Ω—è_15–ª–µ—Ç','@–°–æ—Å–µ–¥–ü–æ–ü–æ–¥—ä–µ–∑–¥—É –¥—è–¥—å, –≤—ã —Ç–æ—á–Ω–æ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Ö–æ—Ç–µ–ª–∏ –∑–∞–π—Ç–∏?'],
    ['–í—Å—ë–ó–Ω–∞–π–∫–∞','–Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —ç—Ç–æ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ –≤—Ä–µ–¥–µ–Ω, —è —á–∏—Ç–∞–ª —Å—Ç–∞—Ç—å—é','–ü—Å–∏—Ö–æ–ª–æ–≥_–û–Ω–ª–∞–π–Ω','@–í—Å—ë–ó–Ω–∞–π–∫–∞ –ö–∞–∫ –ø—Å–∏—Ö–æ–ª–æ–≥ –º–æ–≥—É —Å–∫–∞–∑–∞—Ç—å ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ. –í—Å—ë –≤ —Ä–∞–º–∫–∞—Ö –Ω–æ—Ä–º—ã.','–í—Å—ë–ó–Ω–∞–π–∫–∞','@–ü—Å–∏—Ö–æ–ª–æ–≥_–û–Ω–ª–∞–π–Ω —Ö–∞, –¥–∏–≤–∞–Ω–Ω—ã–π –ø—Å–∏—Ö–æ–ª–æ–≥ —É—á–∏—Ç –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –∑–Ω–∞—Ç–æ–∫–∞','IT_–ì—É—Ä—É','@–í—Å—ë–ó–Ω–∞–π–∫–∞ –ò—Ä–æ–Ω–∏—è –≤ —Ç–æ–º, —á—Ç–æ –≤–∞—à –Ω–∏–∫ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏'],

    // --- –ó—É–º–µ—Ä—ã –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è ---
    ['based_sigma_01','—ç—Ç–æ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç - —Å–∏–≥–º–∞ –≥—Ä–∞–π–Ω–¥—Å–µ—Ç ‚úä','skibidi_fan_228','@based_sigma_01 —Ñ—Ä —Ñ—Ä –±—Ä–æ üóø','–î—è–¥—è_–°–ª–∞–≤–∞_56','@based_sigma_01 @skibidi_fan_228 –í—ã –≤–æ–æ–±—â–µ –ø–æ-—Ä—É—Å—Å–∫–∏ —É–º–µ–µ—Ç–µ?','based_sigma_01','@–î—è–¥—è_–°–ª–∞–≤–∞_56 –æ–∫ –±—É–º–µ—Ä, —Å–∫–æ—Ä–æ –≤—ã–º—Ä–µ—Ç–µ üóø'],
    ['—Ç–∏–∫—Ç–æ–∫_–∑–≤–µ–∑–¥–∞','—Å–Ω–∏–º–∞—é —Ä–µ–∞–∫—Ü–∏—é –Ω–∞ —ç—Ç–æ –≤–∏–¥–µ–æ –¥–ª—è —Ç–∏–∫—Ç–æ–∫–∞!! –ª–∞–π–∫ –∫—Ç–æ –∏–∑ —Ç—Ç üî•','–ü—É–ø—Å–∏–∫_2018','@—Ç–∏–∫—Ç–æ–∫_–∑–≤–µ–∑–¥–∞ –ø–æ–¥–ø–∏—à—É—É—É—Å—å!!!! üíñ','–ú–∞–º–∫–∏–Ω–ö—Ä–∏—Ç–∏–∫','@—Ç–∏–∫—Ç–æ–∫_–∑–≤–µ–∑–¥–∞ —Ç–∏–∫—Ç–æ–∫ ‚Äî –ø–æ–º–æ–π–∫–∞','—Ç–∏–∫—Ç–æ–∫_–∑–≤–µ–∑–¥–∞','@–ú–∞–º–∫–∏–Ω–ö—Ä–∏—Ç–∏–∫ –∞ —Ç—ã –º–∞–º–∫–∏–Ω –∫—Ä–∏—Ç–∏–∫, –ª–æ–ª, –Ω–∏–∫ –≥–æ–≤–æ—Ä–∏—Ç –∑–∞ —Å–µ–±—è üíÖ'],
    ['–∏—Ä–æ–Ω–∏—è_2026','–æ, –æ—á–µ—Ä–µ–¥–Ω–æ–π —à–µ–¥–µ–≤—Ä, –ø—Ä—è–º "–ú–æ–Ω–∞ –õ–∏–∑–∞" –Ω–∞—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ üôÑ','–§–∏–ª–æ—Å–æ—Ñ_–≤_—Å–µ—Ç–∏','@–∏—Ä–æ–Ω–∏—è_2026 –ê –≤—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —ç—Ç–æ –∏—Ä–æ–Ω–∏—è? –ú–æ–∂–µ—Ç, –≤ –≥–ª—É–±–∏–Ω–µ –¥—É—à–∏ –≤–∞–º –ø—Ä–∞–≤–¥–∞ –Ω—Ä–∞–≤–∏—Ç—Å—è?','–∏—Ä–æ–Ω–∏—è_2026','@–§–∏–ª–æ—Å–æ—Ñ_–≤_—Å–µ—Ç–∏ –≤–∞—É, —Ñ–∏–ª–æ—Å–æ—Ñ –≤ —Ç—Ä–µ–¥–µ, —Ç–µ–ø–µ—Ä—å —Ç–æ—á–Ω–æ –≤—Å—ë —Å–µ—Ä—å—ë–∑–Ω–æ','–ù–∞—Å—Ç—è‚ú®','@–∏—Ä–æ–Ω–∏—è_2026 –Ω—É —Ö–≤–∞—Ç–∏—Ç —É–∂–µ —è–∑–≤–∏—Ç—å, –ø—Ä–æ—Å—Ç–æ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Å—è! üíñ'],
    ['PoZiTiV_4iK','–í–°–ï–ú –ü–û–ó–ò–¢–ò–í–ê!!! üåà‚òÄÔ∏èüéâü•≥ –ö–õ–ê–°–° –í–ò–î–ï–û!!!','–ù–ï–ù–ê–í–ò–ñ–£_–í–°–ï–•','@PoZiTiV_4iK –•–í–ê–¢–ò–¢ –û–†–ê–¢–¨','PoZiTiV_4iK','@–ù–ï–ù–ê–í–ò–ñ–£_–í–°–ï–• –û–ë–ù–ò–ú–ê–Æ –¢–ï–ë–Ø!! ü§óü§óü§ó','–ù–ï–ù–ê–í–ò–ñ–£_–í–°–ï–•','@PoZiTiV_4iK ...'],

    // --- –ù–æ—Ä–º–∞–ª—å–Ω—ã–µ –æ–±—Å—É–∂–¥–∞—é—Ç ---
    ['–û–ª–µ–≥_–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç','–∫—Å—Ç–∞—Ç–∏, –¥–≤–∏–∂–æ–∫ –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ —á–∏—Å—Ç–æ–º JS –±–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫, —Ä–µ—Å–ø–µ–∫—Ç','IT_–ì—É—Ä—É','@–û–ª–µ–≥_–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –ø–ª—é—Å—É—é, –¥–ª—è –≤–∞–Ω–∏–ª—å–Ω–æ–≥–æ JS ‚Äî –æ—á–µ–Ω—å –≤–ø–µ—á–∞—Ç–ª—è–µ—Ç','–ö–∞—Ç—è_–¥–∏–∑–∞–π–Ω–µ—Ä','@–û–ª–µ–≥_–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –∞ –¥–∏–∑–∞–π–Ω —Ç–æ–∂–µ –∫–∞—Å—Ç–æ–º–Ω—ã–π? —Å—Ç–∏–ª—å –ø—Ä–∏–∫–æ–ª—å–Ω—ã–π üé®','–û–ª–µ–≥_–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç','@–ö–∞—Ç—è_–¥–∏–∑–∞–π–Ω–µ—Ä –¥–∞, –≤—Å—ë —Ä—É–∫–∞–º–∏, CSS –±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤'],
    ['–õ–µ–Ω–∞_–º–∞–º–∞','–ø–æ–∫–∞–∑–∞–ª–∞ —Å—ã–Ω—É, –æ–Ω 2 —á–∞—Å–∞ –∏–≥—Ä–∞–ª, —Å–ø–∞—Å–∏–±–æ –∑–∞ –∫–æ–Ω—Ç–µ–Ω—Ç! üòä','–í–∞–Ω—è_15–ª–µ—Ç','@–õ–µ–Ω–∞_–º–∞–º–∞ –º–Ω–µ 15 –∏ —è —Ç–æ–∂–µ –∑–∞–ª–∏–ø)','–õ–µ–Ω–∞_–º–∞–º–∞','@–í–∞–Ω—è_15–ª–µ—Ç –≥–ª–∞–≤–Ω–æ–µ —É—Ä–æ–∫–∏ –¥–µ–ª–∞–π! üòÑ','–í–∞–Ω—è_15–ª–µ—Ç','@–õ–µ–Ω–∞_–º–∞–º–∞ –ª–∞–¥–Ω–æ –ª–∞–¥–Ω–æ üòÖ'],
    ['–î–∏–º–∞_–∏–∑_–ü–∏—Ç–µ—Ä–∞','—Å–º–æ—Ç—Ä—é –∏–∑ –ü–∏—Ç–µ—Ä–∞, –∑–∞ –æ–∫–Ω–æ–º –¥–æ–∂–¥—å, —Ç–∞—Ä–∞–∫–∞–Ω—ã –Ω–∞ —ç–∫—Ä–∞–Ω–µ ‚Äî –∏–¥–µ–∞–ª—å–Ω—ã–π –≤–µ—á–µ—Ä','–ê–Ω–¥—Ä–µ–π_28','@–î–∏–º–∞_–∏–∑_–ü–∏—Ç–µ—Ä–∞ –∏–∑ –ú–æ—Å–∫–≤—ã —Å–æ–ª–∏–¥–∞—Ä–µ–Ω, —Ç–æ–∂–µ –¥–æ–∂–¥—å üòÇ','–°–µ—Ä—ë–≥–∞_–≥–µ–π–º–µ—Ä','@–î–∏–º–∞_–∏–∑_–ü–∏—Ç–µ—Ä–∞ @–ê–Ω–¥—Ä–µ–π_28 –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä, +30, —Ç–æ–∂–µ —Å–º–æ—Ç—Ä—é, –ª–æ–ª','–ö–∞—Ç—è_–¥–∏–∑–∞–π–Ω–µ—Ä','@–î–∏–º–∞_–∏–∑_–ü–∏—Ç–µ—Ä–∞ –ü–∏—Ç–µ—Ä –≤–∞–π–± ‚òîüé®'],

    // --- –ü—Å–∏—Ö–æ–ª–æ–≥ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç ---
    ['–ü—Å–∏—Ö–æ–ª–æ–≥_–û–Ω–ª–∞–π–Ω','–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ: –∞–≥—Ä–µ—Å—Å–∏—è –∫ —Ç–∞—Ä–∞–∫–∞–Ω–∞–º ‚Äî —ç—Ç–æ —Å—É–±–ª–∏–º–∞—Ü–∏—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–≥–æ —Å—Ç—Ä–µ—Å—Å–∞','–¢–æ–∫—Å–∏–∫–ë–∞—Ä–æ–Ω','@–ü—Å–∏—Ö–æ–ª–æ–≥_–û–Ω–ª–∞–π–Ω –∑–∞—Ç–∫–Ω–∏—Å—å, —É–º–Ω–∏–∫','–ü—Å–∏—Ö–æ–ª–æ–≥_–û–Ω–ª–∞–π–Ω','@–¢–æ–∫—Å–∏–∫–ë–∞—Ä–æ–Ω –ó–∞–º–µ—Ç–Ω–∞ –ø—Ä–æ–µ–∫—Ü–∏—è. –í–∞–º —Å—Ç–æ–∏—Ç –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Å –≥–Ω–µ–≤–æ–º üßò','—Ö–µ–π—Ç–µ—Ä_—Å_–¥–∏–≤–∞–Ω–∞','@–ü—Å–∏—Ö–æ–ª–æ–≥_–û–Ω–ª–∞–π–Ω –∞—Ö–∞—Ö–∞ –µ–≥–æ —Ä–∞–∑–æ–±—Ä–∞–ª–∏ –∫–∞–∫ –ø–æ —É—á–µ–±–Ω–∏–∫—É üòÇ'],

    // --- –ö–∞–ø–∏—Ç–∞–Ω–û—á–µ–≤–∏–¥–Ω–æ—Å—Ç—å ---
    ['–ö–∞–ø–∏—Ç–∞–Ω–û—á–µ–≤–∏–¥–Ω–æ—Å—Ç—å','–≠—Ç–æ –≤–∏–¥–µ–æ. –ï–≥–æ –º–æ–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å. –û–Ω–æ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ.','–∏—Ä–æ–Ω–∏—è_2026','@–ö–∞–ø–∏—Ç–∞–Ω–û—á–µ–≤–∏–¥–Ω–æ—Å—Ç—å —Å–ø–∞—Å–∏–±–æ, –∫—ç–ø, –±–µ–∑ —Ç–µ–±—è –±—ã –Ω–µ —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å üôÑ','–ö–∞–ø–∏—Ç–∞–Ω–û—á–µ–≤–∏–¥–Ω–æ—Å—Ç—å','@–∏—Ä–æ–Ω–∏—è_2026 –ü–æ–∂–∞–ª—É–π—Å—Ç–∞. –Ø –∑–¥–µ—Å—å –∏–º–µ–Ω–Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ.','–ú–µ–º–æ–õ–æ—Ä–¥420','@–ö–∞–ø–∏—Ç–∞–Ω–û—á–µ–≤–∏–¥–Ω–æ—Å—Ç—å –∫—ç–ø —Å–ø–∞—Å–∞–µ—Ç —Ç—Ä–µ–¥ üíÄ'],

    // --- –ü–µ–Ω—Å–∏–æ–Ω–µ—Ä vs –º–æ–ª–æ–¥—ë–∂—å ---
    ['–ü–µ–Ω—Å–∏–æ–Ω–µ—Ä_–ò–≤–∞–Ω—ã—á','–ê –∫–∞–∫ —ç—Ç–æ —Å–∫–∞—á–∞—Ç—å –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä? –£ –º–µ–Ω—è Windows XP','–û–ª–µ–≥_–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç','@–ü–µ–Ω—Å–∏–æ–Ω–µ—Ä_–ò–≤–∞–Ω—ã—á —ç—Ç–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ —Å—Å—ã–ª–∫—É','–ü–µ–Ω—Å–∏–æ–Ω–µ—Ä_–ò–≤–∞–Ω—ã—á','@–û–ª–µ–≥_–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –∫–∞–∫—É—é —Å—Å—ã–ª–∫—É? –ì–¥–µ –∫–Ω–æ–ø–∫–∞ "–ü—É—Å–∫"?','based_sigma_01','@–ü–µ–Ω—Å–∏–æ–Ω–µ—Ä_–ò–≤–∞–Ω—ã—á üíÄüíÄüíÄ'],
    ['–ü–µ–Ω—Å–∏–æ–Ω–µ—Ä_–ò–≤–∞–Ω—ã—á','–í –Ω–∞—à–µ –≤—Ä–µ–º—è —Ä–∞–∑–≤–ª–µ–∫–∞–ª–∏—Å—å —à–∞—Ö–º–∞—Ç–∞–º–∏, –∞ –Ω–µ —Ç–∞—Ä–∞–∫–∞–Ω–∞–º–∏...','–î—è–¥—è_–°–ª–∞–≤–∞_56','@–ü–µ–Ω—Å–∏–æ–Ω–µ—Ä_–ò–≤–∞–Ω—ã—á –ò–≤–∞–Ω—ã—á, –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≥–ª–∞—Å–µ–Ω! –ü–æ–º–Ω–∏—à—å "–¢–µ—Ç—Ä–∏—Å"?','–ü–µ–Ω—Å–∏–æ–Ω–µ—Ä_–ò–≤–∞–Ω—ã—á','@–î—è–¥—è_–°–ª–∞–≤–∞_56 –ï—â—ë –±—ã! –í–æ—Ç —ç—Ç–æ –±—ã–ª–∞ –∏–≥—Ä–∞!','skibidi_fan_228','@–ü–µ–Ω—Å–∏–æ–Ω–µ—Ä_–ò–≤–∞–Ω—ã—á @–î—è–¥—è_–°–ª–∞–≤–∞_56 –±—É–º–µ—Ä—ã –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è üóø'],

    // --- –ú–∞–º–∫–∏–Ω–ö—Ä–∏—Ç–∏–∫ –∫—Ä–∏—Ç–∏–∫—É–µ—Ç ---
    ['–ú–∞–º–∫–∏–Ω–ö—Ä–∏—Ç–∏–∫','—Å—Ç–∞–≤–ª—é 3 –∏–∑ 10, –≥—Ä–∞—Ñ–∏–∫–∞ —Å–ª–∞–±–∞—è, —Å—é–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç','–ê–Ω–¥—Ä–µ–π_28','@–ú–∞–º–∫–∏–Ω–ö—Ä–∏—Ç–∏–∫ —ç—Ç–æ –±—Ä–∞—É–∑–µ—Ä–Ω–∞—è –º–∏–Ω–∏-–∏–≥—Ä–∞, –∞ –Ω–µ –ê–ê–ê-–ø—Ä–æ–µ–∫—Ç üòÇ','–ú–∞–º–∫–∏–Ω–ö—Ä–∏—Ç–∏–∫','@–ê–Ω–¥—Ä–µ–π_28 –ø–ª–æ—Ö–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –µ—Å—Ç—å –ø–ª–æ—Ö–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç','–ö–∞—Ç—è_–¥–∏–∑–∞–π–Ω–µ—Ä','@–ú–∞–º–∫–∏–Ω–ö—Ä–∏—Ç–∏–∫ –¥–∏–∑–∞–π–Ω —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω –ø–æ–¥ XP, —ç—Ç–æ –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–π –≤—ã–±–æ—Ä üé®'],

    // --- –±–æ—Ç_–ø–µ—Ä–µ–≤–æ–¥—á–∏–∫ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç ---
    ['–±–æ—Ç_–ø–µ—Ä–µ–≤–æ–¥—á–∏–∫','üåê Translation: This video is about a living computer with cockroaches / T≈Çumaczenie: To wideo o ≈ºywym komputerze z karaluchami','–ü—Ä–æ—Å—Ç–æ_–ß–∏—Ç–∞—é','@–±–æ—Ç_–ø–µ—Ä–µ–≤–æ–¥—á–∏–∫ –∞ —ç—Ç–æ –∫–æ–º—É –≤–æ–æ–±—â–µ –Ω–∞–¥–æ?','–±–æ—Ç_–ø–µ—Ä–µ–≤–æ–¥—á–∏–∫','@–ü—Ä–æ—Å—Ç–æ_–ß–∏—Ç–∞—é üåê For international audience / –î–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏','–ö–∞–ø–∏—Ç–∞–Ω–û—á–µ–≤–∏–¥–Ω–æ—Å—Ç—å','@–±–æ—Ç_–ø–µ—Ä–µ–≤–æ–¥—á–∏–∫ –ë–æ—Ç –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏. –≠—Ç–æ –µ–≥–æ —Ñ—É–Ω–∫—Ü–∏—è.'],

    // --- –ü—Ä–æ—Å—Ç–æ_–ß–∏—Ç–∞—é –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ —Ç–µ–Ω–∏ ---
    ['–ü—Ä–æ—Å—Ç–æ_–ß–∏—Ç–∞—é','–æ–±—ã—á–Ω–æ –Ω–µ –ø–∏—à—É, –Ω–æ —ç—Ç–æ –≤–∏–¥–µ–æ –≤—ã–Ω—É–¥–∏–ª–æ... –Ω–µ–ø–ª–æ—Ö–æ','–ù–∞—Å—Ç—è‚ú®','@–ü—Ä–æ—Å—Ç–æ_–ß–∏—Ç–∞—é —É—Ä–∞, –ª—É—Ä–µ–∫—Ä –≤—ã—à–µ–ª –∏–∑ —Ç–µ–Ω–∏! üíñ','–ü—Ä–æ—Å—Ç–æ_–ß–∏—Ç–∞—é','@–ù–∞—Å—Ç—è‚ú® ...–∏ —É—Ö–æ–∂—É –æ–±—Ä–∞—Ç–Ω–æ','–°–µ—Ä—ë–≥–∞_–≥–µ–π–º–µ—Ä','@–ü—Ä–æ—Å—Ç–æ_–ß–∏—Ç–∞—é –Ω–µ —É—Ö–æ–¥–∏, —Ç—É—Ç –≤–µ—Å–µ–ª–æ! üòÇ'],

    // --- –¢–æ–∫—Å–∏–∫–∏ —Ä—É–≥–∞—é—Ç—Å—è –º–µ–∂–¥—É —Å–æ–±–æ–π ---
    ['–≥–∞–¥—ë–Ω—ã—à_777','—Å–∞–º–æ–µ —Ç—É–ø–æ–µ –≤–∏–¥–µ–æ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ','–ù–ï–ù–ê–í–ò–ñ–£_–í–°–ï–•','@–≥–∞–¥—ë–Ω—ã—à_777 –ù–ï–¢, –°–ê–ú–û–ï –¢–£–ü–û–ï ‚Äî –ü–†–ï–î–´–î–£–©–ï–ï','–≥–∞–¥—ë–Ω—ã—à_777','@–ù–ï–ù–ê–í–ò–ñ–£_–í–°–ï–• –Ω–µ –æ—Ä–∏, –∫–∞–ø—Å–ª–æ–∫–µ—Ä','—Ö–µ–π—Ç–µ—Ä_—Å_–¥–∏–≤–∞–Ω–∞','@–≥–∞–¥—ë–Ω—ã—à_777 @–ù–ï–ù–ê–í–ò–ñ–£_–í–°–ï–• –≤—ã –æ–±–∞ –∫–ª–æ—É–Ω—ã ü§°'],

    // --- –ù–æ–≤—ã–µ standalone comments ---
    ['–ù–ï–ù–ê–í–ò–ñ–£_–í–°–ï–•','–•–£–î–®–ï–ï –í–ò–î–ï–û –í –ú–û–ï–ô –ñ–ò–ó–ù–ò. –ê –Ø –í–ò–î–ï–õ –ú–ù–û–ì–û–ï.'],
    ['—Ö–µ–π—Ç–µ—Ä_—Å_–¥–∏–≤–∞–Ω–∞','–¥–∞–∂–µ –º–æ–π –¥–∏–≤–∞–Ω –∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞'],
    ['–≥–∞–¥—ë–Ω—ã—à_777','–≥–¥–µ –∫–Ω–æ–ø–∫–∞ "–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è –Ω–∞ –≤—Å—ë"?'],
    ['–ö–∏–±–µ—Ä–í–æ–∏–Ω_RU','—Ä–∞–Ω—å—à–µ –∫–æ–Ω—Ç–µ–Ω—Ç –±—ã–ª –ª—É—á—à–µ, —Ñ–∞–∫—Ç'],
    ['–°–æ—Å–µ–¥–ü–æ–ü–æ–¥—ä–µ–∑–¥—É','—è –±—ã –∞–≤—Ç–æ—Ä—É –≤ –ø–æ–¥—ä–µ–∑–¥–µ –≤—ã—Å–∫–∞–∑–∞–ª –≤—Å—ë —á—Ç–æ –¥—É–º–∞—é'],
    ['–í—Å—ë–ó–Ω–∞–π–∫–∞','–Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ 87% –∑—Ä–∏—Ç–µ–ª–µ–π –Ω–µ –¥–æ—Å–º–æ—Ç—Ä—è—Ç –¥–æ –∫–æ–Ω—Ü–∞, —ç—Ç–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞'],
    ['–î–∏–º–∞_–∏–∑_–ü–∏—Ç–µ—Ä–∞','–ü–∏—Ç–µ—Ä –æ–¥–æ–±—Ä—è–µ—Ç üëç'],
    ['–û–ª–µ–≥_–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç','–∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –Ω–∞–¥–æ –≤ –∑–∞–∫–ª–∞–¥–∫–∏'],
    ['–ö–∞—Ç—è_–¥–∏–∑–∞–π–Ω–µ—Ä','UI/UX –Ω–µ–ø–ª–æ—Ö–æ–π, –Ω–æ —è –±—ã –ø–æ–º–µ–Ω—è–ª–∞ —à—Ä–∏—Ñ—Ç üé®'],
    ['–ê–Ω–¥—Ä–µ–π_28','–Ω–æ—Ä–º –≤–∏–¥–æ—Å, –∑–∞—à—ë–ª –Ω–∞ –º–∏–Ω—É—Ç—É ‚Äî —Å–∏–∂—É —á–∞—Å'],
    ['–õ–µ–Ω–∞_–º–∞–º–∞','–ø–æ–∫–∞–∑–∞–ª–∞ –¥–µ—Ç—è–º, —Ç–µ–ø–µ—Ä—å –Ω–µ –æ—Ç–æ—Ä–≤–∞—Ç—å –æ—Ç —ç–∫—Ä–∞–Ω–∞ üòÇ'],
    ['–í–∞–Ω—è_15–ª–µ—Ç','–≤–º–µ—Å—Ç–æ —É—Ä–æ–∫–æ–≤ —Å–º–æ—Ç—Ä—é —ç—Ç–æ... —Å—Ç–æ–∏–ª–æ —Ç–æ–≥–æ'],
    ['based_sigma_01','—Å–∏–≥–º–∞ —ç–Ω–µ—Ä–≥–∏—è —ç—Ç–æ–≥–æ –≤–∏–¥–µ–æ –∑–∞—à–∫–∞–ª–∏–≤–∞–µ—Ç üí™'],
    ['—Ç–∏–∫—Ç–æ–∫_–∑–≤–µ–∑–¥–∞','—ç—Ç–æ –Ω–∞–¥–æ –≤ —Ç—Ä–µ–Ω–¥—ã —Ç–∏–∫—Ç–æ–∫–∞!! üî•üî•'],
    ['–∏—Ä–æ–Ω–∏—è_2026','–æ –¥–∞, –≤–µ—Ä—à–∏–Ω–∞ –∫–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∞, –¢–∞—Ä–∫–æ–≤—Å–∫–∏–π –≤ —à–æ–∫–µ'],
    ['PoZiTiV_4iK','–°–£–ü–ï–†!!!! –ö–õ–ê–°–°!!!! –í–°–ï –ú–û–õ–û–î–¶–´!!!! üåàüéâ‚ú®'],
    ['–ü—Ä–æ—Å—Ç–æ_–ß–∏—Ç–∞—é','...'],
    ['–ú–∞–º–∫–∏–Ω–ö—Ä–∏—Ç–∏–∫','4 –∏–∑ 10, –∏ —Ç–æ –∑–∞ —Å—Ç–∞—Ä–∞–Ω–∏–µ'],
    ['–±–æ—Ç_–ø–µ—Ä–µ–≤–æ–¥—á–∏–∫','üåê Cockroach = –¢–∞—Ä–∞–∫–∞–Ω = Cucaracha = „Ç´„ÇØ„É™'],
    ['–ü–µ–Ω—Å–∏–æ–Ω–µ—Ä_–ò–≤–∞–Ω—ã—á','–ê –∫–∞–∫ –≤—ã–∫–ª—é—á–∏—Ç—å —ç—Ç–æ? –ì–¥–µ –∫—Ä–µ—Å—Ç–∏–∫?'],
    ['–ü—Å–∏—Ö–æ–ª–æ–≥_–û–Ω–ª–∞–π–Ω','–¢—è–≥–∞ –∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º—É —Ä–∞–∑—Ä—É—à–µ–Ω–∏—é ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä—è–¥–∫–∞. –û–¥–æ–±—Ä—è—é üßò'],
    ['–ö–∞–ø–∏—Ç–∞–Ω–û—á–µ–≤–∏–¥–Ω–æ—Å—Ç—å','–ü–æ–¥ —ç—Ç–∏–º –≤–∏–¥–µ–æ –µ—Å—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏. –í—ã —á–∏—Ç–∞–µ—Ç–µ –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö.'],

    // --- Standalone comments ---
    ['–ê–ª–µ–∫—Å–µ–π_27','–Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –≤–∏–¥–µ–æ, –∑–∞–ª–∏–ø'],
    ['–ú–∞—Ä–∏–Ω–∞_–ö','–∫—Ç–æ –µ—â—ë —Å–º–æ—Ç—Ä–∏—Ç —ç—Ç–æ –≤ 2 —á–∞—Å–∞ –Ω–æ—á–∏? —Ç–æ–ª—å–∫–æ —è? üòÖ'],
    ['–¢–æ–∫—Å–∏–∫–ë–∞—Ä–æ–Ω','–∑–∞—á–µ–º —è –≤–æ–æ–±—â–µ —ç—Ç–æ —Å–º–æ—Ç—Ä—é...'],
    ['–ê–Ω–∞–ª–∏—Ç–∏–∫_–ü–∞–≤–µ–ª','–° —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –≤—ã—Å–æ—Ç–µ. –£–≤–∞–∂–∞—é.'],
    ['–§–∏–ª–æ—Å–æ—Ñ_–≤_—Å–µ—Ç–∏','–ú–æ–Ω–∏—Ç–æ—Ä –∫–∞–∫ –æ–∫–Ω–æ –≤ –¥—É—à—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞...'],
    ['–î—è–¥—è_–°–ª–∞–≤–∞_56','–≠—Ö—Ö, –ø–æ–º–Ω—é —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä... Pentium 166...'],
    ['IT_–ì—É—Ä—É','–î–ª—è –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π –∏–≥—Ä—ã ‚Äî –≤–ø–µ—á–∞—Ç–ª—è–µ—Ç. –ß–∏—Å—Ç—ã–π JS, –±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤.'],
    ['–ù–µ–í–µ—Ä—é–ù–∏–í–æ–ß—Ç–æ','—Ö–º... –ø–æ—Å–º–æ—Ç—Ä–∏–º —á—Ç–æ –±—É–¥–µ—Ç –¥–∞–ª—å—à–µ'],
    ['–ù–∞—Å—Ç—è‚ú®','—ç—Ç–æ –≤–∏–¥–µ–æ –∑–∞—Ä—è–∂–∞–µ—Ç –ø–æ–∑–∏—Ç–∏–≤–æ–º! ‚ú®üíñ'],
    ['–ñ–µ–∫–∞_–±–µ–∑_—Ç–æ—Ä–º–æ–∑–æ–≤','–º–¥–∞...'],
    ['–¢—Ä–æ–ª–ª—å–ú–∞—Å—Ç–µ—Ä','–∞ –¥–∞–≤–∞–π—Ç–µ –≤—Å–µ –Ω–∞–ø–∏—à–µ–º "—Ö—Ä—é" –≤ –∫–æ–º–º–µ–Ω—Ç—ã'],
    ['FREE_MONEY_BOT','üî• –†–û–ó–´–ì–†–´–® iPhone 27!!! –ü–û–î–ü–ò–®–ò–°–¨!!! üî•'],
    ['skibidi_fan_228','–≤–∞–π–± —á–µ–∫: –ø—Ä–æ—à—ë–ª ‚úÖ'],
    ['–ú–µ–º–æ–õ–æ—Ä–¥420','—è –æ—Ç–ø—Ä–∞–≤–ª—é —ç—Ç–æ –º–∞–º–µ –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ üíÄ'],
    ['xX–î–∏–Ω–æ–∑–∞–≤—Ä–∏–∫Xx','–ø–æ–¥–ø–∏—à–∏—Ç–µ—Å –Ω–∞ –º–æ–π –∫–∞–Ω–∞–ª —É –º–∏–Ω—è 3 –ø–æ–¥–ø–∏—Å—á–∏–∫–∞!!!! üôè'],
    ['–ü—É–ø—Å–∏–∫_2018','–∫—Ç–æ –∏–∑ 2026 –≥–æ–¥–∞ —Å—Ç–∞–≤—Ç–µ –ª–∞–π–∫!!!!! ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è'],
    ['–°–µ—Ä—ë–≥–∞_–≥–µ–π–º–µ—Ä','–∫–∞–π—Ñ, –∏–≥—Ä–∞–ª –≤—á–µ—Ä–∞ 3 —á–∞—Å–∞ üëç'],
    ['dark_lord_666','ctrl+w ‚Äî –ª—É—á—à–∞—è –∫–Ω–æ–ø–∫–∞ –¥–ª—è —ç—Ç–æ–≥–æ –≤–∏–¥–µ–æ'],
  ],

  _ytStartAutoChat() {
    this._ytStopAutoChat();
    this._ytChatHistory = [];
    this._ytAutoConvoQueue = [];
    // Start first bot comment after 2-4 seconds, then every 3-8 seconds with varying delays
    const scheduleNext = () => {
      const delay = 3000 + Math.random() * 5000;
      this._ytAutoChatTimer = setTimeout(() => {
        this._ytAutoChatTick();
        scheduleNext();
      }, delay);
    };
    this._ytAutoChatTimer = setTimeout(() => {
      this._ytAutoChatTick();
      scheduleNext();
    }, 2000 + Math.random() * 2000);
  },

  _ytStopAutoChat() {
    if (this._ytAutoChatTimer) {
      clearTimeout(this._ytAutoChatTimer);
      clearInterval(this._ytAutoChatTimer);
      this._ytAutoChatTimer = null;
    }
    if (this._ytAutoReplyTimers) {
      this._ytAutoReplyTimers.forEach(t => clearTimeout(t));
      this._ytAutoReplyTimers = [];
    }
    this._ytAutoConvoQueue = [];
  },

  _ytAutoReplyTimers: [],

  _ytAutoChatTick() {
    const list = document.getElementById('yt-comments-list');
    if (!list) { this._ytStopAutoChat(); return; }

    // Sometimes bots like/dislike existing comments
    if (Math.random() < 0.25) {
      this._ytBotRandomReact();
    }
    // Pick a random conversation script or a random kid/bot comment
    if (Math.random() < 0.4) {
      const types = ['kid','kid','fan','fan','hater','neutral','neutral'];
      const type = types[Math.floor(Math.random() * types.length)];
      this._ytSpawnBotComment(list, type, null);
    } else {
      const convo = this._ytAutoConvos[Math.floor(Math.random() * this._ytAutoConvos.length)];
      for (let i = 0; i < convo.length; i += 2) {
        const botName = convo[i];
        const text = convo[i + 1];
        const delay = (i / 2) * (1500 + Math.random() * 2000);
        const timer = setTimeout(() => {
          const cList = document.getElementById('yt-comments-list');
          if (!cList) return;
          const bot = this._ytBots.find(b => b.name === botName);
          const color = bot ? bot.color : '#888';
          const type = bot ? bot.type : 'neutral';
          const isReply = text.startsWith('@');
          this._ytRenderComment(cList, botName, color, text, type, isReply);
          this._ytChatHistory.push({ name: botName, text: text });
          if (this._ytChatHistory.length > 20) this._ytChatHistory.shift();
        }, delay);
        this._ytAutoReplyTimers.push(timer);
      }
    }
  },

  // Bots randomly like/dislike existing comments
  _ytBotRandomReact() {
    if (this._ytCommentId < 1) return;
    // Pick a random existing comment
    const targetId = 1 + Math.floor(Math.random() * this._ytCommentId);
    if (Math.random() < 0.7) {
      // Like
      const el = document.getElementById('yt-cmt-like-' + targetId);
      if (el) {
        const span = el.querySelector('span');
        if (span) span.textContent = parseInt(span.textContent) + 1;
      }
    } else {
      // Dislike
      const el = document.getElementById('yt-cmt-dis-' + targetId);
      if (el) {
        const span = el.querySelector('span');
        if (span) span.textContent = parseInt(span.textContent) + 1;
      }
    }
  },

  _ytCommentId: 0,
  _ytReplyTo: null, // {name, id} of comment being replied to
  _ytCmtEmojiOpen: false,

  _ytCommentEmojis: ['üòÄ','üòÇ','ü§£','üòé','üòç','ü§î','üò±','üòà','üëç','üëé','‚ù§Ô∏è','üî•','üíÄ','ü™≥','üìé','üõ°Ô∏è','üëë','üî®','üí∞','üéÆ','üí•','‚ú®','üéâ','üò≠','ü§ë','üï∑Ô∏è','ü¶ñ','üíä','‚ö°','üèÜ'],

  _ytCmtEmojiPickerHTML() {
    return this._ytCommentEmojis.map(e => '<span class="chat-emoji-pick" onclick="game.ytCmtInsertEmoji(\'' + e + '\')">' + e + '</span>').join('');
  },

  ytCmtToggleEmoji() {
    this._ytCmtEmojiOpen = !this._ytCmtEmojiOpen;
    const picker = document.getElementById('yt-cmt-emoji-picker');
    if (picker) picker.classList.toggle('open', this._ytCmtEmojiOpen);
  },

  ytCmtInsertEmoji(emoji) {
    const inp = document.getElementById('yt-comment-input');
    if (inp) { inp.value += emoji; inp.focus(); }
  },

  _ytRenderComment(list, name, color, text, type, indent) {
    const id = ++this._ytCommentId;
    const isHater = type === 'hater';
    const isKid = type === 'kid';
    const isUser = type === 'user';
    const likes = isUser ? 0 : Math.floor(Math.random() * 200);
    const div = document.createElement('div');
    div.id = 'yt-cmt-' + id;
    div.style.cssText = `font-size:9px;color:#555;margin-top:3px;animation:ytFadeIn 0.3s;padding:3px 0 3px ${indent ? '16px' : '0'};border-bottom:1px solid #eee;`;
    const badge = isHater ? ' üëé' : isKid ? ' üßí' : '';
    const safeText = text.replace(/</g,'&lt;').replace(/>/g,'&gt;');
    const safeName = name.replace(/'/g,"\\'").replace(/"/g,'&quot;');
    div.innerHTML = '<div><span style="color:'+color+';font-weight:bold;">'+name+'</span>'+badge+': "'+safeText+'"</div>'
      + '<div style="display:flex;gap:8px;align-items:center;margin-top:1px;">'
      + '<span onclick="game.ytCmtLike('+id+')" style="cursor:pointer;font-size:8px;color:#888;" id="yt-cmt-like-'+id+'">&#x1F44D; <span>'+likes+'</span></span>'
      + '<span onclick="game.ytCmtDislike('+id+')" style="cursor:pointer;font-size:8px;color:#888;" id="yt-cmt-dis-'+id+'">&#x1F44E; <span>0</span></span>'
      + '<span onclick="game.ytCmtReply(\''+safeName+'\')" style="cursor:pointer;font-size:8px;color:#065fd4;font-weight:bold;">–û—Ç–≤–µ—Ç–∏—Ç—å</span>'
      + '</div>';
    list.appendChild(div);
    list.scrollTop = list.scrollHeight;
    return id;
  },

  ytCmtLike(id) {
    const el = document.getElementById('yt-cmt-like-' + id);
    if (!el) return;
    const span = el.querySelector('span');
    if (span) span.textContent = parseInt(span.textContent) + 1;
    el.style.color = '#065fd4';
    SFX.play('yt_ding');
  },

  ytCmtDislike(id) {
    const el = document.getElementById('yt-cmt-dis-' + id);
    if (!el) return;
    const span = el.querySelector('span');
    if (span) span.textContent = parseInt(span.textContent) + 1;
    el.style.color = '#c00';
    SFX.play('popup');
    // Trigger hater response to disliked comment
    const list = document.getElementById('yt-comments-list');
    if (list && Math.random() < 0.5) {
      setTimeout(() => { this._ytSpawnBotComment(list, 'hater', null); }, 800);
    }
  },

  ytCmtReply(name) {
    const inp = document.getElementById('yt-comment-input');
    if (!inp) return;
    inp.value = '@' + name + ' ';
    inp.focus();
  },

  // Bots react to user's comment with likes/dislikes by meaning
  _ytBotReactToComment(cmtId, text) {
    const lower = text.toLowerCase();
    // Sentiment keywords
    const positive = ['–∫—Ä—É—Ç–æ','–∫–ª–∞—Å—Å','—Ç–æ–ø','–æ–≥–æ–Ω—å','–ª–∞–π–∫','—Å—É–ø–µ—Ä','–∫—Ä–∞—Å–∏–≤–æ','—à–µ–¥–µ–≤—Ä','–ª—É—á—à–∏–π','–º–æ–ª–æ–¥–µ—Ü','—Å–ø–∞—Å–∏–±–æ','–ª—é–±–ª—é','–æ–±–æ–∂–∞—é','—Ä–µ–∫–æ–º–µ–Ω–¥—É—é','–∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ','–≤–µ—Å–µ–ª–æ','—Å–º–µ—à–Ω–æ','–∞—Ö–∞—Ö','–ª–æ–ª','üòÇ','‚ù§Ô∏è','üî•','üëç','üí™','üèÜ','—É—Ä–∞','–≤–∞—É','–ø—Ä–∏–∫–æ–ª—å–Ω–æ','–∫–∞–π—Ñ','–±–∞–∑–∞'];
    const negative = ['–∫—Ä–∏–Ω–∂','—Ñ—É','–ø–ª–æ—Ö–æ','–æ—Ç—Å—Ç–æ–π','—É–∂–∞—Å','—Å–∫—É—á–Ω–æ','–º—É—Å–æ—Ä','—É–¥–∞–ª–∏','–¥–∏–∑–ª–∞–π–∫','–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è','—Ö—É–∂–µ','—Ç—É–ø–æ','–±—Ä–µ–¥','—á—É—à—å','–∑—Ä—è','—Ä–∞–∑–æ—á–∞—Ä–æ–≤','–Ω–∞–¥–æ–µ–ª','—É—Å—Ç–∞–ª','—Å–ª–∞–±–æ','–Ω—É–±','–≥–ª—É–ø–æ','ü§Æ','üëé','üíÄ','trash','cringe','L'];
    const funny = ['–∞–º–æ–≥—É—Å','amogus','—Å–∫–∏–±–∏–¥–∏','–º–µ–º','—à–µ–µ—à','üóø','gg','–ª–º–∞–æ','—Ä–æ—Ñ–ª','–∞—Ö–∞—Ö–∞—Ö','üòÇüòÇ','–º—è—É','uwu','–Ω—è','–ø–µ—Ä–≤—ã–π','–º–∞–º–∞'];
    const provoking = ['—Ö–µ–π—Ç','–≤–æ–π–Ω–∞','–∞—Ç–∞–∫','—É–±–∏—Ç—å','—É–Ω–∏—á—Ç–æ–∂','–¥—Ä–∞–∫–∞','–±–æ–π','versus','vs','—Å—Ä–∞–∂–µ–Ω','–ø–æ–±–µ–¥','–≤—Ä–∞–≥—É'];

    let posScore = 0, negScore = 0, funScore = 0;
    for (const k of positive) { if (lower.includes(k)) posScore++; }
    for (const k of negative) { if (lower.includes(k)) negScore++; }
    for (const k of funny) { if (lower.includes(k)) funScore++; }
    for (const k of provoking) { if (lower.includes(k)) { posScore += 0.5; negScore += 0.5; } }

    // Calculate who reacts
    // fans: 4 bots, haters: 3, kids: 5, neutral: 3
    const totalLikes = Math.floor(posScore * (3 + Math.random() * 5) + funScore * (2 + Math.random() * 4) + Math.random() * 2);
    const totalDislikes = Math.floor(negScore * (2 + Math.random() * 4) + Math.random());

    // If neutral (no strong sentiment), small random reaction
    const isNeutral = posScore === 0 && negScore === 0 && funScore === 0;
    const finalLikes = isNeutral ? Math.floor(Math.random() * 5 + 1) : totalLikes;
    const finalDislikes = isNeutral ? Math.floor(Math.random() * 2) : totalDislikes;

    // Animate likes appearing over time
    let likesDone = 0, dislikesDone = 0;
    const addOneLike = () => {
      if (likesDone >= finalLikes) return;
      const el = document.getElementById('yt-cmt-like-' + cmtId);
      if (!el) return;
      const span = el.querySelector('span');
      if (span) span.textContent = parseInt(span.textContent) + 1;
      if (likesDone === 0 && finalLikes > 3) el.style.color = '#065fd4';
      likesDone++;
      if (likesDone < finalLikes) {
        setTimeout(addOneLike, 400 + Math.random() * 800);
      }
    };
    const addOneDislike = () => {
      if (dislikesDone >= finalDislikes) return;
      const el = document.getElementById('yt-cmt-dis-' + cmtId);
      if (!el) return;
      const span = el.querySelector('span');
      if (span) span.textContent = parseInt(span.textContent) + 1;
      if (dislikesDone === 0 && finalDislikes > 2) el.style.color = '#c00';
      dislikesDone++;
      if (dislikesDone < finalDislikes) {
        setTimeout(addOneDislike, 600 + Math.random() * 1200);
      }
    };

    // Start reactions after a delay
    if (finalLikes > 0) setTimeout(addOneLike, 1000 + Math.random() * 1500);
    if (finalDislikes > 0) setTimeout(addOneDislike, 1500 + Math.random() * 2000);
  },

  _ytSpawnBotComment(list, type, userText) {
    if (!list) return;
    const bots = this._ytBots.filter(b => type ? b.type === type : true);
    if (bots.length === 0) return;
    const bot = bots[Math.floor(Math.random() * bots.length)];
    // 30% chance to use AI for comment
    if (Math.random() < 0.3) {
      const personality = bot.type === 'hater' ? '—Ç–æ–∫—Å–∏—á–Ω—ã–π —Ö–µ–π—Ç–µ—Ä –∏–ª–∏ –≥—Ä—É–±–∏—è–Ω, –ø–∏—à–µ—Ç –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ –∏ –ø—Ä–æ–≤–æ—Ü–∏—Ä—É–µ—Ç'
        : bot.type === 'kid' ? '–∑—É–º–µ—Ä –∏–ª–∏ —Ä–µ–±—ë–Ω–æ–∫, –ø–∏—à–µ—Ç –º–µ–º–∞–º–∏, —Å –æ—à–∏–±–∫–∞–º–∏ –∏ —Å–ª–µ–Ω–≥–æ–º (—à–µ–µ—à, –±–∞–∑–∞, —Å–∫–∏–±–∏–¥–∏, fr fr)'
        : bot.type === 'fan' ? '–∞–¥–µ–∫–≤–∞—Ç–Ω—ã–π —á–µ–ª–æ–≤–µ–∫, –ø–∏—à–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –º–æ–∂–µ—Ç –±—ã—Ç—å —É–º–Ω—ã–º –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–º –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ö–æ—Ä–æ—à–∏–º —é–∑–µ—Ä–æ–º'
        : '—Å–∫–µ–ø—Ç–∏–∫, —Ñ–∏–ª–æ—Å–æ—Ñ, –±–æ—Ç-—Å–ø–∞–º–µ—Ä, –∏–ª–∏ –Ω–æ—Å—Ç–∞–ª—å–≥–∏–∫ ‚Äî –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–º–µ–Ω–∏';
      const prompt = DeepSeekAI.prompts.comment_bot + personality + '. –ò–º—è: ' + bot.name;
      const context = userText ? '–û—Ç–≤–µ—Ç—å –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: "' + userText + '"' : '–ù–∞–ø–∏—à–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –≤–∏–¥–µ–æ –æ–± –∏–≥—Ä–µ —Å —Ç–∞—Ä–∞–∫–∞–Ω–∞–º–∏';
      // Show placeholder first
      const placeholderId = this._ytRenderComment(list, bot.name, bot.color, '...', bot.type, false);
      DeepSeekAI.generate(prompt, context).then(aiText => {
        if (aiText) {
          const el = document.getElementById('yt-cmt-' + placeholderId);
          if (el) {
            const firstDiv = el.querySelector('div');
            if (firstDiv) {
              const badge = bot.type === 'hater' ? ' üëé' : bot.type === 'kid' ? ' üßí' : '';
              firstDiv.innerHTML = '<span style="color:'+bot.color+';font-weight:bold;">'+bot.name+'</span>'+badge+': "'+aiText.replace(/</g,'&lt;').replace(/>/g,'&gt;')+'"';
            }
          }
        }
      });
      return;
    }
    let reply = null;
    if (userText) {
      const lower = userText.toLowerCase();
      for (const p of bot.patterns) {
        if (p.kw.some(k => lower.includes(k))) {
          reply = p.r[Math.floor(Math.random() * p.r.length)];
          break;
        }
      }
    }
    if (!reply) reply = bot.fallback[Math.floor(Math.random() * bot.fallback.length)];
    this._ytRenderComment(list, bot.name, bot.color, reply, bot.type, false);
  },

  ytAddComment() {
    const inp = document.getElementById('yt-comment-input');
    if (!inp) return;
    const text = inp.value.trim();
    if (!text) return;
    this._ytCmtEmojiOpen = false;
    const ePicker = document.getElementById('yt-cmt-emoji-picker');
    if (ePicker) ePicker.classList.remove('open');
    inp.value = '';
    SFX.play('yt_ding');
    const list = document.getElementById('yt-comments-list');
    if (!list) return;
    const isReply = text.startsWith('@');
    const userCmtId = this._ytRenderComment(list, '–¢—ã', '#065fd4', text, 'user', isReply);
    // Bots react with likes/dislikes based on meaning
    this._ytBotReactToComment(userCmtId, text);
    // First reply uses AI, rest use keywords
    const lower = text.toLowerCase();
    const shuffled = [...this._ytBots].sort(() => Math.random() - 0.5);
    const firstBot = shuffled[0];
    const usedBots = new Set([firstBot.name]);
    // AI-powered first reply
    const personality = firstBot.type === 'hater' ? '—Ö–µ–π—Ç–µ—Ä, —Ç–æ–∫—Å–∏—á–Ω—ã–π' : firstBot.type === 'kid' ? '—Ä–µ–±—ë–Ω–æ–∫ 8 –ª–µ—Ç —Å –æ—à–∏–±–∫–∞–º–∏' : firstBot.type === 'fan' ? '–≤–æ—Å—Ç–æ—Ä–∂–µ–Ω–Ω—ã–π —Ñ–∞–Ω–∞—Ç' : '–æ–±—ã—á–Ω—ã–π —é–∑–µ—Ä';
    const aiPrompt = DeepSeekAI.prompts.comment_bot + personality + '. –ò–º—è: ' + firstBot.name + '. –û—Ç–≤–µ—Ç—å –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.';
    const placeholderId = this._ytRenderComment(list, firstBot.name, firstBot.color, '...', firstBot.type, true);
    DeepSeekAI.generate(aiPrompt, '@–¢—ã –Ω–∞–ø–∏—Å–∞–ª: "'+text+'". –ù–∞–ø–∏—à–∏ –û–î–ò–ù –∫–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç.').then(aiText => {
      const el = document.getElementById('yt-cmt-' + placeholderId);
      if (el) {
        const firstDiv = el.querySelector('div');
        const badge = firstBot.type === 'hater' ? ' üëé' : firstBot.type === 'kid' ? ' üßí' : '';
        const finalText = aiText ? '@–¢—ã ' + aiText.replace(/</g,'&lt;').replace(/>/g,'&gt;') : '@–¢—ã ' + firstBot.fallback[Math.floor(Math.random()*firstBot.fallback.length)];
        if (firstDiv) firstDiv.innerHTML = '<span style="color:'+firstBot.color+';font-weight:bold;">'+firstBot.name+'</span>'+badge+': "'+finalText+'"';
      }
    });
    // Second reply: keyword-based
    if (Math.random() < 0.6) {
      setTimeout(() => {
        let bestBot = null, bestScore = -1;
        for (const bot of shuffled) {
          if (usedBots.has(bot.name)) continue;
          let score = Math.random() * 2;
          for (const p of bot.patterns) { if (p.kw.some(k => lower.includes(k))) { score += 10; break; } }
          if (score > bestScore) { bestScore = score; bestBot = bot; }
        }
        if (!bestBot) return;
        let reply = null;
        for (const p of bestBot.patterns) { if (p.kw.some(k => lower.includes(k))) { reply = p.r[Math.floor(Math.random()*p.r.length)]; break; } }
        if (!reply) reply = bestBot.fallback[Math.floor(Math.random()*bestBot.fallback.length)];
        this._ytRenderComment(list, bestBot.name, bestBot.color, '@–¢—ã ' + reply, bestBot.type, true);
      }, 2000 + Math.random() * 1500);
    }
    if (Math.random() < 0.3) {
      setTimeout(() => { this._ytSpawnBotComment(list, 'hater', text); }, 3000 + Math.random() * 2000);
    }
  },

  // === CREATE YOUR OWN VIDEO ===
  _ytStudioEmojis: ['ü™≥','üî®','üìé','üí∞','üï∑Ô∏è','ü¶ñ','üí•','üî•','üò±','üèÜ','üíÄ','üëæ','üõ°Ô∏è','üëë','‚ö°','üéÆ','üòÇ','ü§Ø','‚ù§Ô∏è','üåü'],
  _ytStudioScenes: [],
  _ytStudioTitle: '',

  ytOpenStudio() {
    const page = document.getElementById('yt-page');
    if (!page) return;
    this._ytStudioScenes = [];
    this._ytStudioTitle = '';
    SFX.play('yt_whoosh');
    const emojiPicks = this._ytStudioEmojis.map(e => `<span class="chat-emoji-pick" onclick="game.ytStudioAddScene('${e}')" style="font-size:22px;">${e}</span>`).join('');
    page.innerHTML = `
      <div style="display:flex;align-items:center;gap:6px;margin-bottom:6px;">
        <button class="win-btn" onclick="game.ytBack()" style="font-size:10px;min-width:auto;padding:2px 8px;">&#x2190; –ù–∞–∑–∞–¥</button>
        <span style="font-size:11px;font-weight:bold;">&#x1F3AC; –°—Ç—É–¥–∏—è CockTube</span>
      </div>
      <div style="padding:6px;background:#f8f8f8;border-radius:6px;margin-bottom:6px;">
        <div style="font-size:10px;font-weight:bold;color:#333;margin-bottom:4px;">–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ: <span onclick="game.ytAiTitle()" style="cursor:pointer;color:#c00;font-size:9px;margin-left:4px;">&#x1F916; –ü—Ä–∏–¥—É–º–∞—Ç—å –ò–ò</span></div>
        <input id="yt-studio-title" style="width:100%;border:1px solid #ccc;border-radius:4px;padding:3px 6px;font-size:11px;box-sizing:border-box;" placeholder="–ú–æ—ë –∫—Ä—É—Ç–æ–µ –≤–∏–¥–µ–æ..." maxlength="50"/>
      </div>
      <div style="font-size:10px;font-weight:bold;color:#333;margin-bottom:4px;">–í—ã–±–µ—Ä–∏ –∫–∞–¥—Ä—ã (–¥–æ 6):</div>
      <div style="display:flex;flex-wrap:wrap;gap:3px;margin-bottom:6px;">${emojiPicks}</div>
      <div style="font-size:10px;color:#666;margin-bottom:4px;">–¢–≤–æ–∏ –∫–∞–¥—Ä—ã:</div>
      <div id="yt-studio-timeline" style="display:flex;gap:4px;min-height:40px;padding:6px;background:#222;border-radius:6px;align-items:center;justify-content:center;">
        <span style="color:#666;font-size:10px;">–ù–∞–∂–º–∏ –Ω–∞ —ç–º–æ–¥–∑–∏ –≤—ã—à–µ...</span>
      </div>
      <div style="display:flex;gap:6px;margin-top:8px;justify-content:center;">
        <button class="win-btn" onclick="game.ytStudioClear()" style="font-size:10px;min-width:auto;padding:3px 10px;">&#x1F5D1; –û—á–∏—Å—Ç–∏—Ç—å</button>
        <button class="win-btn win-btn-primary" onclick="game.ytStudioPublish()" style="font-size:10px;min-width:auto;padding:3px 14px;background:#c00;color:#fff;border-color:#f44 #800 #800 #f44;">&#x1F4F9; –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
      </div>`;
  },

  ytAiTitle() {
    const inp = document.getElementById('yt-studio-title');
    if (!inp) return;
    inp.value = '–ò–ò –¥—É–º–∞–µ—Ç...';
    inp.disabled = true;
    DeepSeekAI.generate(DeepSeekAI.prompts.video_title, '–ü—Ä–∏–¥—É–º–∞–π –Ω–∞–∑–≤–∞–Ω–∏–µ').then(title => {
      inp.disabled = false;
      if (title) {
        inp.value = title.replace(/"/g,'').substring(0, 50);
      } else {
        inp.value = '';
        inp.placeholder = '–ò–ò –Ω–µ –æ—Ç–≤–µ—Ç–∏–ª, –Ω–∞–ø–∏—à–∏ —Å–∞–º...';
      }
    });
  },

  ytStudioAddScene(emoji) {
    if (this._ytStudioScenes.length >= 6) return;
    this._ytStudioScenes.push(emoji);
    SFX.play('yt_beat');
    const timeline = document.getElementById('yt-studio-timeline');
    if (timeline) {
      timeline.innerHTML = this._ytStudioScenes.map((e, i) => `
        <div style="width:40px;height:50px;background:#333;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:24px;border:1px solid #555;cursor:pointer;position:relative;" onclick="game.ytStudioRemoveScene(${i})">
          ${e}
          <span style="position:absolute;top:1px;right:2px;font-size:7px;color:#888;">${i+1}</span>
        </div>`).join('');
    }
  },

  ytStudioRemoveScene(idx) {
    this._ytStudioScenes.splice(idx, 1);
    SFX.play('popup');
    const timeline = document.getElementById('yt-studio-timeline');
    if (timeline) {
      if (this._ytStudioScenes.length === 0) {
        timeline.innerHTML = '<span style="color:#666;font-size:10px;">–ù–∞–∂–º–∏ –Ω–∞ —ç–º–æ–¥–∑–∏ –≤—ã—à–µ...</span>';
      } else {
        timeline.innerHTML = this._ytStudioScenes.map((e, i) => `
          <div style="width:40px;height:50px;background:#333;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:24px;border:1px solid #555;cursor:pointer;position:relative;" onclick="game.ytStudioRemoveScene(${i})">
            ${e}
            <span style="position:absolute;top:1px;right:2px;font-size:7px;color:#888;">${i+1}</span>
          </div>`).join('');
      }
    }
  },

  ytStudioClear() {
    this._ytStudioScenes = [];
    SFX.play('popup');
    const timeline = document.getElementById('yt-studio-timeline');
    if (timeline) timeline.innerHTML = '<span style="color:#666;font-size:10px;">–ù–∞–∂–º–∏ –Ω–∞ —ç–º–æ–¥–∑–∏ –≤—ã—à–µ...</span>';
  },

  ytStudioPublish() {
    if (this._ytStudioScenes.length < 2) {
      SFX.play('error');
      this.showPopup(200, 200, '–ú–∏–Ω–∏–º—É–º 2 –∫–∞–¥—Ä–∞!');
      return;
    }
    const titleInput = document.getElementById('yt-studio-title');
    const title = (titleInput && titleInput.value.trim()) || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è';
    SFX.play('yt_victory');
    // Play the user's video!
    const page = document.getElementById('yt-page');
    if (!page) return;
    const scenes = this._ytStudioScenes;
    const dur = scenes.length * 1.5;
    const particles = ['sparks','fire','stars','coins','bugs'];
    const anims = ['pop','shake','spin','zoom'];
    const sfxList = ['yt_boom','yt_ding','yt_drama','yt_whoosh','yt_magic','yt_beat','yt_scary'];
    page.innerHTML = `
      <div style="display:flex;align-items:center;gap:6px;margin-bottom:6px;">
        <button class="win-btn" onclick="game.ytBack()" style="font-size:10px;min-width:auto;padding:2px 8px;">&#x2190; –ù–∞–∑–∞–¥</button>
        <span style="font-size:11px;font-weight:bold;">${title.replace(/</g,'&lt;')}</span>
      </div>
      <div class="yt-player" style="height:180px;background:#1a1a2e;" id="yt-player">
        <canvas id="yt-canvas" width="420" height="180" style="border-radius:8px;"></canvas>
        <div class="yt-player-overlay">
          <div class="yt-player-emoji yt-pop" id="yt-scene">${scenes[0]}</div>
          <div class="yt-player-title">${title.replace(/</g,'&lt;')}</div>
        </div>
        <div class="yt-subtitle" id="yt-subtitle">–ü—Ä–µ–º—å–µ—Ä–∞!</div>
        <div class="yt-views-live">&#x1F534; &#x1F4F9; –ú–û–Å –í–ò–î–ï–û</div>
        <div class="yt-player-bar" style="animation-duration:${dur}s;"></div>
      </div>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-top:4px;">
        <span style="font-size:10px;color:#666;">&#x2764; 0 &nbsp; &#x1F4AC; 0 &nbsp; &#x1F4F9; –ü—Ä–µ–º—å–µ—Ä–∞</span>
        <button class="win-btn" onclick="game.ytLike()" style="font-size:10px;min-width:auto;padding:2px 8px;">&#x1F44D; –õ–∞–π–∫ +$1</button><button class="win-btn" onclick="game.ytDislike()" style="font-size:10px;min-width:auto;padding:2px 8px;margin-left:2px;">&#x1F44E;</button>
      </div>
      <div style="margin-top:4px;position:relative;">
        <div class="chat-emoji-picker" id="yt-cmt-emoji-picker">${this._ytCmtEmojiPickerHTML()}</div>
        <div style="display:flex;gap:4px;">
          <button class="chat-emoji-btn" onclick="game.ytCmtToggleEmoji()">&#x1F600;</button>
          <input id="yt-comment-input" style="flex:1;border:1px solid #ccc;border-radius:12px;padding:2px 8px;font-size:10px;" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..." onkeydown="if(event.key==='Enter')game.ytAddComment()" maxlength="100"/>
          <button class="win-btn" onclick="game.ytAddComment()" style="font-size:9px;min-width:auto;padding:2px 6px;">&#x27A4;</button>
        </div>
      </div>
      <div id="yt-comments-list" style="margin-top:2px;"></div>`;
    // Animate
    this._ytCurrentEmoji = scenes[0];
    this._ytCurrentBG = '#1a1a2e';
    const firstP = particles[Math.floor(Math.random()*particles.length)];
    setTimeout(() => { const c = document.getElementById('yt-canvas'); if(c) this._ytStartParticles(c, firstP); }, 50);
    SFX.play(sfxList[Math.floor(Math.random()*sfxList.length)]);
    this._ytPlaying = true;
    this._ytStartAutoChat();
    let sceneIdx = 0;
    this._ytInterval = setInterval(() => {
      sceneIdx++;
      if (sceneIdx >= scenes.length) {
        clearInterval(this._ytInterval); this._ytPlaying = false;
        this._ytStopParticles();
        const sub = document.getElementById('yt-subtitle');
        if (sub) sub.textContent = '–í–∏–¥–µ–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ! +$3!';
        this.money += 3; this.updateMoney();
        SFX.play('yt_victory');
        return;
      }
      this._ytCurrentEmoji = scenes[sceneIdx];
      const el = document.getElementById('yt-scene');
      if (el) {
        el.textContent = scenes[sceneIdx];
        el.className = 'yt-player-emoji';
        void el.offsetWidth;
        el.classList.add('yt-' + anims[Math.floor(Math.random()*anims.length)]);
      }
      const sub = document.getElementById('yt-subtitle');
      if (sub) sub.textContent = '–ö–∞–¥—Ä ' + (sceneIdx+1) + '/' + scenes.length;
      SFX.play(sfxList[Math.floor(Math.random()*sfxList.length)]);
      this._ytStopParticles();
      const canvas = document.getElementById('yt-canvas');
      if (canvas) this._ytStartParticles(canvas, particles[Math.floor(Math.random()*particles.length)]);
    }, 1500);
  },

  // === –£–ë–ï–ì–ê–Æ–©–ê–Ø –ö–ù–û–ü–ö–ê "–ö–£–ü–ò–¢–¨" –í –ú–ê–ì–ê–ó–ò–ù–ï ===
  setupFleeingButton() {
    const modal = document.getElementById('shop-modal');
    const btn = document.getElementById('buy-nokia-btn');
    if (!btn || !modal) return;

    btn.classList.add('flee-btn');
    let fleeActive = true;
    let lastTeleport = 0;

    modal.addEventListener('mousemove', e => {
      if (!fleeActive || btn.disabled) return;
      const rect = btn.getBoundingClientRect();
      const bx = rect.left + rect.width / 2;
      const by = rect.top + rect.height / 2;
      const dx = e.clientX - bx;
      const dy = e.clientY - by;
      const dist = Math.sqrt(dx * dx + dy * dy);

      if (dist < 180) {
        const now = Date.now();
        // –¢–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—è –ø—Ä–∏ –æ—á–µ–Ω—å –±–ª–∏–∑–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ
        if (dist < 50 && now - lastTeleport > 400) {
          lastTeleport = now;
          const randAngle = Math.random() * Math.PI * 2;
          const teleportDist = 100 + Math.random() * 80;
          let newLeft = Math.cos(randAngle) * teleportDist;
          let newTop = Math.sin(randAngle) * teleportDist * 0.5;
          newLeft = Math.max(-180, Math.min(180, newLeft));
          newTop = Math.max(-70, Math.min(80, newTop));
          btn.style.marginLeft = newLeft + 'px';
          btn.style.marginTop = newTop + 'px';
          btn.style.transition = 'margin 0.05s';
          setTimeout(() => btn.style.transition = 'margin 0.15s ease-out', 50);
          btn.classList.add('panicking');
          setTimeout(() => btn.classList.remove('panicking'), 500);
          return;
        }

        // –£–±–µ–≥–∞–µ–º –æ—Ç –º—ã—à–∫–∏!
        const angle = Math.atan2(dy, dx);
        const force = (200 - dist) * 0.9;
        let nx = -Math.cos(angle) * force;
        let ny = -Math.sin(angle) * force;

        // –°–ª—É—á–∞–π–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –¥–ª—è –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç–∏
        nx += (Math.random() - 0.5) * 40;
        ny += (Math.random() - 0.5) * 30;

        const curLeft = parseFloat(btn.style.marginLeft || 0);
        const curTop = parseFloat(btn.style.marginTop || 0);
        let newLeft = curLeft + nx * 0.7;
        let newTop = curTop + ny * 0.7;

        // –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã
        newLeft = Math.max(-180, Math.min(180, newLeft));
        newTop = Math.max(-70, Math.min(80, newTop));

        btn.style.marginLeft = newLeft + 'px';
        btn.style.marginTop = newTop + 'px';

        if (dist < 70) {
          btn.classList.add('panicking');
          setTimeout(() => btn.classList.remove('panicking'), 300);
        }
      }
    });

    // –°–±—Ä–æ—Å –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
    const observer = new MutationObserver(() => {
      if (modal.classList.contains('hidden')) {
        btn.style.marginLeft = '0';
        btn.style.marginTop = '0';
      }
    });
    observer.observe(modal, { attributes: true, attributeFilter: ['class'] });
  },

  // === 1. CLIPPY ===
  spawnClippy() {
    if (this.clippy) return;
    const el = document.createElement('div');
    el.className = 'clippy';
    el.innerHTML = 'üìé';
    const x = 100 + Math.random() * (this.gameArea.clientWidth - 200);
    const y = 50 + Math.random() * (this.gameArea.clientHeight - 150);
    el.style.left = x + 'px'; el.style.top = y + 'px';
    const bubble = document.createElement('div');
    bubble.className = 'clippy-bubble';
    // Default text, then try AI
    const defaultMsg = this.clippyMsgs[Math.floor(Math.random() * this.clippyMsgs.length)];
    bubble.textContent = defaultMsg;
    el.appendChild(bubble);
    // AI-powered contextual tip
    const roaches = this.cockroaches ? this.cockroaches.length : 0;
    const chaos = Math.round(this.chaos || 0);
    const money = this.money || 0;
    const level = (this.currentLevel || 0) + 1;
    const situation = `–£—Ä–æ–≤–µ–Ω—å ${level}, —Ö–∞–æ—Å ${chaos}%, —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ ${roaches}, –¥–µ–Ω–µ–≥ $${money}`;
    DeepSeekAI.generate(DeepSeekAI.prompts.clippy_desktop, situation).then(tip => {
      if (tip && bubble && bubble.parentNode) bubble.textContent = tip;
    });
    el.addEventListener('mousedown', e => { e.preventDefault(); this.catchClippy(); });
    this.gameArea.appendChild(el);
    this.clippy = {el, x, y, vx:(Math.random()-0.5)*40, vy:(Math.random()-0.5)*40, life:12};
    SFX.play('popup');
  },
  catchClippy() {
    if (!this.clippy) return;
    // –ë—Ä–æ—Å–∞–µ–º –≤ –∫–æ—Ä–∑–∏–Ω—É?
    const rb = this.icons.find(i=>i.id==='recyclebin');
    if (rb) {
      const dx = this.clippy.x - rb.x, dy = this.clippy.y - rb.y;
      if (Math.sqrt(dx*dx+dy*dy) < 100) { this._achClippyTrash = true; this.checkAchievements(); }
    }
    this.clippy.el.remove(); this.clippy = null;
    this.addChaos(-5); SFX.play('squash');
    this.showPopup(200, 200, '–°–∫—Ä–µ–ø—ã—à –ø–æ–π–º–∞–Ω! -5');
  },
  updateClippy(dt) {
    if (!this.clippy) return;
    this.clippy.life -= dt;
    if (this.clippy.life <= 0) { this.clippy.el.remove(); this.clippy = null; return; }
    this.clippy.x += this.clippy.vx * dt; this.clippy.y += this.clippy.vy * dt;
    const aw = this.gameArea.clientWidth - 60, ah = this.gameArea.clientHeight - 60;
    if (this.clippy.x < 0 || this.clippy.x > aw) this.clippy.vx *= -1;
    if (this.clippy.y < 0 || this.clippy.y > ah) this.clippy.vy *= -1;
    this.clippy.x = Math.max(0, Math.min(aw, this.clippy.x));
    this.clippy.y = Math.max(0, Math.min(ah, this.clippy.y));
    this.clippy.el.style.left = this.clippy.x + 'px'; this.clippy.el.style.top = this.clippy.y + 'px';
    // Clippy –¥–≤–∏–≥–∞–µ—Ç –∏–∫–æ–Ω–∫–∏!
    if (Math.random() < 0.01) {
      const sitting = this.icons.filter(i=>i.state==='sitting');
      if (sitting.length > 0) { const v = sitting[Math.floor(Math.random()*sitting.length)]; this.wakeUpIcon(v); }
    }
    this.addChaos(dt * 1.5);
  },

  // === 2. VIRUSES ===
  infectIcon(icon) {
    if (icon.el.classList.contains('infected') || icon.state !== 'alive') return;
    icon.el.classList.add('infected');
    this.viruses.push({iconId:icon.id, timer:15});
    this.addChaos(5);
  },
  spawnVirus() {
    // Wake up a random icon and infect it
    const sitting = this.icons.filter(i => i.state === 'sitting');
    if (sitting.length > 0) {
      const victim = sitting[Math.floor(Math.random() * sitting.length)];
      this.wakeUpIcon(victim);
      this.infectIcon(victim);
    }
  },
  updateViruses(dt) {
    this.virusTimer += dt;
    if (this.virusTimer > 12 / this.difficulty && Math.random() < 0.3) {
      this.virusTimer = 0;
      const alive = this.icons.filter(i=>i.state==='alive' && !i.el.classList.contains('infected'));
      if (alive.length > 0) this.infectIcon(alive[Math.floor(Math.random()*alive.length)]);
    }
    // Spread
    this.viruses = this.viruses.filter(v => {
      v.timer -= dt;
      if (v.timer <= 0) { const ic = this.icons.find(i=>i.id===v.iconId); if(ic) ic.el.classList.remove('infected'); return false; }
      // Spread to nearby
      if (Math.random() < 0.02 * dt) {
        const src = this.icons.find(i=>i.id===v.iconId);
        if (src) this.icons.filter(i=>i.state==='alive'&&!i.el.classList.contains('infected')).forEach(t=>{
          const dx=src.x-t.x, dy=src.y-t.y;
          if(Math.sqrt(dx*dx+dy*dy)<80) this.infectIcon(t);
        });
      }
      return true;
    });
    // Infected icons add extra chaos
    this.viruses.forEach(() => this.addChaos(dt * 0.5));
  },

  // === 3. SPIDERS ===
  spawnSpider() {
    if (this.spiders.length >= 3) return;
    const el = document.createElement('div');
    el.className = 'spider'; el.textContent = 'üï∑Ô∏è';
    const x = Math.random() * (this.gameArea.clientWidth - 30);
    const y = Math.random() * (this.gameArea.clientHeight - 30);
    el.style.left = x + 'px'; el.style.top = y + 'px';
    const spider = {el, x, y, vx:(Math.random()-0.5)*50, vy:(Math.random()-0.5)*50, dirTimer:0, webTimer:0};
    el.addEventListener('mousedown', e => { e.preventDefault(); this.killSpider(spider); });
    this.gameArea.appendChild(el); this.spiders.push(spider);
  },
  killSpider(s) {
    s.el.remove(); this.spiders = this.spiders.filter(sp=>sp!==s);
    SFX.play('squash'); this.addChaos(-4); this.showPopup(s.x, s.y, '-4 —Ö–∞–æ—Å');
  },
  updateSpiders(dt) {
    this.spiderTimer += dt;
    if (this.spiderTimer > 20/this.difficulty) { this.spiderTimer = 0; this.spawnSpider(); }
    this.spiders.forEach(s => {
      s.dirTimer -= dt;
      if (s.dirTimer <= 0) { s.dirTimer = 1+Math.random()*2; const a=Math.random()*Math.PI*2; const sp=20+Math.random()*30; s.vx=Math.cos(a)*sp; s.vy=Math.sin(a)*sp; }
      s.x += s.vx*dt; s.y += s.vy*dt;
      const aw=this.gameArea.clientWidth-20, ah=this.gameArea.clientHeight-20;
      if(s.x<0||s.x>aw) s.vx*=-1; if(s.y<0||s.y>ah) s.vy*=-1;
      s.x=Math.max(0,Math.min(aw,s.x)); s.y=Math.max(0,Math.min(ah,s.y));
      s.el.style.left=s.x+'px'; s.el.style.top=s.y+'px';
      // Web slows nearby icons
      this.icons.forEach(i=>{if(i.state!=='alive')return; const dx=i.x-s.x,dy=i.y-s.y; if(Math.sqrt(dx*dx+dy*dy)<60){i.vx*=0.96;i.vy*=0.96;}});
    });
  },

  // === 4. BSOD BOSS EVENT ===
  triggerBSOD() {
    if (this.phase !== 'playing') return;
    const el = document.createElement('div');
    el.style.cssText = 'position:absolute;top:0;left:0;width:100%;height:calc(100% - 36px);background:#0000aa;z-index:86;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff;font-family:monospace;padding:40px;cursor:pointer;';
    el.innerHTML = `<div style="font-size:16px;margin-bottom:20px;">A problem has been detected and Windows has been shut down.</div>
      <div style="font-size:11px;margin-bottom:10px;">*** STOP: 0x000000ED (COCKROACH_OVERFLOW)</div>
      <div style="font-size:11px;">–¢–∞—Ä–∞–∫–∞–Ω—ã –ø–µ—Ä–µ–ø–æ–ª–Ω–∏–ª–∏ –±—É—Ñ–µ—Ä. –ö–ª–∏–∫–Ω–∏—Ç–µ 5 —Ä–∞–∑ —á—Ç–æ–±—ã –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å.</div>
      <div style="font-size:24px;margin-top:20px;" id="bsod-clicks">üîÑ 5</div>`;
    let clicks = 5;
    el.addEventListener('click', () => {
      clicks--; document.getElementById('bsod-clicks').textContent = 'üîÑ ' + clicks;
      if (clicks <= 0) { el.remove(); this.addChaos(-15); this.showPopup(200,200,'-15 —Ö–∞–æ—Å!'); SFX.play('startup'); }
    });
    this.gameArea.parentElement.appendChild(el);
    this.addChaos(10); SFX.play('error');
  },

  // === 5. POP-UP ADS ===
  _adTypes: [
    { msg:'üé∞ –í–´ –í–´–ò–ì–†–ê–õ–ò $1000000!!!', btn:'–ó–ê–ë–†–ê–¢–¨ –ü–†–ò–ó', result:'roach', resultMsg:'–ü—Ä–∏–∑: —Ç–∞—Ä–∞–∫–∞–Ω—ã!' },
    { msg:'üî• –ì–æ—Ä—è—á–∏–µ —Å–∫–∏–¥–∫–∏ -99%!', btn:'–°–ö–ê–ß–ê–¢–¨ –°–ö–ò–î–ö–£', result:'money', resultMsg:'+$2!' },
    { msg:'‚ö†Ô∏è –í–∞—à –ü–ö –∑–∞—Ä–∞–∂—ë–Ω 47 –≤–∏—Ä—É—Å–∞–º–∏!', btn:'–í–´–õ–ï–ß–ò–¢–¨ –ë–ï–°–ü–õ–ê–¢–ù–û', result:'virus', resultMsg:'–ï—â—ë –≤–∏—Ä—É—Å!' },
    { msg:'üíä –ê–Ω—Ç–∏–≤–∏—Ä—É—Å PRO –ë–ï–°–ü–õ–ê–¢–ù–û!', btn:'–°–ö–ê–ß–ê–¢–¨ .EXE', result:'chaos', resultMsg:'+5 —Ö–∞–æ—Å!' },
    { msg:'üéÅ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π iPhone 28!', btn:'–ü–û–õ–£–ß–ò–¢–¨', result:'roach', resultMsg:'iPhone = —Ç–∞—Ä–∞–∫–∞–Ω—ã!' },
    { msg:'üëª –¢–∞—Ä–∞–∫–∞–Ω—ã –Ω–µ–Ω–∞–≤–∏–¥—è—Ç –≠–¢–û!', btn:'–£–ó–ù–ê–¢–¨ –°–ï–ö–†–ï–¢', result:'money', resultMsg:'+$3 –∑–∞ —Å–µ–∫—Ä–µ—Ç!' },
    { msg:'üèÜ –í—ã 1000000-–π –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—å!', btn:'–ó–ê–ë–†–ê–¢–¨ –ù–ê–ì–†–ê–î–£', result:'money', resultMsg:'+$1 –Ω–∞–≥—Ä–∞–¥–∞!' },
    { msg:'üíé –ö—Ä–∏–ø—Ç–æ-–º–∞–π–Ω–µ—Ä v3.0', btn:'–£–°–¢–ê–ù–û–í–ò–¢–¨', result:'chaos', resultMsg:'–•–∞–æ—Å +8!' },
    { msg:'üîì –†–∞–∑–±–ª–æ–∫–∏—Ä—É–π VIP –¥–æ—Å—Ç—É–ø!', btn:'–ê–ö–¢–ò–í–ò–†–û–í–ê–¢–¨', result:'virus', resultMsg:'VIP = –≤–∏—Ä—É—Å!' },
    { msg:'üê± –ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ –∫–æ—Ç–∏–∫–∞!', btn:'–°–ú–û–¢–†–ï–¢–¨', result:'money', resultMsg:'–ö–æ—Ç–∏–∫: +$2!' },
  ],
  spawnPopupAd() {
    if (this.popupAds.length >= 4) return;
    const el = document.createElement('div');
    el.className = 'popup-ad';
    const x = 30+Math.random()*(this.gameArea.clientWidth - 250);
    const y = 20+Math.random()*(this.gameArea.clientHeight - 150);
    el.style.left = x + 'px'; el.style.top = y + 'px';
    const adType = this._adTypes[Math.floor(Math.random()*this._adTypes.length)];
    const adIdx = this.popupAds.length;
    el.innerHTML = `<div class="ad-titlebar"><span>–†–µ–∫–ª–∞–º–∞</span><div class="ad-close" data-ad="close">&#x2715;</div></div><div class="ad-body"><span id="ad-text-${adIdx}">${adType.msg}</span><br><button class="win-btn" style="margin-top:6px;font-size:10px;" data-ad-btn="${adIdx}">${adType.btn}</button></div>`;
    // Try AI-generated ad text
    DeepSeekAI.generate(DeepSeekAI.prompts.ad_generator, '–ü—Ä–∏–¥—É–º–∞–π —Ä–µ–∫–ª–∞–º—É').then(aiText => {
      if (aiText) {
        const span = document.getElementById('ad-text-' + adIdx);
        if (span) span.textContent = aiText;
      }
    });
    const closeBtn = el.querySelector('[data-ad="close"]');
    closeBtn.addEventListener('mouseover', () => { if(Math.random()<0.3) { closeBtn.style.position='relative'; closeBtn.style.left=(Math.random()*20-10)+'px'; closeBtn.style.top=(Math.random()*10-5)+'px'; } });
    closeBtn.addEventListener('click', e => { e.stopPropagation(); this.closePopupAd(ad); });
    const dlBtn = el.querySelector(`[data-ad-btn="${adIdx}"]`);
    dlBtn.addEventListener('click', e => { e.stopPropagation(); this.downloadAd(ad, adType); });
    const ad = {el, timer:15, downloaded:false};
    this.gameArea.parentElement.appendChild(el);
    this.popupAds.push(ad);
    this.addChaos(3); SFX.play('popup');
  },
  downloadAd(ad, adType) {
    if (ad.downloaded) return;
    ad.downloaded = true;
    const body = ad.el.querySelector('.ad-body');
    body.innerHTML = `<div style="font-size:10px;color:#333;">–ó–∞–≥—Ä—É–∑–∫–∞...</div><div class="ad-download-bar"><div class="ad-download-fill"></div></div>`;
    setTimeout(() => {
      if (!ad.el.parentElement) return;
      switch(adType.result) {
        case 'roach':
          if (!this.restMode) { this.createCockroach(); this.createCockroach(); }
          body.innerHTML = `<div style="font-size:18px;">ü™≥ü™≥</div><div style="font-size:10px;color:#c00;font-weight:bold;">${adType.resultMsg}</div>`;
          this.addChaos(3);
          break;
        case 'money':
          const amt = adType.resultMsg.includes('3') ? 3 : adType.resultMsg.includes('2') ? 2 : 1;
          this.money += amt; this.updateMoney();
          body.innerHTML = `<div style="font-size:18px;">üí∞</div><div style="font-size:10px;color:#0a0;font-weight:bold;">${adType.resultMsg}</div>`;
          SFX.play('coin');
          break;
        case 'virus':
          if (!this.restMode) this.spawnVirus();
          body.innerHTML = `<div style="font-size:18px;">ü¶†</div><div style="font-size:10px;color:#c00;font-weight:bold;">${adType.resultMsg}</div>`;
          this.addChaos(4);
          break;
        case 'chaos':
          const ch = adType.resultMsg.includes('8') ? 8 : 5;
          this.addChaos(ch);
          body.innerHTML = `<div style="font-size:18px;">üíÄ</div><div style="font-size:10px;color:#c00;font-weight:bold;">${adType.resultMsg}</div>`;
          break;
      }
      SFX.play('popup');
      ad.timer = 5; // Auto-close sooner after download
    }, 1600);
  },
  closePopupAd(ad) {
    ad.el.remove(); this.popupAds = this.popupAds.filter(a=>a!==ad);
    this.addChaos(-2);
  },
  updatePopupAds(dt) {
    this.adTimer += dt;
    if (this.adTimer > 15/this.difficulty) { this.adTimer = 0; this.spawnPopupAd(); }
    this.popupAds = this.popupAds.filter(a => { a.timer -= dt; if(a.timer<=0){a.el.remove();return false;} return true; });
  },

  // === 6. WINDOWS UPDATE ===
  triggerUpdate() {
    if (this.updateActive || this.phase !== 'playing') return;
    this.updateActive = true; this.updatePct = 0; this.updateTimer = 0;
    document.getElementById('update-overlay').classList.remove('hidden');
    const btn = document.getElementById('update-cancel-btn');
    btn.disabled = this.money < 5;
    btn.textContent = this.money < 5 ? '–ù–µ—Ç $5' : '–û—Ç–º–µ–Ω–∏—Ç—å ($5)';
    SFX.play('popup');
  },
  cancelUpdate() {
    if (!this.updateActive || this.money < 5) return;
    this.money -= 5; this.updateMoney();
    this.updateActive = false;
    document.getElementById('update-overlay').classList.add('hidden');
    SFX.play('coin'); this.showPopup(200, 200, '–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ!');
  },
  updateWindowsUpdate(dt) {
    if (!this.updateActive) return;
    this.updatePct += dt * 4;
    document.getElementById('update-pct').textContent = Math.min(99, Math.floor(this.updatePct)) + '%';
    // –•–∞–æ—Å —Ä–∞—Å—Ç—ë—Ç –ø–æ–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
    this.addChaos(dt * 3);
    if (this.updatePct >= 100) {
      this.updateActive = false;
      document.getElementById('update-overlay').classList.add('hidden');
      // "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ" –ª–æ–º–∞–µ—Ç —á—Ç–æ-—Ç–æ —Å–ª—É—á–∞–π–Ω–æ–µ
      this.addChaos(15);
      const sitting = this.icons.filter(i=>i.state==='sitting');
      sitting.slice(0,3).forEach(i=>this.wakeUpIcon(i));
      this.showPopup(200,200,'–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ª–æ–º–∞–ª–æ –≤—Å—ë!');
    }
  },

  // === 7. DEFRAG MINI-GAME (in app window) ===
  getDefragContent() {
    let cells = '';
    for(let i=0;i<50;i++){
      const type = Math.random()<0.3?'frag':Math.random()<0.6?'used':'free';
      cells += `<div class="defrag-cell ${type}" onclick="game.defragClick(this)" data-type="${type}"></div>`;
    }
    return `<div style="padding:4px;"><div style="font-size:11px;margin-bottom:4px;">–ö–ª–∏–∫–∞–π –∫—Ä–∞—Å–Ω—ã–µ –±–ª–æ–∫–∏ –¥–ª—è –¥–µ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–∏!</div><div class="defrag-grid">${cells}</div></div>`;
  },
  defragClick(cell) {
    if (cell.dataset.type === 'frag') {
      cell.className = 'defrag-cell fixed'; cell.dataset.type = 'fixed';
      this.addChaos(-2); SFX.play('place');
      // Check if all fixed
      const remaining = document.querySelectorAll('.defrag-cell.frag');
      if (remaining.length === 0) { this.addChaos(-10); this.showPopup(200,200,'–î–µ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞! -10'); this.money += 5; this.updateMoney(); }
    }
  },

  // === 8. ANTIVIRUS ===
  buyAntivirus() {
    if (this.hasAntivirus || this.money < 20) return;
    this.money -= 20; this.updateMoney(); this.hasAntivirus = true;
    SFX.play('powerup'); this.closeShop(); this.showPopup(200,200,'–ê–Ω—Ç–∏–≤–∏—Ä—É—Å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!');
    // Visual scan line
    const line = document.createElement('div'); line.className = 'av-scan-line';
    this.gameArea.appendChild(line); this.avScanEl = line;
  },
  updateAntivirus(dt) {
    if (!this.hasAntivirus) return;
    this.avTimer += dt;
    if (this.avTimer > 4) {
      this.avTimer = 0;
      // Kill one cockroach
      const alive = this.cockroaches.filter(r=>r.alive);
      if (alive.length > 0) { this.squashCockroach(alive[0]); this.showPopup(alive[0].x, alive[0].y, 'üõ°Ô∏è –ê–Ω—Ç–∏–≤–∏—Ä—É—Å!'); }
      // Cure one virus
      if (this.viruses.length > 0) {
        const v = this.viruses[0]; const ic = this.icons.find(i=>i.id===v.iconId);
        if(ic) ic.el.classList.remove('infected');
        this.viruses.shift();
      }
    }
  },

  // === 9. CRAZY MOUSE ===
  updateCrazyMouse(dt) {
    const gameArea = this.gameArea;
    if (this.chaos > 60) {
      const shake = (this.chaos - 60) / 40 * 3;
      gameArea.style.cursor = `url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16'%3E%3Ccircle cx='8' cy='8' r='4' fill='%23fff' stroke='%23000'/%3E%3C/svg%3E") 8 8, auto`;
      // Slight visual displacement via CSS transform on game area content
      if (Math.random() < 0.05) {
        gameArea.style.transform = `translate(${(Math.random()-0.5)*shake}px, ${(Math.random()-0.5)*shake}px)`;
        setTimeout(()=>gameArea.style.transform='', 100);
      }
    } else {
      if (!this.hammerMode) gameArea.style.cursor = '';
    }
  },

  // === 10. TRAPS ===
  buyTrap() {
    if (this.money < 8) return;
    this.money -= 8; this.updateMoney(); SFX.play('coin'); this.closeShop();
    // Place trap at center
    const el = document.createElement('div'); el.className = 'trap-item'; el.textContent = 'ü™§';
    const x = 100+Math.random()*(this.gameArea.clientWidth-200);
    const y = 100+Math.random()*(this.gameArea.clientHeight-200);
    el.style.left = x+'px'; el.style.top = y+'px';
    const trap = {el, x, y, catches:0, maxCatch:5};
    this.gameArea.appendChild(el); this.traps.push(trap);
    this.showPopup(x, y, '–õ–æ–≤—É—à–∫–∞!');
  },
  updateTraps(dt) {
    this.traps = this.traps.filter(trap => {
      // Check cockroaches near trap
      this.cockroaches.filter(r=>r.alive).forEach(r=>{
        const dx=r.x-trap.x, dy=r.y-trap.y;
        if(Math.sqrt(dx*dx+dy*dy)<30) { this.squashCockroach(r); trap.catches++; }
      });
      if (trap.catches >= trap.maxCatch) { trap.el.remove(); this.showPopup(trap.x,trap.y,'–õ–æ–≤—É—à–∫–∞ —Å—Ä–∞–±–æ—Ç–∞–ª–∞!'); return false; }
      return true;
    });
  },

  // === 11. GLUE ===
  buyGlue() {
    if (this.money < 6) return;
    this.money -= 6; this.updateMoney(); this.glueCount++; SFX.play('coin'); this.closeShop();
    // Glue random sitting icon
    const sitting = this.icons.filter(i=>i.state==='sitting');
    if (sitting.length > 0) {
      const icon = sitting[Math.floor(Math.random()*sitting.length)];
      icon.el.classList.add('glued'); icon._gluedTimer = 30;
      this.showPopup(icon.x, icon.y, 'üîí –ü—Ä–∏–∫–ª–µ–µ–Ω–æ!');
    }
  },
  updateGlue(dt) {
    this.icons.forEach(icon => {
      if (icon._gluedTimer > 0) {
        icon._gluedTimer -= dt;
        if (icon._gluedTimer <= 0) { icon.el.classList.remove('glued'); icon._gluedTimer = 0; }
        // Prevent escape
        if (icon.state === 'alive' && icon.el.classList.contains('glued')) {
          icon.state = 'sitting'; icon.el.classList.remove('alive'); icon.vx=0; icon.vy=0;
          icon.x = icon.homeX; icon.y = icon.homeY;
          icon.el.style.left=icon.x+'px'; icon.el.style.top=icon.y+'px';
        }
      }
    });
  },

  // === 12. FIRE EXTINGUISHER ===
  buyExtinguisher() {
    if (this.money < 10) return;
    this.money -= 10; this.updateMoney(); this.extinguisherCount++; SFX.play('coin'); this.closeShop();
    // Freeze everything
    SFX.play('freeze');
    this.stunned = true; this.stunTimer = 5;
    this.icons.forEach(i=>{if(i.state==='alive') i.el.classList.add('stunned');});
    this.gameArea.classList.add('frozen');
    setTimeout(()=>this.gameArea.classList.remove('frozen'), 5000);
    this.addChaos(-10);
    this.showPopup(200, 200, 'üßØ –í—Å—ë –∑–∞–º–æ—Ä–æ–∂–µ–Ω–æ! -10');
  },

  // === 13. SECOND MONITOR (visual hint + wider area) ===
  // Simplified: adds visual edge glow, icons can go further right

  // === 14. MAGNET ===
  buyMagnet() {
    if (this.money < 15) return;
    this.money -= 15; this.updateMoney(); SFX.play('powerup'); this.closeShop();
    this.magnetActive = true; this.magnetTimer = 3;
    this.showPopup(200, 200, 'üß≤ –ú–∞–≥–Ω–∏—Ç!');
  },
  updateMagnet(dt) {
    if (!this.magnetActive) return;
    this.magnetTimer -= dt;
    // Pull all alive icons toward home
    this.icons.forEach(icon => {
      if (icon.state !== 'alive') return;
      const dx = icon.homeX - icon.x, dy = icon.homeY - icon.y;
      const d = Math.sqrt(dx*dx+dy*dy);
      if (d < 20) {
        icon.state = 'sitting'; icon.el.classList.remove('alive'); icon.x=icon.homeX; icon.y=icon.homeY;
        icon.el.style.left=icon.x+'px'; icon.el.style.top=icon.y+'px';
        SFX.play('place'); this.addChaos(-8);
      } else {
        icon.vx = (dx/d) * 120; icon.vy = (dy/d) * 120;
      }
    });
    if (this.magnetTimer <= 0) this.magnetActive = false;
  },

  // === 15. SCREENSAVER ===
  updateScreensaver(dt) {
    if (this.screensaverActive) {
      this.screensaverTimer += dt;
      // –•–∞–æ—Å —Ä–∞—Å—Ç—ë—Ç –ø–æ–∫–∞ —Å–∫—Ä–∏–Ω—Å–µ–π–≤–µ—Ä –∞–∫—Ç–∏–≤–µ–Ω
      this.addChaos(dt * 2);
      return;
    }
    // Detect mouse idle - simplified: random activation
    this.idleTimer += dt;
    if (this.idleTimer > 30 && Math.random() < 0.001) {
      this.screensaverActive = true; this.screensaverTimer = 0;
      document.getElementById('screensaver').classList.remove('hidden');
      const ssText = document.querySelector('.ss-text');
      const lvl = LEVELS[this.currentLevel];
      ssText.textContent = lvl ? lvl.name : 'Windows';
    }
  },
  dismissScreensaver() {
    if (!this.screensaverActive) return;
    this.screensaverActive = false;
    document.getElementById('screensaver').classList.add('hidden');
    this.idleTimer = 0;
  },

  // === 16. WEATHER ===
  updateWeather(dt) {
    this.weatherTimer += dt;
    if (this.weatherTimer > 45) {
      this.weatherTimer = 0;
      const types = ['none','rain','snow','none'];
      this.weatherType = types[Math.floor(Math.random()*types.length)];
    }
    const container = document.getElementById('weather-container');
    if (this.weatherType === 'rain' && Math.random() < 0.3) {
      const drop = document.createElement('div'); drop.className = 'rain-drop';
      drop.style.left = Math.random()*100+'%'; drop.style.animationDuration = (0.5+Math.random()*0.5)+'s';
      container.appendChild(drop); setTimeout(()=>drop.remove(), 1500);
    }
    if (this.weatherType === 'snow' && Math.random() < 0.15) {
      const flake = document.createElement('div'); flake.className = 'snow-flake';
      flake.style.left = Math.random()*100+'%'; flake.style.animationDuration = (2+Math.random()*3)+'s';
      container.appendChild(flake); setTimeout(()=>flake.remove(), 5000);
      // Snow slows icons
      this.icons.forEach(i=>{if(i.state==='alive'){i.vx*=0.99;i.vy*=0.99;}});
    }
    if (this.weatherType === 'rain') {
      // Rain speeds up cockroaches
      this.cockroaches.forEach(r=>{if(r.alive){r.vx*=1.001;r.vy*=1.001;}});
    }
  },

  // === 17. DAY/NIGHT ===
  updateDayNight(dt) {
    this.dayNightTimer += dt;
    const cycle = this.dayNightCycle;
    const phase = (this.dayNightTimer % cycle) / cycle;
    // 0-0.5 = day, 0.5-1 = night
    const nightOverlay = document.getElementById('night-overlay');
    if (phase > 0.5) {
      const t = (phase - 0.5) * 2; // 0..1
      this.isNight = true;
      nightOverlay.style.background = `rgba(0,0,40,${t * 0.4})`;
    } else {
      this.isNight = false;
      const t = phase * 2; // 0..1
      nightOverlay.style.background = `rgba(0,0,40,${Math.max(0, 0.4 - t * 0.8)})`;
    }
    // Night = more roaches, slower icons
    if (this.isNight) {
      this.cockroaches.forEach(r=>{if(r.alive){r.vx*=1.002;r.vy*=1.002;}});
    }
  },

  // === 18. PIXEL FIRE ===
  updateFire(dt) {
    if (this.chaos < 80) return;
    const intensity = (this.chaos - 80) / 20;
    if (Math.random() < intensity * 0.3) {
      const el = document.createElement('div');
      el.className = 'fire-particle';
      const x = Math.random() * this.gameArea.clientWidth;
      const y = this.gameArea.clientHeight - 10;
      const size = 4 + Math.random() * 8;
      const hue = Math.random() * 40; // red-yellow
      el.style.cssText = `left:${x}px;top:${y}px;width:${size}px;height:${size}px;background:hsl(${hue},100%,50%);`;
      this.gameArea.appendChild(el);
      setTimeout(()=>el.remove(), 1000);
    }
  },

  // === 19. MINESWEEPER ===
  getMinesweeperContent() {
    const mines = new Set();
    while(mines.size < 8) mines.add(Math.floor(Math.random()*64));
    let cells = '';
    for(let i=0;i<64;i++){
      const isMine = mines.has(i);
      cells += `<div class="mine-cell" onclick="game.mineClick(this,${i},${isMine})" data-i="${i}" data-mine="${isMine}">`;
      cells += '</div>';
    }
    return `<div style="padding:2px;"><div style="font-size:10px;margin-bottom:4px;">üí£ –ù–∞–π–¥–∏ –≤—Å–µ –º–∏–Ω—ã! –ö–ª–∏–∫ = –æ—Ç–∫—Ä—ã—Ç—å</div><div class="mine-grid">${cells}</div></div>`;
  },
  mineClick(cell, idx, isMine) {
    if (cell.classList.contains('revealed')) return;
    cell.classList.add('revealed');
    if (isMine) {
      cell.classList.add('mine'); cell.textContent = 'üí£';
      this.addChaos(5); SFX.play('error'); this.showPopup(200,200,'–ë–£–ú! +5 —Ö–∞–æ—Å');
    } else {
      const n = Math.floor(Math.random()*3);
      cell.textContent = n || '';
      cell.style.color = ['','#00f','#0a0','#f00'][n];
      this.addChaos(-1); this.money += 1; this.updateMoney();
    }
  },

  // === 20. SOLITAIRE ===
  getSolitaireContent() {
    const suits = ['‚ô†','‚ô•','‚ô¶','‚ô£'];
    const vals = ['A','2','3','4','5','6','7','8'];
    let pairs = [];
    for(let i=0;i<8;i++) pairs.push(suits[i%4]+vals[i%8], suits[i%4]+vals[i%8]);
    // Shuffle
    for(let i=pairs.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[pairs[i],pairs[j]]=[pairs[j],pairs[i]];}
    let cards = pairs.map((c,i)=>`<div class="soli-card face-down" onclick="game.soliClick(this,'${c}')" data-val="${c}">${c}</div>`).join('');
    return `<div style="padding:2px;"><div style="font-size:10px;margin-bottom:4px;">üÉè –ù–∞–π–¥–∏ –ø–∞—Ä—ã! –û—Ç–∫—Ä–æ–π 2 –∫–∞—Ä—Ç—ã</div><div class="solitaire-area">${cards}</div></div>`;
  },
  _soliFirst: null, _soliLock: false,
  soliClick(card, val) {
    if (this._soliLock || card.classList.contains('matched') || !card.classList.contains('face-down')) return;
    card.classList.remove('face-down');
    if (!this._soliFirst) { this._soliFirst = {card, val}; return; }
    this._soliLock = true;
    if (this._soliFirst.val === val && this._soliFirst.card !== card) {
      this._soliFirst.card.classList.add('matched'); card.classList.add('matched');
      this.addChaos(-3); this.money += 2; this.updateMoney(); SFX.play('coin');
      this._soliFirst = null; this._soliLock = false;
      if (document.querySelectorAll('.soli-card:not(.matched)').length === 0) {
        this.addChaos(-10); this.showPopup(200,200,'–ü–∞—Å—å—è–Ω—Å —Å–æ–±—Ä–∞–Ω! -10'); this.money += 10; this.updateMoney();
      }
    } else {
      const prev = this._soliFirst.card;
      setTimeout(()=>{prev.classList.add('face-down');card.classList.add('face-down');this._soliFirst=null;this._soliLock=false;}, 800);
    }
  },

  // === 21. PING PONG BALL ===
  spawnPongBall() {
    if (this.pongBall) return;
    const el = document.createElement('div'); el.className = 'pong-ball';
    const x = this.gameArea.clientWidth / 2, y = this.gameArea.clientHeight / 2;
    el.style.left = x+'px'; el.style.top = y+'px';
    this.gameArea.appendChild(el);
    this.pongBall = {el, x, y, vx:80+Math.random()*60, vy:80+Math.random()*60};
  },
  updatePongBall(dt) {
    this.pongTimer += dt;
    if (!this.pongBall && this.pongTimer > 40) { this.pongTimer = 0; this.spawnPongBall(); }
    if (!this.pongBall) return;
    const b = this.pongBall;
    b.x += b.vx * dt; b.y += b.vy * dt;
    const aw = this.gameArea.clientWidth-12, ah = this.gameArea.clientHeight-12;
    if(b.x<0){b.x=0;b.vx=Math.abs(b.vx);} if(b.x>aw){b.x=aw;b.vx=-Math.abs(b.vx);}
    if(b.y<0){b.y=0;b.vy=Math.abs(b.vy);} if(b.y>ah){b.y=ah;b.vy=-Math.abs(b.vy);}
    b.el.style.left=b.x+'px'; b.el.style.top=b.y+'px';
    // Bounce off icons
    this.icons.forEach(icon=>{
      const dx=b.x-icon.x-35, dy=b.y-icon.y-35;
      if(Math.abs(dx)<40 && Math.abs(dy)<40) {
        b.vx = dx > 0 ? Math.abs(b.vx) : -Math.abs(b.vx);
        b.vy = dy > 0 ? Math.abs(b.vy) : -Math.abs(b.vy);
        if(icon.state==='sitting') { this.wakeUpIcon(icon); }
        this.addChaos(1);
      }
    });
  },

  // === 22. ACHIEVEMENTS ===
  checkAchievements() {
    this.achList.forEach(a => {
      if (this.achievements[a.id]) return;
      if (a.check(this)) {
        this.achievements[a.id] = true;
        this.showAchievement(a.name, a.desc);
      }
    });
  },
  showAchievement(name, desc) {
    const el = document.getElementById('achievement-popup');
    el.textContent = `üèÜ ${name}: ${desc}`;
    el.classList.remove('hidden');
    SFX.play('achievement');
    this.money += 10; this.updateMoney();
    setTimeout(()=>el.classList.add('hidden'), 3500);
  },

  // === 23. HAMMER UPGRADES ===
  buyHammerUp() {
    if (this.money < 18) return;
    this.money -= 18; this.updateMoney(); SFX.play('powerup'); this.closeShop();
    this.hammerMaxHits++; this.showPopup(200, 200, `–ú–æ–ª–æ—Ç–æ–∫+! –£–¥–∞—Ä–æ–≤: ${this.hammerMaxHits}`);
  },

  buyShadowTrap() {
    if (this.money < 15) return;
    this.money -= 15; this.updateMoney(); SFX.play('coin'); this.closeShop();
    var el = document.createElement('div');
    el.style.cssText = 'position:absolute;font-size:28px;cursor:pointer;z-index:10;filter:drop-shadow(0 0 6px rgba(150,0,0,0.5));';
    el.textContent = '‚õìÔ∏è';
    var x = 50 + Math.random() * (this.gameArea.clientWidth - 100);
    var y = 50 + Math.random() * (this.gameArea.clientHeight - 100);
    el.style.left = x + 'px'; el.style.top = y + 'px';
    this.gameArea.appendChild(el);
    this._shadowTraps.push({el:el, x:x, y:y});
    this.showPopup(x, y, '‚õìÔ∏è –õ–æ–≤—É—à–∫–∞ –Ω–∞ —Ç–µ–Ω—å!');
  },

  buyFlashlight() {
    if (this._flashlightActive || this.money < 10) return;
    this.money -= 10; this.updateMoney(); SFX.play('coin'); this.closeShop();
    this._flashlightActive = true;
    this._flashlightTimer = 30;
    var spot = document.createElement('div');
    spot.className = 'flashlight-spot';
    spot.id = 'flashlight-spot';
    document.body.appendChild(spot);
    this.showPopup(200, 200, 'üî¶ –§–æ–Ω–∞—Ä–∏–∫ –Ω–∞ 30 —Å–µ–∫!');
  },
  deactivateFlashlight() {
    this._flashlightActive = false;
    this._flashlightTimer = 0;
    var spot = document.getElementById('flashlight-spot');
    if (spot) spot.remove();
  },

  // === 24. BOSS ICONS ===
  spawnBoss() {
    if (this.boss) return;
    const sprites = ['üëæ','ü§ñ','üëπ','üíÄ','üéÉ'];
    const el = document.createElement('div'); el.className = 'boss-icon';
    const sprite = sprites[this.currentLevel % sprites.length];
    el.innerHTML = `<div class="boss-sprite">${sprite}</div><div class="boss-hp"><div class="boss-hp-bar" id="boss-hp-bar" style="width:100%"></div></div>`;
    const x = this.gameArea.clientWidth/2 - 40, y = 60;
    el.style.left = x+'px'; el.style.top = y+'px';
    this.boss = {el, x, y, hp:100, maxHp:100, vx:50, vy:30, atkTimer:0};
    el.addEventListener('mousedown', e => { e.preventDefault(); this.hitBoss(); });
    this.gameArea.appendChild(el);
    SFX.play('boss'); this.showPopup(x, y, '–ë–û–°–°!!!');
  },
  hitBoss() {
    if (!this.boss) return;
    this.boss.hp -= this.hammerMode ? 25 : 10;
    SFX.play('hit');
    const bar = document.getElementById('boss-hp-bar');
    if(bar) bar.style.width = Math.max(0, (this.boss.hp/this.boss.maxHp)*100) + '%';
    if (this.boss.hp <= 0) {
      this.boss.el.remove();
      this.money += 20; this.updateMoney();
      this.addChaos(-20);
      this.showPopup(this.boss.x, this.boss.y, '–ë–û–°–° –ü–û–í–ï–†–ñ–ï–ù! +$20');
      SFX.play('levelup'); this.boss = null;
    }
  },
  updateBoss(dt) {
    if (!this.boss) return;
    const b = this.boss;
    b.x += b.vx*dt; b.y += b.vy*dt;
    const aw=this.gameArea.clientWidth-80, ah=this.gameArea.clientHeight-80;
    if(b.x<0||b.x>aw) b.vx*=-1; if(b.y<0||b.y>ah) b.vy*=-1;
    b.x=Math.max(0,Math.min(aw,b.x)); b.y=Math.max(0,Math.min(ah,b.y));
    b.el.style.left=b.x+'px'; b.el.style.top=b.y+'px';
    // Boss attacks ‚Äî wakes up icons and spawns roaches
    b.atkTimer += dt;
    if (b.atkTimer > 3) {
      b.atkTimer = 0;
      const sitting = this.icons.filter(i=>i.state==='sitting');
      if(sitting.length>0) this.wakeUpIcon(sitting[Math.floor(Math.random()*sitting.length)]);
      this.createCockroachAt(b.x+40, b.y+40);
      this.addChaos(3);
    }
  },

  // === REST MODE ===
  restMode: false,

  enterRestMode() {
    document.getElementById('settings-modal').classList.add('hidden');
    this.clearWindowRoaches();
    this.restMode = true;
    // –û—Å—Ç–∞—ë–º—Å—è –≤ phase='playing' ‚Äî —Ç–æ—Ç –∂–µ —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª
    // –£—Å—ã–ø–ª—è–µ–º –≤—Å–µ –∏–∫–æ–Ω–∫–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞ –º–µ—Å—Ç–∞
    this.icons.forEach(icon => {
      if (icon.state === 'alive') {
        icon.state = 'sitting';
        icon.el.classList.remove('alive');
        icon.vx = 0; icon.vy = 0;
        icon.x = icon.homeX; icon.y = icon.homeY;
        icon.el.style.left = icon.x + 'px';
        icon.el.style.top = icon.y + 'px';
      }
    });
    // –£–±–∏—Ä–∞–µ–º —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤
    this.cockroaches.forEach(r => r.el.remove());
    this.cockroaches = [];
    // –£–±–∏—Ä–∞–µ–º –∫–ª–∏–ø–ø–∏, –ø–∞—É–∫–æ–≤, –≤–∏—Ä—É—Å—ã, –±–æ—Å—Å–∞ (—Ö–∞–æ—Å-—Å—É—â–Ω–æ—Å—Ç–∏)
    if (this.clippy) { this.clippy.el.remove(); this.clippy = null; }
    this.spiders.forEach(s => s.el.remove()); this.spiders = [];
    this.viruses.forEach(v => v.el.remove()); this.viruses = [];
    if (this.boss) { this.boss.el.remove(); this.boss = null; }
    if (this.shadow) { this.shadow.el.remove(); this.shadow = null; }
    this._shadowRemoveOverlay(); this.shadowRestTimer = 0;
    SFX.play('powerup');
  },

  exitRestMode() {
    this.restMode = false;
    SFX.play('startup');
  },

  // === SHADOW FIGURE (–¢–µ–Ω—å) ===
  spawnShadow() {
    if (this.shadow) return;
    const area = this.gameArea;
    const aW = area.clientWidth;
    const aH = area.clientHeight;
    // –¢—ë–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π
    const overlay = document.createElement('div');
    overlay.className = 'shadow-overlay';
    overlay.id = 'shadow-overlay';
    document.body.appendChild(overlay);
    // –ù–∞–¥–ø–∏—Å—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
    const textEl = document.createElement('div');
    textEl.className = 'shadow-text';
    textEl.id = 'shadow-text';
    textEl.innerHTML = '<span>Did you hear a whistle?</span>';
    document.body.appendChild(textEl);
    setTimeout(function() { var t = document.getElementById('shadow-text'); if (t) t.remove(); }, 4000);
    // –§–∏–≥—É—Ä–∞
    const el = document.createElement('div');
    el.className = 'shadow-figure';
    el.innerHTML = '<div class="shadow-aura"></div><div class="shadow-neck-group"><div class="shadow-head"></div><div class="shadow-neck"></div></div><div class="shadow-shoulders"></div><div class="shadow-torso"></div><div class="shadow-pelvis"></div><div class="shadow-arm-l"></div><div class="shadow-arm-r"></div><div class="shadow-leg-l"></div><div class="shadow-foot-l"></div><div class="shadow-leg-r"></div><div class="shadow-foot-r"></div>';
    const x = Math.random() * (aW - 120);
    const y = Math.random() * (aH - 200);
    el.style.left = x + 'px';
    el.style.top = y + 'px';
    el.style.opacity = '0';
    el.onclick = () => this.hitShadow();
    area.appendChild(el);
    const hitsNeeded = this.restMode ? 3 : 5;
    this.shadow = { el: el, x: x, y: y, hits: 0, maxHits: hitsNeeded, life: this.restMode ? 30 : 20, teleportTimer: 0 };
    // Fade in after text
    setTimeout(() => { if (this.shadow) this.shadow.el.style.opacity = '1'; }, 1500);
    SFX.play('shadow_appear');
  },

  _shadowRemoveOverlay() {
    var ov = document.getElementById('shadow-overlay');
    if (ov) { ov.classList.add('removing'); setTimeout(function() { ov.remove(); }, 800); }
    var tx = document.getElementById('shadow-text');
    if (tx) tx.remove();
  },

  hitShadow() {
    if (!this.shadow) return;
    this.shadow.hits++;
    this.shadow.el.classList.add('hit');
    setTimeout(() => { if (this.shadow) this.shadow.el.classList.remove('hit'); }, 300);
    SFX.play('hit');
    if (this.shadow.hits >= this.shadow.maxHits) {
      this.banishShadow();
    } else {
      this.shadowTeleport();
    }
  },

  shadowTeleport() {
    if (!this.shadow) return;
    const aW = this.gameArea.clientWidth;
    const aH = this.gameArea.clientHeight;
    this.shadow.el.style.opacity = '0';
    SFX.play('shadow_teleport');
    setTimeout(() => {
      if (!this.shadow) return;
      const nx = Math.random() * (aW - 120);
      const ny = Math.random() * (aH - 200);
      this.shadow.x = nx; this.shadow.y = ny;
      this.shadow.el.style.left = nx + 'px';
      this.shadow.el.style.top = ny + 'px';
      this.shadow.el.style.opacity = '1';
    }, 200);
  },

  banishShadow() {
    if (!this.shadow) return;
    var sx = this.shadow.x, sy = this.shadow.y;
    SFX.play('shadow_banish');
    this.shadow.el.style.opacity = '0';
    this._shadowRemoveOverlay();
    setTimeout(() => { if (this.shadow) { this.shadow.el.remove(); this.shadow = null; } }, 300);
    // Return eaten icons
    this._shadowEatenIcons.forEach(iconId => {
      const icon = this.icons.find(i => i.id === iconId);
      if (icon) {
        icon.el.style.display = '';
        icon.el.style.transform = '';
      }
    });
    this._shadowEatenIcons = [];
    // Reward
    var reward = 5 + Math.floor(Math.random() * 10);
    this.money += reward;
    this.updateMoney();
    this.showPopup(sx || 200, sy || 100, '+$' + reward + ' –¢–µ–Ω—å –∏–∑–≥–Ω–∞–Ω–∞!');
    this.addChaos(-8);
    this._achShadowBanish++;
  },

  updateShadow(dt) {
    if (!this.shadow) return;
    this.shadow.life -= dt;
    if (this.shadow.life <= 0) {
      this.shadow.el.style.opacity = '0';
      this._shadowRemoveOverlay();
      var self = this;
      // Return eaten icons when shadow leaves
      this._shadowEatenIcons.forEach(function(iconId) {
        var ic = self.icons.find(function(i){return i.id===iconId;});
        if (ic) { ic.el.style.display = ''; ic.el.style.transform = ''; }
      });
      this._shadowEatenIcons = [];
      setTimeout(function() {
        if (self.shadow) { self.shadow.el.remove(); self.shadow = null; }
      }, 400);
      return;
    }
    // Teleport
    this.shadow.teleportTimer += dt;
    if (this.shadow.teleportTimer > (this.restMode ? 8 : 5)) {
      this.shadow.teleportTimer = 0;
      this.shadowTeleport();
    }
    // Find available icons sorted by distance
    var cx = this.shadow.x + 60;
    var cy = this.shadow.y + 46;
    var self = this;
    var avail = this.icons.filter(function(i) {
      return !self._shadowEatenIcons.includes(i.id) && i.el.style.display !== 'none';
    }).map(function(i) {
      var dx = (i.x + 32) - cx, dy = (i.y + 32) - cy;
      return { icon: i, dist: Math.sqrt(dx * dx + dy * dy), dx: dx, dy: dy };
    }).sort(function(a, b) { return a.dist - b.dist; });
    // Grow arm reach over time
    if (!this.shadow.armReach) this.shadow.armReach = 30;
    this.shadow.armReach += dt * 25; // grows 25px/sec
    if (this.shadow.armReach > 300) this.shadow.armReach = 300;
    var reach = this.shadow.armReach;
    // Nearest icon overall ‚Äî neck stretches toward it
    var nearest = avail.length > 0 ? avail[0] : null;
    this._shadowStretchNeck(nearest);
    // Left arm ‚Äî nearest icon on the left side
    var leftIcons = avail.filter(function(a) { return a.dx < 0; });
    var rightIcons = avail.filter(function(a) { return a.dx >= 0; });
    this._shadowStretchArm('l', leftIcons.length > 0 ? leftIcons[0] : null, reach);
    this._shadowStretchArm('r', rightIcons.length > 0 ? rightIcons[0] : null, reach);
    // Legs grow
    this._shadowStretchLegs();
  },

  _shadowStretchNeck(target) {
    if (!this.shadow) return;
    var neckG = this.shadow.el.querySelector('.shadow-neck-group');
    if (!neckG) return;
    if (target && target.dist < 250) {
      // Stretch neck toward nearest icon
      var neckLen = 40 + Math.min(target.dist * 0.3, 60);
      var angle = Math.atan2(target.dy, target.dx) * (180 / Math.PI) - 270;
      neckG.style.height = neckLen + 'px';
      neckG.style.transform = 'translateX(-50%) rotate(' + angle + 'deg)';
    } else {
      neckG.style.height = '40px';
      neckG.style.transform = 'translateX(-50%) rotate(0deg)';
    }
  },

  _shadowStretchArm(side, target, reach) {
    if (!this.shadow) return;
    var el = this.shadow.el.querySelector('.shadow-arm-' + side);
    if (!el) return;
    if (target && target.dist < reach) {
      var len = Math.min(target.dist + 15, reach);
      var angle;
      if (side === 'l') {
        angle = Math.atan2(target.dy, -target.dx) * (180 / Math.PI);
      } else {
        angle = Math.atan2(target.dy, target.dx) * (180 / Math.PI);
      }
      el.style.width = len + 'px';
      el.style.transform = 'rotate(' + angle + 'deg)';
      // Grab if close enough
      if (target.dist < 45) {
        this._shadowGrabIcon(target.icon);
      }
    } else {
      el.style.width = '30px';
      el.style.transform = 'rotate(0deg)';
    }
  },

  _shadowStretchLegs() {
    if (!this.shadow) return;
    var elapsed = (this.restMode ? 30 : 20) - this.shadow.life;
    var legH = 70 + elapsed * 3;
    if (legH > 180) legH = 180;
    var spread = 6 + elapsed * 0.4;
    if (spread > 20) spread = 20;
    var legL = this.shadow.el.querySelector('.shadow-leg-l');
    var legR = this.shadow.el.querySelector('.shadow-leg-r');
    var footL = this.shadow.el.querySelector('.shadow-foot-l');
    var footR = this.shadow.el.querySelector('.shadow-foot-r');
    if (legL) { legL.style.height = legH + 'px'; legL.style.transform = 'rotate(' + spread + 'deg)'; }
    if (legR) { legR.style.height = legH + 'px'; legR.style.transform = 'rotate(-' + spread + 'deg)'; }
    if (footL) footL.style.top = (122 + legH - 2) + 'px';
    if (footR) footR.style.top = (122 + legH - 2) + 'px';
  },

  _shadowGrabIcon(icon) {
    if (!this.shadow || this._shadowEatenIcons.includes(icon.id)) return;
    this._shadowEatenIcons.push(icon.id);
    SFX.play('shadow_eat');
    var sx = this.shadow.x + 60;
    var sy = this.shadow.y + 50;
    icon.el.style.transition = 'transform 0.5s ease-in, opacity 0.5s ease-in';
    icon.el.style.transform = 'scale(0) translate(' + (sx - icon.x) + 'px,' + (sy - icon.y) + 'px)';
    icon.el.style.opacity = '0.3';
    setTimeout(function() {
      icon.el.style.display = 'none';
      icon.el.style.transition = '';
      icon.el.style.transform = '';
      icon.el.style.opacity = '';
    }, 500);
    this.addChaos(8);
  },

  // === EVIL EYE ===
  spawnEvilEye() {
    if (this.evilEye) return;
    var el = document.createElement('div');
    el.className = 'evil-eye';
    el.innerHTML = '<div class="evil-eye-ball"><div class="evil-eye-veins"></div><div class="evil-eye-iris" id="evil-iris"></div></div>';
    var x = 50 + Math.random() * (this.gameArea.clientWidth - 150);
    var y = 50 + Math.random() * (this.gameArea.clientHeight - 100);
    el.style.left = x + 'px'; el.style.top = y + 'px';
    el.onclick = () => { SFX.play('squash'); this.removeEvilEye(); this.addChaos(-5); };
    this.gameArea.appendChild(el);
    this.evilEye = {el:el, x:x, y:y, life:12};
    SFX.play('eye_appear');
  },
  removeEvilEye() {
    if (!this.evilEye) return;
    this.evilEye.el.remove(); this.evilEye = null;
  },
  updateEvilEye(dt) {
    if (!this.evilEye) return;
    this.evilEye.life -= dt;
    if (this.evilEye.life <= 0) { this.removeEvilEye(); return; }
    this.addChaos(dt * 2);
    // iris follows mouse
    var iris = document.getElementById('evil-iris');
    if (iris && this._lastMouseX !== undefined) {
      var dx = this._lastMouseX - (this.evilEye.x + 40);
      var dy = this._lastMouseY - (this.evilEye.y + 30);
      var d = Math.sqrt(dx*dx+dy*dy);
      if (d > 0) { iris.style.left = 'calc(50% + ' + (dx/d)*10 + 'px)'; iris.style.top = 'calc(50% + ' + (dy/d)*8 + 'px)'; }
    }
  },

  // === WHISPER ===
  spawnWhisper() {
    var texts = ['...—ÅÃ∑–ºÃµ–æÃ∂—ÇÃ∑—ÄÃ∂–∏Ãµ...','...–æÃ∂–ΩÃµ–æÃ∂ Ã∑–∑Ãµ–¥Ã∂–µÃ∑—ÅÃ∂—åÃµ...','...–ΩÃµ–µÃ∂ Ã∑–æÃµ–±Ã∂–æÃ∑—ÄÃµ–∞Ã∂—áÃ∑–∏Ã∂–≤Ã∑–∞Ã∂–πÃµ—ÅÃ∂—èÃ∑...','...—ÇÃµ–∏Ã∂—àÃ∑–µÃµ...','...010110...','...—ÅÃµ–ªÃ∂—ãÃ∑—àÃµ–∏Ã∂—àÃ∑—åÃµ?Ã∂...','...–±Ãµ–µÃ∂–≥Ã∑–∏Ã∂...'];
    var text = texts[Math.floor(Math.random() * texts.length)];
    var el = document.createElement('div');
    el.className = 'whisper-text';
    el.textContent = text;
    el.style.left = (30 + Math.random() * (this.gameArea.clientWidth - 100)) + 'px';
    el.style.top = (30 + Math.random() * (this.gameArea.clientHeight - 60)) + 'px';
    this.gameArea.appendChild(el);
    SFX.play('whisper');
    setTimeout(function() { el.remove(); }, 3000);
  },

  // === MIRROR CURSOR ===
  spawnMirrorCursor() {
    if (this._mirrorActive) return;
    this._mirrorActive = true;
    var el = document.createElement('div');
    el.className = 'mirror-cursor';
    el.id = 'mirror-cursor';
    this.gameArea.appendChild(el);
    this.mirrorCursor = {el:el, life:15};
  },
  updateMirrorCursor(dt) {
    if (!this._mirrorActive || !this.mirrorCursor) return;
    this.mirrorCursor.life -= dt;
    if (this.mirrorCursor.life <= 0) { this.removeMirrorCursor(); return; }
    var el = document.getElementById('mirror-cursor');
    if (el && this._lastMouseX !== undefined) {
      var aW = this.gameArea.clientWidth;
      var aH = this.gameArea.clientHeight;
      el.style.left = (aW - this._lastMouseX) + 'px';
      el.style.top = (aH - this._lastMouseY) + 'px';
    }
  },
  removeMirrorCursor() {
    this._mirrorActive = false;
    var el = document.getElementById('mirror-cursor');
    if (el) el.remove();
    this.mirrorCursor = null;
  },

  // === GLITCH ZONE ===
  spawnGlitchZone() {
    if (this.glitchZone) return;
    var w = 80 + Math.random() * 100;
    var h = 80 + Math.random() * 100;
    var x = Math.random() * (this.gameArea.clientWidth - w);
    var y = Math.random() * (this.gameArea.clientHeight - h);
    var el = document.createElement('div');
    el.className = 'glitch-zone';
    el.style.left = x + 'px'; el.style.top = y + 'px';
    el.style.width = w + 'px'; el.style.height = h + 'px';
    this.gameArea.appendChild(el);
    this.glitchZone = {el:el, x:x, y:y, w:w, h:h, life:20};
  },
  updateGlitchZone(dt) {
    if (!this.glitchZone) return;
    this.glitchZone.life -= dt;
    if (this.glitchZone.life <= 0) { this.glitchZone.el.remove(); this.glitchZone = null; return; }
    var gz = this.glitchZone;
    this.icons.forEach(function(icon) {
      if (icon.state !== 'alive') return;
      if (icon.x > gz.x && icon.x < gz.x + gz.w && icon.y > gz.y && icon.y < gz.y + gz.h) {
        icon.vx = (Math.random() - 0.5) * 200;
        icon.vy = (Math.random() - 0.5) * 200;
        icon.el.style.filter = 'hue-rotate(' + Math.random()*360 + 'deg)';
        setTimeout(function() { icon.el.style.filter = ''; }, 500);
      }
    });
  },

  // === FLASHLIGHT ===
  updateFlashlight() {
    if (!this._flashlightActive) return;
    var spot = document.getElementById('flashlight-spot');
    if (spot && this._lastMouseX !== undefined) {
      var rect = this.gameArea.getBoundingClientRect();
      spot.style.setProperty('--mx', (this._lastMouseX + rect.left) + 'px');
      spot.style.setProperty('--my', (this._lastMouseY + rect.top) + 'px');
    }
  },

  // === RANSOMWARE ===
  triggerRansomware() {
    if (this._ransomwareActive) return;
    this._ransomwareActive = true;
    SFX.play('encrypt');
    var count = 0;
    var self = this;
    this.icons.forEach(function(icon) {
      if (icon.state === 'sitting' && count < 4 && !self._encryptedIcons.includes(icon.id)) {
        icon.el.classList.add('icon-encrypted');
        var lbl = icon.el.querySelector('.icon-label');
        if (lbl) { icon._origName = lbl.textContent; lbl.textContent = icon._origName.split('').map(function(){return String.fromCharCode(33+Math.floor(Math.random()*90));}).join(''); }
        self._encryptedIcons.push(icon.id);
        count++;
      }
    });
    if (count === 0) { this._ransomwareActive = false; return; }
    var banner = document.createElement('div');
    banner.className = 'ransomware-banner';
    banner.innerHTML = 'üîê –í–ê–®–ò –§–ê–ô–õ–´ –ó–ê–®–ò–§–†–û–í–ê–ù–´!<br><br>–†–µ—à–∏—Ç–µ –∑–∞–¥–∞—á—É —á—Ç–æ–±—ã —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å:<br><br><span id="ransom-puzzle" style="font-size:16px;color:#ff0;"></span><br><br><input id="ransom-input" style="width:60px;font-size:14px;text-align:center;background:#000;color:#0f0;border:1px solid #0f0;" maxlength="5"/><br><br><button class="win-btn" onclick="game.solveRansomware()" style="background:#0a0;color:#000;font-weight:bold;">–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å</button>';
    this.gameArea.appendChild(banner);
    this._ransomBanner = banner;
    var a = 2 + Math.floor(Math.random()*18);
    var b = 2 + Math.floor(Math.random()*18);
    this._ransomAnswer = a * b;
    document.getElementById('ransom-puzzle').textContent = a + ' √ó ' + b + ' = ?';
  },
  solveRansomware() {
    var inp = document.getElementById('ransom-input');
    if (!inp) return;
    if (parseInt(inp.value) === this._ransomAnswer) {
      SFX.play('decrypt');
      this._ransomwareActive = false;
      var self = this;
      this._encryptedIcons.forEach(function(id) {
        var icon = self.icons.find(function(i){return i.id===id;});
        if (icon) {
          icon.el.classList.remove('icon-encrypted');
          var lbl = icon.el.querySelector('.icon-label');
          if (lbl && icon._origName) lbl.textContent = icon._origName;
        }
      });
      this._encryptedIcons = [];
      if (this._ransomBanner) { this._ransomBanner.remove(); this._ransomBanner = null; }
      this.showPopup(200, 200, '‚úÖ –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ!');
      this.addChaos(-10);
      this._achDecrypted = true;
    } else {
      inp.value = '';
      inp.style.borderColor = '#f00';
      this.addChaos(5);
      this.showPopup(200, 200, '‚ùå –ù–µ–≤–µ—Ä–Ω–æ! +5 —Ö–∞–æ—Å');
      setTimeout(function() { if(inp) inp.style.borderColor='#0f0'; }, 500);
    }
  },

  // === RADIO ===
  radioPlay(station) {
    this.radioStop();
    this._radioPlaying = true;
    this._radioRepel = true;
    try {
      var c = new (window.AudioContext||window.webkitAudioContext)();
      var osc = c.createOscillator();
      var gain = c.createGain();
      var freqs = [440, 330, 220, 150];
      var types = ['square','sawtooth','sine','sawtooth'];
      osc.type = types[station] || 'square';
      osc.frequency.value = freqs[station] || 440;
      gain.gain.value = 0.04;
      osc.connect(gain); gain.connect(c.destination); osc.start();
      this._radioOsc = {osc:osc, gain:gain, ctx:c};
      // –ú–æ–¥—É–ª—è—Ü–∏—è –¥–ª—è –º–µ–ª–æ–¥–∏–∏
      var freq = freqs[station];
      var self = this;
      this._radioMod = setInterval(function() {
        if (!self._radioOsc) return;
        osc.frequency.value = freq + Math.sin(Date.now()/300) * (station===2?10:50);
      }, 100);
    } catch(e) {}
    SFX.play('radio_tune');
    var body = document.getElementById('app-body');
    if (body) {
      var ic = this.icons.find(function(i){return i.id==='radio';});
      if (ic) body.innerHTML = this.getAppContent(ic);
    }
  },
  radioStop() {
    this._radioPlaying = false;
    this._radioRepel = false;
    if (this._radioOsc) {
      try { this._radioOsc.osc.stop(); this._radioOsc.ctx.close(); } catch(e) {}
      this._radioOsc = null;
    }
    if (this._radioMod) { clearInterval(this._radioMod); this._radioMod = null; }
  },

  // === SHADOW TRAP CHECK ===
  checkShadowTraps() {
    if (!this.shadow || this._shadowTraps.length === 0) return;
    var sx = this.shadow.x + 60, sy = this.shadow.y + 100;
    var self = this;
    this._shadowTraps.forEach(function(trap, i) {
      var dx = sx - trap.x, dy = sy - trap.y;
      if (Math.sqrt(dx*dx+dy*dy) < 60) {
        trap.el.remove();
        self._shadowTraps.splice(i, 1);
        self.banishShadow();
        self.showPopup(trap.x, trap.y, '‚õìÔ∏è –¢–µ–Ω—å –ø–æ–π–º–∞–Ω–∞!');
      }
    });
  },

  // restOpenGame, clearRestCanvas, restBackToMenu removed ‚Äî games accessible through Documents icon

  // === GAME LOOP ===
  loop(timestamp) {
    if (this.phase === 'shutdown' || this.phase === 'level_screen' || this.phase === 'win') return;

    const dt = Math.min((timestamp - this.lastTime) / 1000, 0.1);
    this.lastTime = timestamp;
    this.elapsed += dt;

    // Difficulty = level base + ramp over time within level
    const lvl = LEVELS[this.currentLevel];
    if (lvl) {
      this.difficulty = lvl.speedMul + this.elapsed / 180;
    }

    if (this.phase === 'playing') {
      // Level timer countdown (paused in rest mode)
      if (!this.restMode) {
        this.levelTime -= dt;
        this.updateLevelTimer();
        if (this.levelTime <= 0) {
          this.levelTime = 0;
          this.levelComplete();
        } else {
          this.updatePlaying(dt);
        }
      } else {
        this.updatePlaying(dt);
      }
    }

    // –û–±–Ω–æ–≤–ª—è–µ–º –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä
    if (this.chaos > 20) {
      this.updateDamageVisuals((this.chaos / this.maxChaos) * 100);
    }

    this.updateClock();
    requestAnimationFrame(ts => this.loop(ts));
  },

  updateLevelTimer() {
    const el = document.getElementById('level-timer');
    const sec = Math.ceil(this.levelTime);
    const m = Math.floor(sec / 60);
    const s = (sec % 60).toString().padStart(2, '0');
    el.textContent = `‚è± ${m}:${s}`;
    el.classList.toggle('urgent', sec <= 10);
  },

  updatePlaying(dt) {
    const areaW = this.gameArea.clientWidth;
    const areaH = this.gameArea.clientHeight;

    // Handle stun timer
    if (this.stunned) {
      this.stunTimer -= dt;
      if (this.stunTimer <= 0) {
        this.stunned = false;
        this.icons.forEach(icon => icon.el.classList.remove('stunned'));
      }
    }

    // === Icon escaping (skip in rest mode) ===
    if (!this.restMode) {
      this.escapeTimer += dt;
      const escapeInterval = Math.max(3, 8 / this.difficulty);

      if (this.escapeTimer > escapeInterval) {
        this.escapeTimer = 0;
        const sittingIcons = this.icons.filter(i => i.state === 'sitting');
        if (sittingIcons.length > 0) {
          const victim = sittingIcons[Math.floor(Math.random() * sittingIcons.length)];
          this.wakeUpIcon(victim);
        }
      }
    }

    // === Update icons ===
    this.icons.forEach(icon => {
      if (icon.state === 'alive' && !this.stunned) {
        // –®–∞–Ω—Å –ø—Ä–æ–±–∏—Ç—å –¥—ã—Ä—É –≤ —Ñ–æ–Ω–µ
        icon.hideTimer += dt;
        const hMul = LEVELS[this.currentLevel] ? LEVELS[this.currentLevel].holeMul : 1;
        if (icon.hideTimer > 6 && Math.random() < 0.005 * this.difficulty * hMul && this.holes.length < 8) {
          this.createHole(icon.x + 35, icon.y + 35);
          icon.hideTimer = 0;
        }

        // –ï—Å–ª–∏ –µ—Å—Ç—å —Å–≤–æ–±–æ–¥–Ω–∞—è –¥—ã—Ä–∞ ‚Äî –∏–∫–æ–Ω–∫–∞ –ø—ã—Ç–∞–µ—Ç—Å—è —Å–ø—Ä—è—Ç–∞—Ç—å—Å—è
        if (!icon.targetHole && icon.hideTimer > 4 && Math.random() < 0.003 * this.difficulty) {
          const freeHole = this.holes.find(h => !h.occupant);
          if (freeHole) {
            icon.targetHole = freeHole;
          }
        }

        // –î–≤–∏–∂–µ–Ω–∏–µ –∫ –¥—ã—Ä–µ –µ—Å–ª–∏ –µ—Å—Ç—å —Ü–µ–ª—å
        if (icon.targetHole) {
          const hx = icon.targetHole.x + icon.targetHole.w / 2 - 35;
          const hy = icon.targetHole.y + icon.targetHole.h / 2 - 20;
          const ddx = hx - icon.x;
          const ddy = hy - icon.y;
          const dd = Math.sqrt(ddx * ddx + ddy * ddy);
          if (dd < 15) {
            // –°–ø—Ä—è—Ç–∞–ª—Å—è!
            this.hideIconInHole(icon, icon.targetHole);
            return;
          }
          const spd = 80 + 30 * this.difficulty;
          icon.vx = (ddx / dd) * spd;
          icon.vy = (ddy / dd) * spd;
        } else {
          // –û–±—ã—á–Ω–æ–µ —Å–ª—É—á–∞–π–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ
          icon.dirChangeTimer -= dt;
          if (icon.dirChangeTimer <= 0) {
            icon.dirChangeTimer = 0.5 + Math.random() * 1.5;
            const speed = 30 + Math.random() * 40 * this.difficulty;
            const angle = Math.random() * Math.PI * 2;
            icon.vx = Math.cos(angle) * speed;
            icon.vy = Math.sin(angle) * speed;
          }
        }

        // Nokia calming effect
        if (this.nokia && !this.nokiaBroken) {
          const dx = icon.x - this.nokia.x;
          const dy = icon.y - this.nokia.y;
          const dist = Math.sqrt(dx * dx + dy * dy);
          if (dist < 150) {
            icon.vx *= 0.95;
            icon.vy *= 0.95;
          }
        }

        icon.x += icon.vx * dt;
        icon.y += icon.vy * dt;

        // Bounds
        if (icon.x < 0) { icon.x = 0; icon.vx = Math.abs(icon.vx); }
        if (icon.x > areaW - 70) { icon.x = areaW - 70; icon.vx = -Math.abs(icon.vx); }
        if (icon.y < 0) { icon.y = 0; icon.vy = Math.abs(icon.vy); }
        if (icon.y > areaH - 70) { icon.y = areaH - 70; icon.vy = -Math.abs(icon.vy); }

        icon.el.style.left = icon.x + 'px';
        icon.el.style.top = icon.y + 'px';

        // Footstep sounds (sparse)
        this.footstepTimer -= dt;
        if (this.footstepTimer <= 0) {
          this.footstepTimer = 0.8;
          SFX.play('footstep');
        }
      }
    });

    // === Cockroach spawning (skip in rest mode) ===
    if (!this.restMode) {
      this.roachTimer += dt;
      const lvlR = LEVELS[this.currentLevel];
      let roachInterval = Math.max(2, 10 / this.difficulty / (lvlR ? lvlR.roachMul : 1));
      if (this.nokiaBroken) roachInterval *= 0.5;
      // –î—ã—Ä—ã —É—Å–∫–æ—Ä—è—é—Ç —Å–ø–∞–≤–Ω —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤
      if (this.holes.length > 0) roachInterval *= Math.max(0.3, 1 - this.holes.length * 0.1);

      if (this.roachTimer > roachInterval) {
        this.roachTimer = 0;
        this.createCockroach();
      }

      // –¢–∞—Ä–∞–∫–∞–Ω—ã –ª–µ–∑—É—Ç –∏–∑ –¥—ã—Ä (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)
      this.holeTimer += dt;
      if (this.holes.length > 0 && this.holeTimer > Math.max(2, 5 / this.difficulty)) {
        this.holeTimer = 0;
        const spawnHole = this.holes[Math.floor(Math.random() * this.holes.length)];
        spawnHole.el.classList.add('spawning');
        setTimeout(() => spawnHole.el.classList.remove('spawning'), 800);
        this.createCockroachAt(spawnHole.x + spawnHole.w / 2, spawnHole.y + spawnHole.h / 2);
      }
    }

    // === –ú—É—Å–æ—Ä –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã (skip in rest mode) ===
    if (!this.restMode) {
      const recycleBin = this.icons.find(i => i.id === 'recyclebin');
      if (recycleBin && recycleBin.state === 'alive') {
        this.trashTimer += dt;
        const trashInterval = Math.max(1, 3 / this.difficulty);
        if (this.trashTimer > trashInterval) {
          this.trashTimer = 0;
          this.createTrash();
        }
      }
    }

    // === Update cockroaches ===
    const roachesToEnter = [];
    this.cockroaches.forEach(roach => {
      if (!roach.alive || this.stunned) return;
      roach.dirTimer -= dt;
      if (roach.dirTimer <= 0) {
        roach.dirTimer = 0.3 + Math.random() * 0.8;
        const speed = 40 + Math.random() * 60;
        const angle = Math.random() * Math.PI * 2;
        roach.vx = Math.cos(angle) * speed;
        roach.vy = Math.sin(angle) * speed;
      }
      roach.x += roach.vx * dt;
      roach.y += roach.vy * dt;
      if (roach.x < 0) { roach.x = 0; roach.vx = Math.abs(roach.vx); }
      if (roach.x > areaW - 16) { roach.x = areaW - 16; roach.vx = -Math.abs(roach.vx); }
      if (roach.y < 0) { roach.y = 0; roach.vy = Math.abs(roach.vy); }
      if (roach.y > areaH - 10) { roach.y = areaH - 10; roach.vy = -Math.abs(roach.vy); }
      roach.el.style.left = roach.x + 'px';
      roach.el.style.top = roach.y + 'px';
      roach.el.style.transform = 'rotate(' + (Math.atan2(roach.vy, roach.vx) * 180 / Math.PI) + 'deg)';

      // –¢–∞—Ä–∞–∫–∞–Ω—ã –ø—Ä—è—á—É—Ç—Å—è –≤ –∫–Ω–æ–ø–∫–∏ (15% —à–∞–Ω—Å –ø—Ä–∏ –±–ª–∏–∑–æ—Å—Ç–∏)
      if (Math.random() < 0.15 * dt) {
        for (const icon of this.icons) {
          if (icon.state !== 'sitting') continue;
          const dx = (icon.x + 32) - roach.x;
          const dy = (icon.y + 32) - roach.y;
          if (Math.sqrt(dx * dx + dy * dy) < 40) {
            roachesToEnter.push(roach);
            break;
          }
        }
      }
    });
    // –ü—Ä—è—á–µ–º —Ç–∞—Ä–∞–∫–∞–Ω–æ–≤ –≤ –∏–∫–æ–Ω–∫–∏ (–≤–Ω–µ forEach —á—Ç–æ–±—ã –Ω–µ –ª–æ–º–∞—Ç—å –∏—Ç–µ—Ä–∞—Ü–∏—é)
    roachesToEnter.forEach(r => this.cockroachEnterIcon(r));

    // === Update window roaches ===
    if (this.windowRoaches.length > 0) {
      this.updateWindowRoaches(dt);
    }

    // === Nokia degradation (skip in rest mode) ===
    if (this.nokia && !this.restMode) {
      this.nokiaHealth -= dt * 3 * this.difficulty;
      if (this.nokiaHealth <= 0) {
        this.nokiaHealth = 0;
        if (!this.nokiaBroken) {
          this.nokiaBroken = true;
          this.nokia.el.classList.add('broken');
          // Show cockroaches on nokia
          const roachesDiv = document.getElementById('nokia-roaches');
          if (roachesDiv) {
            roachesDiv.classList.remove('hidden');
            roachesDiv.innerHTML = '';
            for (let i = 0; i < 4; i++) {
              const r = document.createElement('div');
              r.className = 'nokia-roach';
              r.style.left = Math.random() * 28 + 'px';
              r.style.top = Math.random() * 50 + 'px';
              r.style.animationDelay = (Math.random() * 0.5) + 's';
              roachesDiv.appendChild(r);
            }
          }
          this.addChaos(10);
        }
      }
      this.updateNokiaHealth();
    }

    // === Chaos from alive/hiding icons, holes and trash (skip in rest mode) ===
    if (!this.restMode) {
      const aliveCount = this.icons.filter(i => i.state === 'alive').length;
      const hidingCount = this.icons.filter(i => i.state === 'hiding').length;
      if (aliveCount > 0) {
        this.addChaos(aliveCount * dt * 2);
      }
      if (hidingCount > 0) {
        this.addChaos(hidingCount * dt * 1.5);
      }
      // –î—ã—Ä—ã –≤ —Ñ–æ–Ω–µ –¥–æ–±–∞–≤–ª—è—é—Ç —Ö–∞–æ—Å
      if (this.holes.length > 0) {
        this.addChaos(this.holes.length * dt * 0.5);
      }
      // –ú—É—Å–æ—Ä –Ω–∞ –ø–æ–ª—É —Ç–æ–∂–µ –¥–æ–±–∞–≤–ª—è–µ—Ç —Ö–∞–æ—Å (–º–µ–¥–ª–µ–Ω–Ω–æ)
      if (this.trash.length > 5) {
        this.addChaos(this.trash.length * dt * 0.3);
      }
    }

    // === NEW FEATURES UPDATE ===
    if (!this.restMode) {
      // 1. Clippy
      this.clippyTimer += dt;
      if (!this.clippy && this.clippyTimer > 25/this.difficulty) { this.clippyTimer = 0; this.spawnClippy(); }
      this.updateClippy(dt);
      // 2. Viruses
      this.updateViruses(dt);
      // 3. Spiders
      this.updateSpiders(dt);
      // 4. BSOD (random at high chaos)
      if (this.chaos > 85 && Math.random() < 0.0005 * dt) this.triggerBSOD();
      // 9. Crazy mouse
      this.updateCrazyMouse(dt);
      // 10. Traps
      this.updateTraps(dt);
      // 11. Glue
      this.updateGlue(dt);
      // 14. Magnet
      this.updateMagnet(dt);
      // 18. Fire
      this.updateFire(dt);
      // 21. Pong ball
      this.updatePongBall(dt);
      // 24. Boss (every 3rd level, after 15 seconds)
      this.bossTimer += dt;
      if (!this.boss && (this.currentLevel % 3 === 2) && this.bossTimer > 15) { this.bossTimer = 0; this.spawnBoss(); }
      this.updateBoss(dt);
    }
    // These run even in rest mode:
    // 5. Pop-up ads
    this.updatePopupAds(dt);
    // 6. Windows Update (random trigger)
    if (!this.updateActive && Math.random() < 0.0003 * this.difficulty * dt) this.triggerUpdate();
    this.updateWindowsUpdate(dt);
    // 8. Antivirus
    this.updateAntivirus(dt);
    // 15. Screensaver
    this.updateScreensaver(dt);
    // 16. Weather
    this.updateWeather(dt);
    // 17. Day/Night
    this.updateDayNight(dt);
    // 22. Achievements
    this._achFastCatchTimer += dt;
    if (this._achFastCatchTimer > 5) { this._achFastCatch = 0; this._achFastCatchTimer = 0; }
    this.checkAchievements();
    // 25. Shadow figure (runs in both rest and chaos modes)
    if (this.restMode) {
      this.shadowRestTimer += dt;
      if (!this.shadow && this.shadowRestTimer > 60) { this.shadowRestTimer = 0; this.spawnShadow(); }
    } else {
      this.shadowTimer += dt;
      var shadowInterval = 60 / this.difficulty;
      if (this.chaos > 50) shadowInterval *= 0.6;
      if (!this.shadow && this.shadowTimer > shadowInterval) { this.shadowTimer = 0; this.spawnShadow(); }
    }
    this.updateShadow(dt);
    // 26. Evil eye
    if (!this.restMode) {
      this.evilEyeTimer += dt;
      if (!this.evilEye && this.evilEyeTimer > 40/this.difficulty) { this.evilEyeTimer = 0; this.spawnEvilEye(); }
      this.updateEvilEye(dt);
    }
    // 27. Whisper
    this.whisperTimer += dt;
    if (this.whisperTimer > 30 + Math.random()*20) { this.whisperTimer = 0; this.spawnWhisper(); }
    // 28. Mirror cursor
    if (!this.restMode) {
      if (!this._mirrorActive && this.chaos > 40 && Math.random() < 0.0002 * dt) this.spawnMirrorCursor();
      this.updateMirrorCursor(dt);
    }
    // 29. Glitch zone
    if (!this.restMode) {
      this.glitchZoneTimer += dt;
      if (!this.glitchZone && this.glitchZoneTimer > 35/this.difficulty) { this.glitchZoneTimer = 0; this.spawnGlitchZone(); }
      this.updateGlitchZone(dt);
    }
    // 30. Flashlight timer
    if (this._flashlightActive) {
      this._achFlashlightTime += dt;
      this._flashlightTimer -= dt;
      if (this._flashlightTimer <= 0) { this.deactivateFlashlight(); }
      else { this.updateFlashlight(); }
    }
    // 31. Ransomware
    if (!this.restMode && !this._ransomwareActive && this.chaos > 60 && Math.random() < 0.00015 * dt) this.triggerRansomware();
    // 32. Shadow traps
    this.checkShadowTraps();
    // 33. Radio repels cockroaches
    if (this._radioRepel && this.cockroaches.length > 0) {
      this.cockroaches.forEach(function(r) { r.vx += (Math.random()-0.5)*20; r.vy += (Math.random()-0.5)*20; });
    }
  },

  wakeUpIcon(icon) {
    icon.state = 'alive';
    icon.el.classList.add('alive');
    icon.el.style.opacity = '1';
    icon.el.style.pointerEvents = '';
    icon.vx = (Math.random() - 0.5) * 80;
    icon.vy = (Math.random() - 0.5) * 80;
    icon.dirChangeTimer = 1;
    icon.hideTimer = 0;
    icon.targetHole = null;
    this.addChaos(5);
  },

  updateClock() {
    const now = new Date();
    const h = now.getHours();
    const m = now.getMinutes().toString().padStart(2, '0');
    document.getElementById('clock').textContent = h + ':' + m;
  },
};

// ==================== MOUSE EVENTS ====================
document.addEventListener('mousemove', e => {
  // Reset idle timer & dismiss screensaver
  game.idleTimer = 0;
  if (game.screensaverActive) game.dismissScreensaver();
  if (!game.dragging) return;
  const areaRect = game.gameArea.getBoundingClientRect();
  game.dragging.x = e.clientX - areaRect.left - game.dragOffset.x;
  game.dragging.y = e.clientY - areaRect.top - game.dragOffset.y;
  game.dragging.el.style.left = game.dragging.x + 'px';
  game.dragging.el.style.top = game.dragging.y + 'px';
});

document.addEventListener('mouseup', e => {
  if (!game.dragging) return;
  const icon = game.dragging;
  game.dragging = null;
  icon.el.classList.remove('caught');

  // Check if near home position
  const dx = icon.x - icon.homeX;
  const dy = icon.y - icon.homeY;
  const dist = Math.sqrt(dx * dx + dy * dy);

  if (dist < 50) {
    // Snap to home
    icon.x = icon.homeX;
    icon.y = icon.homeY;
    icon.el.style.left = icon.x + 'px';
    icon.el.style.top = icon.y + 'px';
    icon.state = 'sitting';
    icon.el.classList.remove('alive', 'hiding');
    icon.el.style.opacity = '1';
    icon.el.style.pointerEvents = '';
    icon.escapeDelay = 8 + Math.random() * 15;
    icon.timer = 0;
    icon.hideTimer = 0;
    icon.targetHole = null;
    SFX.play('place');
    game.addChaos(-10);
    game.showPopup(icon.x, icon.y, '-10 —Ö–∞–æ—Å');
  } else {
    // Still alive, keeps running
    icon.state = 'alive';
    icon.el.classList.add('alive');
    icon.vx = (Math.random() - 0.5) * 80;
    icon.vy = (Math.random() - 0.5) * 80;
    icon.dirChangeTimer = 0.5;
  }
});

// Game area click for hammer
document.getElementById('game-area')?.addEventListener?.('mousedown', e => {
  if (game.hammerMode && game.phase === 'playing') {
    const areaRect = game.gameArea.getBoundingClientRect();
    const x = e.clientX - areaRect.left;
    const y = e.clientY - areaRect.top;
    game.hammerStrike(x, y);
  }
});

// Close start menu on outside click
document.addEventListener('click', e => {
  if (game.startMenuOpen) {
    const menu = document.getElementById('start-menu');
    const btn = document.getElementById('start-btn');
    if (!menu.contains(e.target) && !btn.contains(e.target)) {
      game.closeStartMenu();
    }
  }
});

// ==================== INIT ====================
window.addEventListener('load', () => {
  // Ensure audio context starts on user interaction
  document.addEventListener('click', () => SFX.ensure(), { once: true });
  game.init();
});
</script>
</body>
</html>
